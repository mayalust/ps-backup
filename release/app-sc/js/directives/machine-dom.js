define(["directives/directives","echarts","jquery-ui","Array"],function(e,c){"use strict";function t(i){var e={restrict:"A",scope:{chart:"="},link:function(e,a,t){i(function(){e.$watch("chart",function(e,t,i){if(e){var n=$(a).find(".inner")[0];$(a).height(.5*$(a).width());var r=c.init(n,"macarons");r.setOption(e),$(window).on("resize."+$randomString(),function(){$(a).height(.5*$(a).width()),r.resize()})}})})}};return e}function i(t){var e={restrict:"A",scope:{chart:"=",preview:"="},link:function(i,n,e){t(function(){var e=$("<canvas id='uploadImage'></canvas>"),t=e[0];function r(e){i.$apply(function(){i.preview.icon=e.target.result})}e.css({width:"80px",height:"80px"}),$(n).append(e),t.addEventListener("dragover",function(e){e.preventDefault()},!1),t.addEventListener("drop",function(e){e.preventDefault();var t=e.dataTransfer.files;if(0<t.length){var i=t[0];if("undefined"!=typeof FileReader&&-1!=i.type.indexOf("image")){var n=new FileReader;n.onload=r,n.readAsDataURL(i)}}},!1)})}};return e}e.registerDirective("epuipmentEchart",t),t.$inject=["$timeout"],e.registerDirective("dragIcon",i),i.$inject=["$timeout"]});
//# sourceMappingURL=../../../map/app-sc/js/directives/machine-dom.js.map
