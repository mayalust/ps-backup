function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}define(["controllers/controllers","Array"],function(e){"use strict";e.initController("viewFreeboardCtrl",["$scope","$state","$stateParams","userEnterpriseService","$rootScope","$routeParams","resourceUIService","$timeout","growl","$q","$window","$location","viewFlexService","freeboardservice","userLoginUIService","roleViewService","commonMethodService",function(n,e,r,t,o,i,a,c,s,l,f,u,p,d,g,b,y){r.page;var v,m,S=r.parameter,C=n.$watch("baseConfig",function(e,o,n){n.baseConfig&&(n.baseConfig.openSidebar||($(".sidebar-toggle").css("display","none"),$(".main-sidebar").css("display","none"),$(".sidebar-mini.sidebar-collapse .content-wrapper").css("cssText","margin-left: 0px!important")),C())});n.signClick=function(){f.location.href="../app-freeboard/index.html#/service/view/scenter"},n.naviClick=function(e,o){$("#free-board").trigger("naviClick"),f.location.href="../app-sc/index_freeboard.html#/freeboard/"+e+"/"+encodeURIComponent(JSON.stringify(o))},n.bgColorFn=function(e){return{"background-color":e||"#eee"}},o.setCurrentTab=function(e){n.navigation[n.navigation.length-1].label=e;var o=["0"];if(S)o=JSON.parse(S);"object"!=_typeof(o[o.length-1])&&(o[o.length-1]={}),o[o.length-1].tabLabel=e,r.parameter=JSON.stringify(o)},v=function(e){console.assert(e,"roleID is not Defined!!");var o=e.split(",").map(function(e){return n=e,r=l.defer(),t.queryEnterpriseRole(function(e){if(0==e.code){var o=e.data.find(function(e){return e.roleID==n});r.resolve(o)}else r.reject(e)}),r.promise;var n,r});l.all(o).then(function(a){0<function(){var e,o,n,r=[];for(var t in a){var i=(e=a[t].values,n=o=void 0,o=new RegExp("^\\{.*\\}$","g"),n=new RegExp("^\\[.*\\]$","g"),o.test(e)||n.test(e)?JSON.parse(e):null);i&&Array.prototype.push.apply(r,i)}return r}().length?getViewByFunctionCode_back({code:0,data:{viewId:22426504462e4}}):b.getViewByFunctionCode("M24",getViewByFunctionCode_back)})},(m=g.user||{}).roleID?v(m.currentRoleID+""):g.getCurrentUser(function(e){v(e.currentRoleID+"")}),n.$on("CHANGEDASHBOARDVIEWS",function(e,o){getViewByFunctionCode_back({code:0,data:o.data})})}])});
//# sourceMappingURL=../../../map/app-sc/js/controllers/view-freeboard-ctrl.js.map
