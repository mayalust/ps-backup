define([],function(){return function(t){var r,c=$("<div></div>").addClass("row"),e=t.element,a=t.global,l=t.element.style,s=e.$attr("parameters/city");$$.runExpression(e.$attr("advance/expression"),function(e){if("0"==e.code){var a=e.data;r=(r="function"==typeof a?a(t,system):a)||{}}else r={}});var d=r.$attr("on/init");l=l||{};var o=$("<div></div>").addClass("weather-layout js-weather-layout weather-flip"),n=t.weatherService;e.setCity=function(e){s=e};var i=function(){var t;t=function(e){var a=$("<div></div>").addClass("weather-widget col-md-12"),t=$("<div></div>").addClass("weather-widget-main"),r=$("<ul></ul>"),s=$("<div></div>");l&&t.css(l),r.css("margin",0),r.css("padding",0),r.css("list-style","none"),a.append(t),t.append(s),s.text(e[0].currentCity+"近期天气状况"),s.css("line-height","30px"),s.css("border-bottom","1px solid rgba(250,250,250,.2)"),s.css("background-color","rgba(250,250,250,.1)"),t.append(r);var d=function(e){var a=$("<li></li>");a.addClass("col-md-3"),a.css("float","left"),a.css("padding","10px"),a.css("border-right","1px solid rgba(250,250,250,.2)");var t=$("<p></p>");t.css("margin",0),t.text(e.date);var r=$("<p></p>");r.css("margin",0),r.addClass("title-deg"),r.text(e.temperature);var s=$("<p></p>");s.css("margin",0);var d=$("<i></i>").addClass("icn-weather");return d.css("font-size","60px"),d.attr("data-weather-icn",e.weather),s.append(d),a.append(s),a.append(r),a.append(t),a};for(var n in e[0].weather_data)r.append(d(e[0].weather_data[n]));var i=$("<li></li>");i.css("clear","both"),r.append(i),o.append(a),c.append(o)},n.getWeatherByCity(s,function(e){if("0"==e.code){var a=JSON.parse(e.data);"success"==a.status&&t(a.results)}})};if(e.render=i,d)try{d({target:e,global:a})}catch(e){"freeStyleCtrl"==route.current.$$route.controller&&growl.error("组件［天气信息］的初始化表达式配置发生错误！")}else i();return c}});
//# sourceMappingURL=../../map/toolkit/component/weather.js.map
