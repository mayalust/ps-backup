define([],function(){return function(n){var c=n.element,e=n.tabWrap,d=n.coldomInner,o=n.previewMode,s=n.traverseColumn,p=n.onTabClick,h=n.rowDom;if(null==c.tabInx){var a=c.children.find(function(n){return 1==n.default});c.tabInx=a?c.children.indexOf(a):0}var v=$("<div class='nav nav-tabs'></div>"),f=$("<li style='cursor : pointer;'><a><span class='glyphicon glyphicon-plus'></span><span class=''>创建标签</span></a></li>");"vertical"==c.$attr("parameters/align")&&(v.addClass("vertical"),e.css("float","left"),e.css("width","100px"),o||(d.css("float","left"),d.css("width","calc( 100% - 100px )"))),e.append(v);!function l(){for(var n in v.children().remove(),o||v.append(f),c.children)!function(a,i){var e=$("<li style='cursor:pointer;'><a></a></li>"),n=$("<span></span>"),r=$("<span class='proudsmart ps-edit' style='cursor:pointer;'></span>"),t=$("<span class='glyphicon glyphicon-remove' style='cursor:pointer;'></span>");n.css("padding-right","5px"),r.css("padding-right","5px"),c.tabInx==a?(i.display="block",e.addClass("active")):i.display="none",i.tabId=a,e.attr("id",a),n.text(i.tabName),e.find("a").append(n),o?v.append(e):(e.find("a").append(r),e.find("a").append(t),f.before(e),r.on("click",function(n,e){n.stopPropagation(),p({event:n,ui:e,target:i,parent:c})}),t.on("click",function(n){n.stopPropagation(),1<c.children.length&&(c.children.$remove(function(n,e){return a==n}),c.tabInx>=a&&0<c.tabInx&&c.tabInx--,o?(h.children("[tabId]").remove(),l(),s(h,c.children,o)):(d.children().remove(),l(),s(d,c.children,o)))})),e.on("click",function(){for(var n in v.find(".active").removeClass("active"),e.addClass("active"),c.tabInx=a,c.children)c.children[n].display="none";i.display="block",o?(h.children("[tabId]").remove(),l(),s(h,c.children,o)):(d.children().remove(),l(),s(d,c.children,o))})}(n,c.children[n]);f.on("click",function(){c.children.push({id:$randomString(32),tabName:"新建标签页",tabId:c.children.length-1,type:"tabShowItem",display:"none",children:[]}),o?(h.children("[tabId]").remove(),l(),s(h,c.children,o)):(d.children().remove(),l(),s(d,c.children,o))})}()}});
//# sourceMappingURL=../../map/toolkit/component/tabshow.js.map
