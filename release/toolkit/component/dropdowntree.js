define([],function(){return $.fn.dropdowntree=function(e){var a=e.options||{},v=(e.format,$("<select></select>").addClass("form-control")),h=e.value,u=e.format.key||"id",f=e.format.children||"children",l=e.placeholder||"请选择...",C=[],d=$("<div></div>").attr("id","container").addClass("noview").css("border-top","1px solid #ddd"),s=$("<div></div>").addClass("children"),b=e.change;v.on("mousedown",function(e){e.preventDefault()}),v.append($("<option id='selectlabel' value='selectlabel'>"+l+"</option>")),v.on("click",function(e){function a(){d.addClass("noview"),$("body").off("click.body"),v.removeClass("extend")}d.hasClass("noview")&&(d.removeClass("noview"),v.addClass("extend"),setTimeout(function(){$("body").on("click.body",a)}))}),d.append(s),this.append(v),this.append(d),this.addClass("dropdowntree"),function c(e,p,r){e.forEach(function(a){var l=$("<div></div>").addClass("wrap"),d=$("<div></div>").addClass("glyphicon"),e=$("<span></span>").addClass("labeltxt"),s=$("<div></div>").addClass("children"),o=a[f];d.data("children",o);var n,i;a.label=a.label,e.text(a.label?a.label:a.text);for(var t=0;t<=r;t++)n=$("<div></div>").addClass("vline"),(i=t)==r-1&&n.addClass("last"),n.css("left",10+8*i+"px"),l.append(n);l.append(d),l.append(e),l.attr(u,a[u]),l.css("padding-left",8*r+"px"),C.push(l),p.append(l),a[u]==h&&(v.children().remove(),v.append($("<option id='selectlabel' value='selectlabel'>"+(a.label?a.label:"请选择...")+"</option>")),l.removeClass("active"),l.addClass("active")),l.on("click",function(e){"function"==typeof b&&b({data:a}),v.children().remove(),v.append($("<option id='selectlabel' value='selectlabel'>"+(a.label?a.label:"请选择...")+"</option>")),C.forEach(function(e){e.removeClass("active")}),l.addClass("active"),$("body").trigger("click.body")}),o?(d.addClass("glyphicon-minus"),d.on("click",function(e){e.stopPropagation(),d.hasClass("glyphicon-minus")?(d.removeClass("glyphicon-minus").addClass("glyphicon-plus"),s.css("overflow","hidden"),s.animate({height:"100%",opacity:0},300,function(){s.css({display:"none"}).css("overflow","auto")})):(d.removeClass("glyphicon-plus").addClass("glyphicon-minus"),s.css("overflow","hidden").css("display","block"),s.animate({height:"100%",position:"absolute",opacity:1},300))}),p.append(s),c(o,s,r+1)):d.addClass("glyphicon glyphicon-duplicate").css("opacity",0)})}(a[f],s,1)},null});
//# sourceMappingURL=../../map/toolkit/component/dropdowntree.js.map
