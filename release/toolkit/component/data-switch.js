function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}define([],function(){return function(i){if("text"==i.type)i.hasOwnProperty("attributes")&&(i.$attr("advance/category","ci"),i.$attr("advance/condition",["kpi","{object:kpiQueryModel}"]),i.$attr("data/applied",!1),i.$attr("data/text/manual",i.$attr("attributes/text/value")),i.$attr("data/text/bind","(function (source){\n  return source.getSeries();\n})"),i.$attr("attributes/bgcolor/value")&&i.$attr("style/background-color",i.$attr("attributes/bgcolor/value")),i.$attr("attributes/bordercolor/value")&&i.$attr("style/border-color",i.$attr("attributes/bordercolor/value")),i.$attr("attributes/borderradius/value")&&i.$attr("style/border-radius",i.$attr("attributes/borderradius/value")+"%"),i.$attr("attributes/borderwidth/applied")?i.$attr("style/border-width",i.$attr("attributes/borderwidth/value")+"px"):i.$attr("style/border-width","0px"),i.$attr("style/margin","5px auto"),i.$attr("attributes/borderwidth/value")&&i.$attr("style/border-style","solid"),i.$attr("attributes/color/value")&&i.$attr("style/color",i.$attr("attributes/color/value")),i.$attr("attributes/fontSize/value")&&i.$attr("style/font-size",i.$attr("attributes/fontSize/value")+"px"),i.$attr("attributes/height/applied")&&i.$attr("style/height",i.$attr("attributes/height/value")+"px"),i.$attr("attributes/width/applied")&&i.$attr("style/width",i.$attr("attributes/width/value")+"px"),i.$attr("attributes/lineheight/value")&&i.$attr("style/line-height",i.$attr("attributes/lineheight/value")+"px"),i.$attr("attributes/position/value")&&i.$attr("style/text-align",i.$attr("attributes/position/value")));else if("linechart"==i.type){if(i.type="echart",i.hasOwnProperty("attributes")){i.$attr("data/applied","value"==i.$attr("valueGroup/data/value")),i.$attr("data/category",["time"]),i.$attr("data/timespan/value",i.$attr("attributes/timespan/value")),i.$attr("data/timespan/unit","hour"),i.$attr("data/frequency/value",i.$attr("attributes/minTimespan/value")),i.$attr("data/frequency/unit","second"),i.$attr("data/xAxis/manual",[i.$attr("attributes/xAxis/value").split(",")]),i.$attr("echart/yAxis/0/max",i.$attr("attrbutes/max/value")),i.$attr("echart/yAxis/0/min",i.$attr("attrbutes/min/value")),"area"==i.$attr("valueGroup/custom/0/attributes/fillType/value")&&i.$attr("echart/series/0/areaStyle/normal/color",i.$attr("valueGroup/custom/0/attributes/color/value")),"none"==i.$attr("valueGroup/custom/0/attributes/marker/value")&&i.$attr("echart/series/0/markPoint",null),0==i.$attr("attributes/title/applied")&&i.$attr("parameters/title",""),0==i.$attr("attributes/subtitle/applied")&&i.$attr("parameters/subtitle",""),i.$attr("advance/category","time"),i.$attr("advance/condition",["kpi","{object:kpiQueryModel}"]),i.$attr("echart/series/0/lineStyle/normal/color",i.$attr("valueGroup/custom/0/attributes/color/value")),0==i.data.applied&&(i.$attr("data/series",{}),i.$attr("style/height","400px"),i.$attr("echart/series/0/markPoint",{}),i.$attr("echart/series/1/markPoint",{}));var t=function(t,a){var e=i.$attr("attributes/boundaryGap/value");i.$attr("echart/xAxis/0/boundaryGap",e),"area"==a.$attr("attributes/fillType/value")?""!=a.$attr("attributes/color/value")&&(i.$attr("echart/series/"+t+"/lineStyle/normal/color",a.$attr("attributes/color/value")),i.$attr("echart/series/"+t+"/areaStyle/normal/color",a.$attr("attributes/color/value"))):"line"==a.$attr("attributes/fillType/value")&&(""!=a.$attr("attributes/color/value")&&i.$attr("echart/series/"+t+"/lineStyle/normal/color",a.$attr("attributes/color/value")),i.$attr("echart/series/"+t+"/type",a.$attr("attributes/showType/value")),i.$attr("data/series/manual/"+t+"/name",a.$attr("attributes/legend/value")),i.$attr("data/series/manual/"+t+"/data",a.$attr("attributes/value/value").split(",")))};for(var a in i.valueGroup.custom)t(a,i.valueGroup.custom[a]);delete i.attributes,delete i.valueGroup}}else if("barchart"==i.type){if(i.type="echart",i.hasOwnProperty("attributes")){i.$attr("data/applied","value"==i.$attr("valueGroup/data/value")),i.$attr("data/category",["time"]),i.$attr("data/timespan/value",i.$attr("attributes/timespan/value")),i.$attr("data/timespan/unit","hour"),i.$attr("data/frequency/value",i.$attr("attributes/minTimespan/value")),i.$attr("data/frequency/unit","second"),i.$attr("data/xAxis/manual",[i.$attr("attributes/xAxis/value").split(",")]),i.echart.yAxis[0].max=i.$attr("attrbutes/max/value"),i.echart.yAxis[0].min=i.$attr("attrbutes/min/value"),0==i.$attr("attributes/title/applied")&&i.$attr("parameters/title",""),0==i.$attr("attributes/subtitle/applied")&&i.$attr("parameters/subtitle",""),i.$attr("advance/category","time"),i.$attr("advance/condition",["kpi","{object:kpiQueryModel}"]),0==i.data.applied&&(i.$attr("data/series",{}),i.$attr("style/height","400px"),i.$attr("echart/series/0/markPoint",{}),i.$attr("echart/series/1/markPoint",{}));var e=[{name:"设备",data:"object"==_typeof(i.$attr("attributes/value/value"))?i.$attr("attributes/value/value").split(","):[]}];i.$attr("data/series/manual",e),delete i.attributes,delete i.valueGroup}}else if("piechart"==i.type){if(i.type="echart",i.hasOwnProperty("attributes"))if(i.data.category=["ci"],"alert"==i.$attr("attributes/dataType/value"))i.data.applied=!0,i.$attr("advance/condition",{kpiCodes:["alert_code_count"]}),i.$attr("advance/getfunction","kpiDataService.getKpiHierarchyValueList"),i.$attr("advance/category","alert"),i.$attr("data/series/bind","(function (source){\n  return source.alert.getSeries();\n})"),i.$attr("data/legend/bind","(function (source){\n  return source.alert.getLegend();\n})"),i.$attr("advance/condition",["alert",{category:"ci",isRealTimeData:!0,kpiCodes:["alert_code_count"],timePeriod:0}]),i.echart.series[0].radius=[0,"65%"],i.echart.series[0].center=["50%","50%"],delete i.attributes;else{var r=i.$attr("attributes/value/value").split(","),s=i.$attr("attributes/legend/value").split(",");i.data.applied=!1,i.$attr("data/series",{}),i.$attr("data/legend/manual",s),i.$attr("data/series/manual/0/data",r.map(function(t){var a=r.indexOf(t);return{name:s[a],value:t}})),i.echart.series[0].radius=[0,"65%"],i.echart.series[0].center=["50%","50%"]}}else if("gaugechart"==i.type){if(i.type="echart",i.hasOwnProperty("attributes")){if(i.data.category=["ci"],"alert"==i.$attr("attributes/dataType/value"))i.data.applied=!0,i.$attr("advance/condition",{kpiCodes:["alert_code_count"]}),i.$attr("advance/getfunction","kpiDataService.getKpiHierarchyValueList"),i.$attr("advance/category","alert"),i.$attr("data/series/bind","(function (source){\n  return source.alert.getSeries();\n})"),i.$attr("data/legend/bind","(function (source){\n  return source.alert.getLegend();\n})"),i.$attr("advance/condition",["alert",{category:"ci",isRealTimeData:!0,kpiCodes:["alert_code_count"],timePeriod:0}]),delete i.attributes;else{r=i.$attr("attributes/value/value").split(","),s=i.$attr("attributes/legend/value").split(",");i.data.applied=!1,i.$attr("data/series",{}),i.$attr("data/legend/manual",s),i.$attr("data/series/manual/0/data",r.map(function(t){var a=r.indexOf(t);return{name:s[a],value:t}})),i.echart.series[0].radius=[0,"65%"],i.echart.series[0].center=["50%","50%"]}delete i.attributes,delete i.valueGroup}}else if("featurechart"==i.type)i.$attr("parameters/type",1),i.$attr("style",{height:"400px"});else if("scatterchart"==i.type){if(i.type="echart",i.hasOwnProperty("attributes")){i.$attr("data/applied",!1);var n=i.$attr("valueGroup/custom");i.$attr("data/series/manual",[]);t=function(t,a){var e=JSON.parse("["+a.$attr("attributes/value/value")+"]"),r=[a.$attr("attributes/legend/value")];i.$attr("data/legend/manual",r),i.$attr("data/series/manual/"+t,{name:r[0],data:e})};for(var a in n)t(a,n[a]);i.$attr("parameters/title",""),i.$attr("parameters/subtitle",""),i.$attr("style/height","400px"),i.$attr("echart/series/0/markPoint",{}),i.$attr("echart/title",""),i.$attr("echart/series/0/symbolSize","function(value){\n return value[1] * 2 > 20 ? 20 : value[1] * 2;\n}"),i.$attr("echart/series/0/markLine/lineStyle/normal/width",2),i.$attr("echart/series/0/markLine/lineStyle/normal/color","#000"),i.$attr("echart/series/0/markLine/lineStyle/normal/type","solid"),i.$attr("echart/series/0/markLine/data",[{name:"中心线",type:"average"},{xAxis:50}])}}else if("downTab"==i.type)i.hasOwnProperty("attributes")&&(i.$attr("data/series/manual",[{data:[{name:i.$attr("attributes/subtitle/value"),value:i.$attr("attributes/title/value")}]}]),i.$attr("advance/category","ci"));else if("map"==i.type)i.type="echart",i.category=["scatter"],i.applied=!0,i.$attr("advance/category","scatter"),i.$attr("advance/condition",null),i.$attr("data/applied",!0),i.$attr("data/series/bind","(function (source){\n  return source.scatter.getSeries();\n})"),i.$attr("echart/series/0/label/normal/formatter","(function(value){\n return 'asd'; \n})"),i.$attr("echart/series/0/symbolSize","(function(value){\n var val = 10 + value[2];\n return val > 30 ? 30 : val;\n})");else if("mapchart"==i.type)i.type="echart",i.$attr("style/height","400px"),i.$attr("data/applied",!1),i.$attr("echart/general/backgroundColor","#eee"),i.$attr("echart/geo/itemStyle/normal/color","#d8b8a6"),i.$attr("echart/geo/itemStyle/normal/borderColor","#a37f6b");else if("mapchartDist"==i.type){i.type="echart",i.source="BMAP",i.$attr("style/height","800px"),i.$attr("data/applied",!1),i.$attr("data/series/manual",function(){return[{name:"电厂概况",data:function(t){for(var a=[],e=0;e<t.length;e++)a.push({name:t[e].address,value:[t[e].lng,t[e].lat,t[e].devCount],warning:t[e].warnning,src:t[e].src});return a}([{address:"巢湖电厂",lat:31.608733,lng:117.88049,devCount:5,warnning:0},{address:"海门发电公司",lat:31.956039,lng:121.31247,devCount:1,warnning:0,src:"../images/ksb/LUV.jpg"},{address:"华能北京热电厂",lat:39.929986,lng:116.395645,devCount:3,warnning:0,src:"../images/ksb/NLT.jpg"},{address:"华能东方电厂",lat:18.998161,lng:108.85101,devCount:12,warnning:0,src:"../images/ksb/SQ.jpg"},{address:"华能福州电厂",lat:26.047125,lng:119.330221,devCount:7,warnning:3,src:"../images/ksb/SEZ.jpg"},{address:"华能金陵电厂",lat:39.925237,lng:116.420509,devCount:1,warnning:0,src:"../images/ksb/SQ.jpg"},{address:"华能洛阳热电",lat:34.657368,lng:112.447525,devCount:1,warnning:0,src:"../images/ksb/HG.jpg"},{address:"华能南京热电有限公司",lat:32.057236,lng:118.778074,devCount:4,warnning:3,src:"../images/ksb/NLT.jpg"},{address:"华能瑞金电厂",lat:25.921831,lng:115.985867,devCount:2,warnning:2,src:"../images/ksb/LUV.jpg"},{address:"华能上安电厂",lat:39.763206,lng:115.839295,devCount:2,warnning:0,src:"../images/ksb/SEZ.jpg"},{address:"华能太仓电厂",lat:31.571904,lng:121.158978,devCount:3,warnning:0,src:"../images/ksb/SQ.jpg"},{address:"华能营口电厂",lat:40.668651,lng:122.233391,devCount:4,warnning:0,src:"../images/ksb/NLT.jpg"},{address:"华能岳阳电厂",lat:29.441833,lng:113.167978,devCount:1,warnning:0,src:"../images/ksb/LUV.jpg"},{address:"淮阴电厂",lat:33.664059,lng:118.935664,devCount:1,warnning:0,src:"../images/ksb/SQ.jpg"},{address:"金陵燃机",lat:39.925237,lng:116.420509,devCount:7,warnning:0,src:"../images/ksb/SEZ.jpg"},{address:"渑池热电",lat:34.839691,lng:111.802535,devCount:1,warnning:0,src:"../images/ksb/HG.jpg"},{address:"汕头电厂",lat:23.383908,lng:116.72865,devCount:1,warnning:0,src:"../images/ksb/SQ.jpg"},{address:"杨柳青电厂",lat:39.144457,lng:117.013943,devCount:1,warnning:0,src:"../images/ksb/LUV.jpg"},{address:"榆社电厂",lat:37.14005,lng:112.954181,devCount:1,warnning:0,src:"../images/ksb/HG.jpg"},{address:"玉环电厂",lat:28.179738,lng:121.284426,devCount:2,warnning:3,src:"../images/ksb/LUV.jpg"},{address:"长兴电厂",lat:30.983353,lng:119.81942,devCount:1,warnning:1,src:"../images/ksb/SQ.jpg"},{address:"中原燃机",lat:34.779474,lng:113.557281,devCount:2,warnning:0,src:"../images/ksb/HG.jpg"}])}]}.toString())}else if("totalItem"==i.type)i.hasOwnProperty("attributes")&&(i.$attr("attributes/color/value")&&i.$attr("style/background-color",i.$attr("attributes/color/value")),i.$attr("attributes/icon/value")&&i.$attr("parameters/icon",i.$attr("attributes/icon/value")),i.$attr("attributes/link/value")&&i.$attr("parameters/link",i.$attr("attributes/link/value")),i.$attr("data/series/manual",[{data:[{name:i.$attr("attributes/subtitle/value"),unit:i.$attr("attributes/unit/value"),value:i.$attr("attributes/title/value")}]}]),i.$attr("advance/category","ci"),i.$attr("advance/condition",["kpi","{object:kpiQueryModel}"]),"value"==i.$attr("attributes/title/data/value")&&(i.data.applied=!0));else if("box"==i.type)i.hasOwnProperty("attributes")&&i.$attr("parameters/title",i.$attr("attributes/text/value"));else if("progress"==i.type)i.hasOwnProperty("attributes")&&(i.$attr("advance/category","ci"),i.$attr("advance/condition",["kpi","{object:kpiQueryModel}"]),"value"==i.$attr("attributes/value/data/value")&&(i.data.applied=!0),i.$attr("data/series/manual",[{data:[{name:i.$attr("attributes/description/value"),value:i.$attr("attributes/value/value")}]}]));else if("block"==i.type)i.hasOwnProperty("attributes")&&(i.$attr("style/background-color",i.$attr("attributes/bgcolor/value")),i.$attr("style/border-color",i.$attr("attributes/bordercolor/value")),i.$attr("style/border-width",i.$attr("attributes/borderwidth/value")),i.$attr("style/margin",0));else if("sparkline"==i.type)i.hasOwnProperty("attributes")&&(i.$attr("data/applied",!0),i.data.timespan.value=7,i.data.timespan.unit="day",i.data.frequency.value=1,i.data.frequency.unit="day",i.$attr("advance/category","time"),i.$attr("advance/condition",["kpi","{object:kpiQueryModel}"]));else if("list"==i.type)i.type="list",i.source="LIST";else if("warning"==i.type)i.source="WARNING";else if("resourcelist"==i.type){if(i.type="listTable",i.source="LISTTABLE",null==i.$attr("advance/getfunction")&&i.$attr("advance/getfunction","serviceCenterService.resources.getAll"),null==i.$attr("advance/expression")){var l={on:{click:function(t){}.toString()},format:[{name:"设备名",value:"{item:label}",type:"text"},{name:"流量",value:"{random:(0,100)} + 'm³ /s'",type:"text"},{name:"进水压力",value:"{random:(0,100)} + 'Pa'",type:"text"},{name:"出水压力",value:"{random:(0,100)} + 'Pa'",type:"text"},{name:"温度",value:"{random:(0,100)} + '℃'",type:"text"},{name:"创建日期",value:"{item:createTime}",type:"date"},{name:"健康度",value:"{random:(0,100)}",type:"progress"},{name:"当前状态",value:"{item:managedStatus}",type:"status"}]};i.$attr("advance/expression",JSON.stringify(l,null,2))}}else"echart"==i.type?null==i.$attr("data/series/manual")&&i.$attr("data/series/manual",[]):"row"==i.type?i.hasOwnProperty("source")||i.$attr("source","ROW"):"image"==i.type?null==i.$attr("advance/expression")&&i.$attr("advance/expression",{}):i.type;return delete i.attributes,delete i.valueGroup,i}});
//# sourceMappingURL=../../map/toolkit/component/data-switch.js.map
