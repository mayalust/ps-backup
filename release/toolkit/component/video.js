define([],function(){return function(a){var r,t=a.element,i=a.timeout,l=t.$attr("parameters/autostart"),n=$("<div id='video'></div>"),s=t.$attr("parameters/videotype"),e=t.$attr("parameters/url"),o=t.$attr("style"),c=(t.$attr("parameters/username"),t.$attr("parameters/password"),t.$attr("advance/geturl"));$$.runExpression(t.$attr("advance/expression"),function(t){if("0"==t.code){var e=t.data;r=(r="function"==typeof e?e(a,system):e)||{}}else r={}});var p=r.$attr("on/init"),d=function(a){if("video"==s)$$.loadExternalJs(["jwplayer"],function(){i(function(){jwplayer("video").setup({file:a.url,width:n.parent().width(),height:o?o.height:300,title:"",autostart:l,aspectratio:"16:9",events:{onComplete:function(){},onPause:function(){}},analytics:{enabled:!0},provider:"http","http.startparam":"starttime"})})});else if("embed"==s){var t=$("<embed></embed>");t.attr("src",a.url),t.attr("quality","high"),t.attr("align","middle"),t.attr("width","100%"),t.attr("height",o?o.height:300),t.attr("flashvars","autoplay=true&play=true"),t.attr("allowScriptAccess","always"),t.attr("allowFullScreen",!0),t.attr("mode","transparent"),t.attr("type","application/x-shockwave-flash"),n.append(t)}else if("camera"==s){var e=$('<div id="videoPlay"></div>');e.css("width",n.parent().width()+"px"),e.css("height",o?o.height:300),$$.loadExternalJs(["ckplayer"],function(){var t={f:"../../../../toolkit/ckplayer/m3u8.swf",a:a.url,c:0,p:1,s:4,lv:1},e={bgcolor:"#FFF",allowFullScreen:!0,allowScriptAccess:"always",wmode:"transparent"};i(function(){CKobject.embedSWF("../toolkit/ckplayer/ckplayer.swf","videoPlay","video","100%","100%",t,e)})}),n.append(e)}else if("live"==s){var r=$('<video id="myPlayer" poster="" controls playsInline webkit-playsinline autoplay></video>');i(function(){r.css("width",n.parent().width()+"px"),r.css("height",o?o.height:300),r.attr("src",a.url),n.append(r),$$.loadExternalJs(["ezuikit"],function(){new EZUIPlayer("myPlayer")})})}};if(t.render=d,p)try{p({target:t})}catch(t){}else"fromResource"==c?t.getCurrentResource(function(t){t&&d({url:t.values.VIDEO})}):d({url:e});return n}});
//# sourceMappingURL=../../map/toolkit/component/video.js.map
