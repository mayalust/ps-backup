define([],function(){return function(e){var l=0,c=e.element,s=e.serviceCenterService,a=$("<div></div>").addClass("description-block border-right"),f=$("<i></i>"),u=$("<span></span>"),v=$("<span></span>").addClass("description-percentage"),C=$("<h5></h5>").addClass("description-header"),g=$("<span></span>").addClass("description-text");v.append(f),v.append(u),a.append(v),a.append(C),a.append(g);var t=function(){c.getCiKpi(function(e,a){c.data.applied?s.getValueListBytime(e,a,6048e5,void 0,"年月日","time","kpi","kpiDataService.getValueList",["kpi","{object:kpiQueryModel}"]).then(function(e){t(e)}):t();function t(e){var a,t,s,n,d,i,r,p,o={series:[{}]};a=o,c.parameters,t=e,p=c.data.applied?"bind":"manual",s=a,d=c.data.series[p],i=t,$$.runExpression(d,function(e){if("0"!=e.code)throw new Error(e.message);var a=e.data;r="function"==typeof a?a(i):a}),n=r,s.series=n,function(e){var a="0",t="-",s=e.series[0];if(s){var n=s.data;t=s.name,a=0<n.length?(last=n[n.length-1],l=Math.round((last-n[0])/n[0]*1e4)/100,l=isNaN(l)?"-":parseInt(l),last):(l=0,"-")}f.removeClass(),v.removeClass(),0<l?(f.addClass("fa fa-caret-up"),v.addClass("text-red")):l<0?(f.addClass("fa fa-caret-down"),v.addClass("text-green")):(f.addClass("fa fa-caret-left"),v.addClass("text-gray")),isNaN(l)?u.text(" - %"):u.text(" "+Math.abs(l)+"%"),C.text(a),t&&g.text(t.replace(/\-/,"/"))}(o)}})};return"function"==typeof c.data.defer?c.data.defer(function(){t()}):t(),c.style&&a.css(c.style),a}});
//# sourceMappingURL=../../map/toolkit/component/downTab.js.map
