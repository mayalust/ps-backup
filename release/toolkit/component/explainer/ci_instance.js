define([],function(){return function(t,n,i){var r=n.nodesDes,e=n.kpisDes,u=[],c=function(n,a){var i=[],r=function(n){-1==u.indexOf(n.instance)&&u.push(n.instance)};for(var e in t)r(t[e]);r=function(i){var n={ci:i,children:[]},r=function(n){return{kpi:n,data:function(i,r){var n=[];for(var e in u){var a=t.find(function(n){return n.kpiCode==r.id&&n.nodeId==i.id&&n.instance==u[e]});a?n.push(a.value):n.push("-")}return n}(i,n)}};for(var e in a)n.children.push(r(a[e]));return n};for(var e in n)i.push(r(n[e]));return i}(r,e),a=function(n){var e=[],i=function(r){var n=function(n){var i={name:r.ci.label+"-"+n.kpi.label,data:n.data};e.push(i)};for(var i in r.children)n(r.children[i])};for(var r in c)i(c[r]);return e},o=function(e){var a=[],n=function(i){var n=function(n){return"function"==typeof e?e({ci:i.ci.label,kpi:n.kpi.label,value:n.value}):i.ci.label+"-"+n.kpi.label};for(var r in i.children)a.push(n(i.children[r]))};for(var i in c)n(c[i]);return a};i({getSeries:a,getxAxis:function(n){return[u]},getLegend:o,data:{nodes:r,kpis:e,legend:o(),series:a()}})}});
//# sourceMappingURL=../../../map/toolkit/component/explainer/ci_instance.js.map
