define([],function(){return function(n,e,d){e.nodesDes,e.kpisDes;var a,i=e.kpiDataService,u=e.resourceUIService,s=[{name:"highlight",data:[]},{name:"正常",data:[]},{name:"机组状态",data:[]},{name:"警告告警",data:[]},{name:"主要告警",data:[]},{name:"重要告警",data:[]},{name:"离线设备",data:[]},{name:"select",data:[]}],o=function(){return["正常","机组状态","警告告警","主要告警","重要告警","离线设备"]},r=function(){return s},l=[],c=[],f=[],v=function(){var e,a,t=[999998,999999].concat(f.map(function(e){return e.id}));e=function(i){if(0==i.code){var e=function(t){var e={},a=i.data.find(function(e){return e.nodeId==t.id&&"999998"==e.kpiCode}),n=i.data.find(function(e){return e.nodeId==t.id&&"999999"==e.kpiCode}),d=i.data.find(function(a){return a.nodeId==t.id&&f.some(function(e){return e.id==a.kpiCode})});t.values.standardAddress&&(e.name=t.values.standardAddress,e.label=t.label,e.value=[t.values.longitude,t.values.latitude],e.id=t.id,e.status=n?n.value:0,e.online=a?a.value:0,e.deviceStatus=d?d.value:0,-1!=e.label.indexOf("铅山温氏")||e.label.indexOf("永丰温氏"),0==e.online?s[6].data.push(e):0==e.deviceStatus?s[1].data.push(e):e.status<1?s[2].data.push(e):e.status<2?s[3].data.push(e):e.status<3?s[4].data.push(e):e.status<4&&s[5].data.push(e))};for(var a in n)e(n[a]);d({getLegend:o,getSeries:r,data:{series:r()}})}},a={category:"ci",isRealTimeData:!0,nodeIds:l,kpiCodes:t,startTime:null,endTime:null,timeRange:"",statisticType:"psiot",includeInstance:!0,condList:[]},i.getValueList(["kpi",a],e)};for(var t in n)a=n[t],l.push(a.id),-1==c.indexOf(a.modelId)&&c.push(a.modelId);!function t(n){var e=c[n];e?u.getKpisByModelId(e,function(e){if(0==e.code){var a=e.data.find(function(e){return"Device_Status"==e.label});a&&f.push(a),t(++n)}}):v()}(0)}});
//# sourceMappingURL=../../../map/toolkit/component/explainer/scatterMap_kangda.js.map
