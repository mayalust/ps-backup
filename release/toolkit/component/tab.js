define([],function(){return function(c){var r=c.element,n=c.tabWrap,s=c.coldomInner,o=c.previewMode,p=c.traverseColumn,h=c.onTabClick,b=c.rowDom;if(null==r.tabInx){var a=r.children.find(function(n){return 1==n.default});r.tabInx=a?r.children.indexOf(a):0}c.scope.tabInx=r.tabInx;var v=$("<div class='nav nav-tabs'></div>"),f=$("<li style='cursor : pointer;'><a><span class='glyphicon glyphicon-plus'></span><span class=''>创建标签</span></a></li>");"vertical"==r.$attr("parameters/align")&&(v.addClass("vertical"),n.css("float","left"),n.css("width","100px"),o||(s.css("float","left"),s.css("width","calc( 100% - 100px )"))),n.append(v);!function l(){for(var n in o||(v.children().remove(),v.append(f)),r.children)!function(e,i){var a=$("<li style='cursor:pointer;'><a></a></li>"),n=$("<span></span>"),t=$("<span class='proudsmart ps-edit' style='cursor:pointer;'></span>"),d=$("<span class='glyphicon glyphicon-remove' style='cursor:pointer;'></span>");n.css("padding-right","5px"),t.css("padding-right","5px"),r.tabInx==e?(i.display="block",a.addClass("active")):i.display="none",i.tabId=e,a.attr("id",e),n.text(i.tabName),a.find("a").append(n),o?v.append(a):(a.find("a").append(t),a.find("a").append(d),f.before(a),t.on("click",function(n,a){n.stopPropagation(),h({event:n,ui:a,target:i,parent:r})}),d.on("click",function(n){n.stopPropagation(),1<r.children.length&&(r.children.$remove(function(n,a){return e==n}),r.tabInx>=e&&0<r.tabInx&&r.tabInx--,o?(b.children("[tabId]").remove(),l(),p(b,r.children,o)):(s.children().remove(),l(),p(s,r.children,o)))})),a.on("click",function(){for(var n in v.find(".active").removeClass("active"),a.addClass("active"),r.tabInx=e,c.scope.tabInx=e,r.children)r.children[n].display="none";i.display="block",o?(b.children("[tabId]").css("display","none"),0<b.children("[tabId='tabId_"+e+"']").length?b.children("[tabId='tabId_"+e+"']").css("display","block"):p(b,r.children,o)):(s.children().remove(),l(),p(s,r.children,o))})}(n,r.children[n]);f.on("click",function(){r.children.push({id:$randomString(32),tabName:"新建标签页",tabId:r.children.length-1,type:"tabItem",display:"none",children:[]}),o?(b.children("[tabId]").css("display","none"),0<b.children("[tabId='tabId_"+index+"']").length?b.children("[tabId='tabId_"+index+"']").css("display","block"):p(b,r.children,o)):(s.children().remove(),l(),p(s,r.children,o))})}()}});
//# sourceMappingURL=../../map/toolkit/component/tab.js.map
