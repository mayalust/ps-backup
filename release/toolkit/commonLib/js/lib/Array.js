function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(window){var $Date=function(e){var t=new Date(e);if("Invalid Date"==t){var r=e.replace("T"," ").replace(/-/g,"/").split(".")[0];t=new Date(r)}return t};function remove(){var e=arguments[0],t=arguments[1];if("function"!=typeof e)throw new Error("callback is not a function!");for(var r in this)this.hasOwnProperty(r)&&e(r,this[r])&&(t&&(e=function(){return!1}),delete this[r]);reOrder.call(this)}function reOrder(){var e=0;for(var t in this)if(this.hasOwnProperty(t)){var r=this[t];delete this[t],this[e]=r,e++}this.length=e,Object.defineProperty(this,"length",{enumerable:!1})}Function.prototype.$CLASS=function(e){var t=new this;for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},Object.prototype.$delete=function(){for(var e,t=this,r=arguments[0].split("/");e=r.pop();)r.length?t=t[e]:delete t[e]},Object.prototype.$attr=function(){var e=this;if(1==arguments.length){var t=arguments[0].split("/");arguments[1];for(var r in t){var n=t[r];if(r<t.length-1&&("object"!=_typeof(e[n])||null==e[n])){e=void 0;break}e=e[n]}return e}if(2==arguments.length){t=arguments[0].split("/");var i=arguments[1];for(var r in t){n=t[r];r<t.length-1?("object"==_typeof(e[n])&&null!=e[n]||(e[n]={}),e=e[n]):e[n]=i}}},Object.prototype.$init=function(){var rs={};return this.hasOwnProperty("__$CLASS__")&&(rs=eval(this.__$CLASS__).$CLASS(this)),this.hasOwnProperty("__$OBJECT__")&&rs.$extension(eval(this.__$OBJECT__)),this.hasOwnProperty("__$ANCHOR__"),rs.traveseByChild(function(element,parent){var inx=parent.indexOf(element),target=parent[inx];element.hasOwnProperty("__$CLASS__")&&(parent[inx]=eval(element.__$CLASS__).$CLASS(element)),element.hasOwnProperty("__$OBJECT__")&&parent[inx].$extension(eval(element.__$OBJECT__)),element.hasOwnProperty("__$ANCHOR__")}),rs},Object.prototype.$find=function(e){},Array.prototype.$sum=function(e,t){var r=0;for(var n in this)r+=e(this[n]);return t&&(r/=this.length),(r-=0).toFixed(2)},Array.prototype.$remove=remove;var ArrElement=function(e){this.$clone(e)};function extend(e,t){for(var r in t)e[r]=t[r];return e}function clone(){var e,t=this;try{if(0==arguments.length)return a(e=new t.constructor,t),e;if(1!=arguments.length)throw new Error("no more than 1 parameters allowed.");if("object"!=_typeof(arguments[0]))throw new Error("target is not a object!!");(function(e){(function(){for(var e in this)this[e].hasOwnProperty(e)&&delete this[e]}).call(this),a(this,e)}).call(this,arguments[0])}catch(e){console.error(e)}function a(e,t,r){if(-1!==(r=r||[]).indexOf(t))throw new Error("circular JSON cannot be cloned!");var n=0;for(var i in t){if("object"!=_typeof(t[i])||null==t[i]||t[i]instanceof Date)null!=t[i]&&null!=t[i]&&t.hasOwnProperty(i)&&(e[i]=t[i]);else{var o=t[i].constructor;t.hasOwnProperty(i)&&(e[i]=new o,a(e[i],t[i],r.concat([t])))}n++}t instanceof Array&&(e.length=n,Object.defineProperty(e,"length",{enumerable:!1}))}}for(var i in ArrElement.prototype.remove=function(){var e=this.parent;remove.call(e,function(e,t){return t==this})},window.$Array=function(e){for(var t=0;t<e.length;t++)Object.defineProperty(e[t],"parentArr",{enumerable:!1,value:e}),e[t]=new ArrElement(e[t])},window.$Array.prototype.remove=remove,Array.prototype.$clone=clone,Object.prototype.$clone=clone,Object.prototype.$extension=function(){return function e(t,r){for(var n in r)null==t[n]&&(t[n]={}),"object"==_typeof(r[n])&&r[n]instanceof Array?r.hasOwnProperty(n)&&(t[n]=[],e(t[n],r[n])):"object"==_typeof(r[n])&&null!=typeof r[n]?r.hasOwnProperty(n)&&e(t[n],r[n]):null!=r[n]&&r.hasOwnProperty(n)&&(t[n]=r[n])}(this,arguments[0]),this},Object.prototype.$remapByChild=function(i){var e=i(this);return function e(t,r){for(var n in t)r[n]=i(t[n]),t[n].children&&(null==r[n].children&&(r[n].children=[]),e(t[n].children,r[n].children))}(this.children,e.children),e},Object.prototype.$recreateByChild=function(i){var e=i(this);this.$clone(e),function e(t,r){for(var n in t)r[n]=i(t[n]),t[n].children&&(null==r[n].children&&(r[n].children=[]),e(t[n].children,r[n].children))}(this.children,this.children)},Object.prototype.traveseByChild=function(n){n(this,[this]),function e(t){for(var r in t)n(t[r],t),t[r].children&&e(t[r].children)}(this.children)},Array.prototype.insertBefore=function(e,t){var r=this.length,n=[];for(var i in this)n[i]=this[i];for(var o in this)o==e?this[o]=t:e<o&&(this[o]=n[o-1]);this[r]=n[r-1]},Object.prototype.traverse=function(n){return function e(t){for(var r in t)_typeof(t[r]),"object"==_typeof(t[r])&&null!=t[r]&&t.hasOwnProperty(r)&&(t[r].parent=t,Object.defineProperty(t[r],"parent",{enumerable:!1}),n(r,t[r]),e(t[r]))}(this),clone},"function"!=typeof Array.prototype.find&&(Array.prototype.find=function(e){for(var t in this)if(e(this[t]))return this[t]}),Array.prototype)Object.defineProperty(Array.prototype,i,{enumerable:!1});for(var j in Object.prototype)Object.defineProperty(Object.prototype,j,{enumerable:!1});window.$randomString=function(e){e=e||32;var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",r=t.length,n="";for(i=0;i<e;i++)n+=t.charAt(Math.floor(Math.random()*r));return n},window.$valueListGroup=function(r,n,i){var o,a,e=this,s=1/0,l=0,t=[],c=[],u=[];e.eachValueListMerged=function(t){r.each(function(e){t(e)})},e.getLegend=function(){return u},e.getxAxisByTime=function(){var t=[];return new $Array(r.first().valueList).each(function(e){t.push($formatDate(new Date(e.timeStamp),i))}),t},e.getxAxisByCi=function(){return c},e.getValueByIndex=function(e){return r.indexOf(e)},e.demensionByKpi=function(e){},e.demensionByCi=function(e){},r.each(function(e){var t=e.valueList.length,r=parseInt((e.valueList[t-1].timeStamp-e.valueList[0].timeStamp)/t);u.push(e.nodeDes.label+"-"+e.kpiDes.label),c.push(e.nodeDes.label+"-"+e.kpiDes.label),n<r&&(n=r),s>e.valueList[0].timeStamp&&(s=e.valueList[0].timeStamp),l<e.valueList[t-1].timeStamp&&(l=e.valueList[t-1].timeStamp)});for(var f=s;f<=l;f+=n){var h=new Date(f);t.push($formatDate(h,i)),r.each(function(e){e.$valueList=e.valueList})}o=new $Array([]),r.each(function(e){var t=e.kpicode,r=o.find("kpiCode",t);if(r)for(var n in e.$valueList)_typeof(r.$valueList[n])==Array?r.$valueList[n].push(e.$valueList[n]):r.$valueList[n]=[r.$valueList[n],e.$valueList[n]];else o.push(JSON.parse(JSON.stringify(e)))}),a=new $Array([]),r.each(function(e){var t=e.nodeId,r=a.find("nodeId",t);if(r)for(var n in e.$valueList)_typeof(r.$valueList[n])==Array?r.$valueList[n].push(e.$valueList[n]):r.$valueList[n]=[r.$valueList[n],e.$valueList[n]];else a.push(JSON.parse(JSON.stringify(e)))})},window.$formatDate=function(e,t){var r=e.getMonth()+1,n=e.getFullYear(),i=e.getDate(),o=9<e.getHours()?e.getHours():"0"+e.getHours(),a=9<e.getMinutes()?e.getMinutes():"0"+e.getMinutes(),s=9<e.getSeconds()?e.getSeconds():"0"+e.getSeconds();if("Invalid Date"==e)return"-";switch(t){case"月日":return r+"/"+i;case"年月日":return n+"/"+r+"/"+i;case"年月日时":return n+"/"+r+"/"+i+" , "+o;case"年月日时分":return n+"/"+r+"/"+i+" , "+o+":"+a;case"时分秒":return o+":"+a+":"+s;case"时分":return o+":"+a;case"分秒":return a+":"+s;case"年月日时分秒":return n+"/"+r+"/"+i+" , "+o+":"+a+":"+s;default:return n+"/"+r+"/"+i}},window.$option=function(e){var t=this,n=e,i=JSON.parse(JSON.stringify(n.series[0]));t.setTitle=function(e){n.title.text=e},t.setLegend=function(e){n.legend.data=e},t.eachSeries=function(e){for(var t in n.series)e(t,n.series[t])},t.firstSeries=function(e){return n.series[0]},t.clearSeries=function(){n.series=[]},t.pushSeries=function(e,t){var r=JSON.parse(JSON.stringify(i));r.name=e,r.data=t,n.series.push(r)},t.setFirstxAxis=function(e){n.xAxis[0].data=e},t.getOption=function(){return n}}}(window);
//# sourceMappingURL=../../../../map/toolkit/commonLib/js/lib/Array.js.map
