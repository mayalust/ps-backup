function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}define({on:{init:function init(event){var target=event.target,selections=[],kpi,instance,instanLists=[],kpis=[],kpiss=[],titles=["基地","厂区","产线","设备区域","设备"],resourceCache=createCache();function getTitle(e){switch(e){case"devicegroup":case"index":return"虚拟大设备";case"production":return"设备区域";case"navigate":return"基地";case"device":return"设备";case"factory":return"厂区";case"motor":return"电机";case"viewByModel":return"设备"}}function createCache(){return function e(n,t){e[n]=t}}function clone(e){var n=[];for(var t in e)n[t]=e[t];return n}function toLowerCase(e){return"string"==typeof e?e.toLowerCase():""}function getPhysicalConfigById(id,callback){resourceCache[id]?callback(resourceCache[id]):target.getResourceById(id,function(resource){var sourceValue=eval(resource.values.MeasurePointLocate);if(sourceValue&&0<sourceValue.length){instanLists=[];for(var i=0;i<sourceValue.length;i++)for(var k in sourceValue[i])for(var j=0;j<sourceValue[i][k].length;j++)instanLists.push(sourceValue[i][k][j])}resourceCache[id]=resource&&resource.physicalConfig?resource.physicalConfig.accessConfigs:[],callback(resourceCache[id])})}function getDirectChild(e,n,t){return t<2}target.getDomainAreaLineTree(function(e){e.getRoot().then(function(e){function l(e,n){return n?(selections[e]=n[0],selections[e].children?l(e+1,selections[e].children):1e3<selections[e].modelId?selections[e]:null):null}function r(e){e?getPhysicalConfigById(e.id,function(e){kpis=e.filter(function(e){return!0}),t()}):t()}function t(){for(var o=[],e=function(t,e){var n,i=[{type:"label",value:getTitle(e.$location)||titles[t],class:"col-md-3"}];if(5<selections.length&&4==t)for(var s=function(t,e){i.push({type:"select",value:selections[t].id,options:selections[t].parent.children,class:"col-md-3",on:{change:function(e){var n=e.value;n.modelId<1e3?(selections[t]=n,selections=selections.slice(0,t+1),r(l(t+1,n.children))):r(selections[t]=n)}}})},c=t;c<selections.length;c++)s(c,selections[c]);else i.push((_defineProperty(n={type:"select",value:e.id,options:[]},"options",e.parent.children),_defineProperty(n,"class",t!=selections.length-1?"col-md-9":"col-md-6"),_defineProperty(n,"colSpan",3),_defineProperty(n,"on",{change:function(e){var n=e.value;n.modelId<1e3?(selections[t]=n,selections=selections.slice(0,t+1),r(l(t+1,n.children))):r(selections[t]=n)}}),n));o.push(i)},n=0;n<(5<selections.length?5:selections.length);n++)e(parseInt(n),selections[n]);0<instanLists.length&&o.push([{type:"label",value:"测点",class:"col-md-3"},{type:"select",value:instance,options:instanLists,class:"col-md-6",colSpan:2,on:{change:function(e){instance=e.value.name,kpiss=kpis.filter(function(e){return e.instance==instance}),t()}},format:{id:"name",label:"label"}}]),o.push([{type:"label",value:"指标",class:"col-md-3"},{type:"select",options:kpiss,class:"col-md-6",colSpan:2,on:{change:function(e){var n=e.value;kpi=n}},format:{id:"dataItemId",label:"kpiName"}},{type:"button",value:"加入对比",class:"col-md-3",btnclass:"btn btn-primary pull-right",on:{click:function(e){target.trigger("addToSelection",{selections:clone(selections),kpi:kpi})}}}]),target.render(o)}r(l(0,e[0].children))})})}}});
//# sourceMappingURL=../../map/solution/customview/urgentKPIcomparing_1.js.map
