define({on:{init:function(e){var r,l=e.target,u=[],s=[],d=["基地","厂区","产线","设备区域","设备"];resourceCache=function e(n,c){e[n]=c},l.getDomainAreaLineTree(function(e){e.getRoot().then(function(e){}),e.getChildren(function(){return!0}).then(function(e){function a(e,n){return n?(u[e]=n[0],u[e].children?a(e+1,u[e].children):"string"==typeof(c=u[e].resourceType)&&c.toLowerCase()?u[e]:null):null;var c}function i(e){var n,c;e?(n=e.id,c=function(e){s=e.filter(function(e){return"00"==e.instance}),r=s[0]||{},t()},resourceCache[n]?c(resourceCache[n]):l.getResourceById(n,function(e){resourceCache[n]=e&&e.physicalConfig?e.physicalConfig.accessConfigs:[],c(resourceCache[n])})):t()}function t(){for(var o=[],e=function(c,e){var n=[{type:"label",value:function(e){switch(e){case"devicegroup":case"index":return"虚拟大设备";case"production":return"设备区域";case"navigate":return"基地";case"device":return"设备";case"factory":return"厂区";case"motor":return"电机"}}(e.$location)||d[c],class:"col-md-3"}];if(5<u.length&&4==c)for(var t=function(c,e){n.push({type:"select",value:u[c].id,options:u[c].parent.children,class:"col-md-3",on:{change:function(e){var n=e.value;"device"!==n.resourceType?(u[c]=n,u=u.slice(0,c+1),i(a(c+1,n.children))):i(u[c]=n)}}})},r=c;r<u.length;r++)t(r,u[r]);else n.push({type:"select",value:e.id,options:e.parent.children,class:c!=u.length-1?"col-md-9":"col-md-6",colSpan:3,on:{change:function(e){var n=e.value;"device"!==n.resourceType?(u[c]=n,u=u.slice(0,c+1),i(a(c+1,n.children))):i(u[c]=n)}}});o.push(n)},n=0;n<(5<u.length?5:u.length);n++)e(parseInt(n),u[n]);r&&o.push([{type:"label",value:"指标",class:"col-md-3"},{type:"select",value:r.dataItemId,options:s,class:"col-md-6",colSpan:2,on:{change:function(e){var n=e.value;r=n,t()}},format:{id:"dataItemId",label:"kpiName"}},{type:"button",value:"加入对比",class:"col-md-3",btnclass:"btn btn-primary pull-right",on:{click:function(e){l.trigger("addToSelection",{selections:function(e){var n=[];for(var c in e)n[c]=e[c];return n}(u),kpi:r})}}}]),l.render(o)}i(a(0,root[0].children))})})}}});
//# sourceMappingURL=../../map/solution/customview/urgentKPIcomparing.js.map
