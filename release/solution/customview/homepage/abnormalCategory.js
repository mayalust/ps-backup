define({on:{init:function(t,e,n){var i=t.target,o={"1,count":"点检异常数","2,count":"注意告警数","3,count":"警告告警数","4,count":"危险告警数"};function r(t,e){var n=[];for(var i in t)n.push(e(i,t[i]));return n}function a(){this.resource=void 0}function u(t,e){this.title=t,this.data=e,this.x=void 0,this.y=void 0}a.prototype.getChildren=function(e){i.getDomainAreaLineTree(function(t){t.getChildren(function(t,e,n){return n<2}).then(function(t){this.resource=t,e(t)})})},a.prototype.getKpiValueList=function(n){this.getChildren(function(t){var e=t.map(function(t){return t.id});i.getKpiValueCi(e,[7203],function(t){n(t.reduce(function(t,e){return t[e.nodeId]=t[e.nodeId]||{},t[e.nodeId][e.instance]=e,t},{}))},{includeInstance:!0,isRealTimeData:!0})})},(new a).getKpiValueList(function(n){var t,e=(t=this.resource.map(function(t){var e=n[t.id]||{};return t.data=Object.keys(o).map(function(t){return{name:o[t],value:e[t]?e[t].value:0}}),t}),{tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{data:r(o,function(t,e){return e})},series:t.map(function(t,e){var n=new u(t.label,t.data);return n.setX(20+e%3*30),n.setY(30+45*Math.floor(e/3)),n.getData()}),graphic:{elements:t.map(function(t,e){var n=18+e%3*30,i=50+45*Math.floor(e/3);return{type:"text",top:i+"%",left:n+"%",style:{text:t.label,fill:"white",textAlign:"center",textVerticalAlign:"middle"}}})}});i.render(e)}),u.prototype.setX=function(t){this.x=t+"%"},u.prototype.setY=function(t){this.y=t+"%"},u.prototype.getData=function(){return{name:"告警信息",type:"pie",center:[this.x,this.y],radius:["25%","35%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"12",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:r(this.data,function(t,e){return{name:e.name,value:e.value||0}})}}}}});
//# sourceMappingURL=../../../map/solution/customview/homepage/abnormalCategory.js.map
