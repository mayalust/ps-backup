define({on:{init:function init(event){runtime("右边树开始加载");var target=event.target,global=event.global,resource=target.getValue("global/resource"),multiSelectValues=[],name=target.getValue("global/instance"),success=function success(resource){multiSelectValues=[];var accessConfigValues=resource.physicalConfig?resource.physicalConfig.accessConfigs:null;target.getAttrsByResource(resource,function(attrs){var MeasurePointLocate=attrs.MeasurePointLocate,sourceValue=eval(MeasurePointLocate)||"",sourceValueArr=[];for(var i in sourceValue)for(var j in sourceValue[i])for(var k in sourceValue[i][j]){var ins=sourceValue[i][j][k];ins.configValues=accessConfigValues.filter(function(e){return ins.name==e.instance}),sourceValueArr.push(ins)}sourceValueArr=sourceValueArr.filter(function(e){return!/\s*整体\s*/g.test(e.label)});var render=function r(){var e=function(e){return e.configValues},t=multiSelectValues.filter(e).map(e)[0];target.setValue("global/kpi",t),t?(target.trigger("showGeneralChart",!0),target.nextTick(function(){target.trigger("multiSelectValues",t)})):target.trigger("showGeneralChart",!1);var a=[[{type:"label",value:"测点选择"}],[{type:"checkboxlist",multiselect:!1,value:multiSelectValues.map(function(e){return e.name}),style:{padding:"0px"},on:{change:function(e){e.value;multiSelectValues=e.value,r()}},options:sourceValueArr,format:{id:"name",label:"label"}}]];event.target.render(a)};runtime("右边树加载完成"),0<sourceValueArr.length?(multiSelectValues=name?sourceValueArr.filter(function(e){return e.name==name}):[sourceValueArr[0]],render(),target.trigger("showGeneralChart",!0)):target.nextTick(function(){target.trigger("multiSelectValues",null),target.trigger("showGeneralChart",!1)})})};resource&&success(resource),target.off("tree_resourceChange.generalChartMulti"),target.on("tree_resourceChange.generalChartMulti",function(e){success(e.resource)})}}});
//# sourceMappingURL=../../map/solution/customview/generalMultiSelect.js.map
