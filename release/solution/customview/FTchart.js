define({on:{init:function init(event){var toString=Object.prototype.toString,target=event.target,global=event.global,kpi,type=0;target.$getCurrentResource(function(resource){var ci=resource?[resource.id]:[],sensor=target.getValue("global/sensor"),time=target.getValue("global/time"),kpi=sensor?[sensor.kpiId||sensor.id]:[],instance=sensor?sensor.instance:"",renderROWEchart=function renderROWEchart(ci,kpi,time){time=time||target.dateHandler();var params={time:0,kpiCodes:kpi||[],isRealTimeData:!1,nodeIds:ci||[],startTime:time.getUTCDateString(),endTime:time.getUTCDateString(),transformerType:"ROW",includeInstance:!0,queryInstances:instance};target.showLoading(),target.hideNoData(),event.target.postService("kpiDataFlexService","getKpiValueList",["kpi",params],function(returnData){if(target.hideLoading(),0<returnData.data.length){var data=eval(returnData.data[0].value),dataList=data[0],valueList=data[1];for(var i in valueList)valueList[i]=[dataList[i],valueList[i]];target.setValue("x0",dataList[0]),target.setValue("y0",valueList[0][1]),target.setValue("x1",dataList[180]),target.setValue("y1",valueList[180][1]),target.trigger("handleChange");var render=function t(a,e){var r=target.getValue("x0")||0,i=(target.getValue("x1"),{grid:[{top:"10%",width:"90%",left:"5%",height:"65%"},{top:"10%",width:"90%",left:"5%",height:"65%"},{top:"10%",width:"90%",left:"5%",height:"65%"}],tooltip:{alwaysShowContent:!0,trigger:"item",triggerOn:"none"},xAxis:[{type:"value",max:"dataMax",axisLabel:{show:!0},axisPointer:{label:{formatter:function(e){return e.seriesData[0]&&(target.setValue("x0",e.value),e.seriesData[0].data&&target.setValue("y0",e.seriesData[0].data[1]),target.trigger("handleChange"),1==type&&(0==a&&t(),a=!1)),e.value},backgroundColor:"#666"},lineStyle:{color:"#2285d3",width:2},handle:{show:!0,size:30,margin:40},value:r,snap:!0}},{type:"value",max:"dataMax",axisLabel:{show:!1},axisPointer:{label:{formatter:function(e){return e.seriesData[0]&&(target.setValue("x1",e.value),e.seriesData[0].data&&target.setValue("y1",e.seriesData[0].data[1]),target.trigger("handleChange")),e.value},backgroundColor:"#888"},lineStyle:{color:"#ff3a3a",width:2},handle:{show:!0,size:30,margin:40},value:180,snap:!0},gridIndex:1}],yAxis:[{type:"value",splitLine:{show:!0}},{type:"value",splitLine:{show:!1},gridIndex:1}],toolbox:{feature:{dataZoom:{yAxisIndex:!1},restore:{},saveAsImage:{type:"png",name:"振动分析-时域分析图",backgroundColor:"#0b2232"}},iconStyle:{normal:{borderColor:"#fff"},emphasis:{borderColor:"#e6e2e2"}}},series:[{type:"line",showSymbol:!1,data:valueList,markLine:void 0,markPoint:void 0,xAxisIndex:1,yAxisIndex:1,lineStyle:{normal:{opacity:1}}},{type:"line",showSymbol:!1,lineStyle:{normal:{opacity:0}},data:valueList}]});target.render(i).on("mousemove",function(e){})};render()}else target.showNoData()})};renderROWEchart(ci,kpi,time)})}}});
//# sourceMappingURL=../../map/solution/customview/FTchart.js.map
