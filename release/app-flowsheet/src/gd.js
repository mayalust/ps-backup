var AUTH_TOKEN,SCOPES="https://www.googleapis.com/auth/drive",CLIENT_ID="YOUR_CLIENT_ID",DEVELOPER_KEY="YOUR_DEVELOPER_KEY";function gdAuth(t,i){AUTH_TOKEN?t():gapi.auth.authorize({client_id:CLIENT_ID,scope:SCOPES,immediate:i},function(e){e&&!e.error?gapi.client.load("drive","v2",function(){AUTH_TOKEN=e.access_token,t()}):i&&gdAuth(t,!1)})}function gdLoad(i){function t(e){e.action==google.picker.Action.PICKED&&gapi.client.drive.files.get({fileId:e.docs[0].id}).execute(function(e){var t=new XMLHttpRequest;t.open("GET",e.downloadUrl),t.setRequestHeader("Authorization","Bearer "+AUTH_TOKEN),t.onload=function(){i(e.title,t.responseText)},t.send()})}gapi.load("picker",{callback:function(){var e=new google.picker.View(google.picker.ViewId.DOCS);e.setMimeTypes("application/octet-stream").setQuery("*.json"),(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.NAV_HIDDEN).setAppId(CLIENT_ID).setOAuthToken(AUTH_TOKEN).addView(e).addView(new google.picker.DocsUploadView).setDeveloperKey(DEVELOPER_KEY).setCallback(t).build().setVisible(!0)}})}function gdSave(e,t,i){var n="-------314159265358979323846",o="\r\n--"+n+"\r\n",a="application/octet-stream",r={title:(e||"JointJS - BPMN")+".json",mimeType:a},c=btoa(t),p=o+"Content-Type: application/json\r\n\r\n"+JSON.stringify(r)+o+"Content-Type: "+a+"\r\nContent-Transfer-Encoding: base64\r\n\r\n"+c+"\r\n---------314159265358979323846--",d=gapi.client.request({path:"/upload/drive/v2/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/mixed; boundary="'+n+'"'},body:p});i=i||function(e){d.execute(i)}}
//# sourceMappingURL=../../map/app-flowsheet/src/gd.js.map
