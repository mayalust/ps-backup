define(["controllers/controllers","bootstrap-dialog","Array"],function(e,n){"use strict";e.initController("ViewCmdbDomainCtrl",["$scope","$location","$routeParams","$timeout","kpiDataService","userLoginUIService","resourceUIService","alertService","SwSocket","Info","viewFlexService","unitService","growl","userDomainService","userEnterpriseService","dialogue",function(a,e,n,r,i,t,o,u,c,l,s,f,d,v,m,D){console.info("切换到域管理");var p,S=n.label;a.startSearch=function(){var e,t,n=(e=[a.treeData],t=[],function e(n){var r;for(var i in n)r=n[i],t.push(r),r.children&&e(r.children)}(e),t).filter(function(e){return-1!=e.name.indexOf(a.query)});""!=a.query&&null!=a.query?a.$broadcast("SEARCHDATA",n):a.$broadcast("RENDERDATA")};var b=function(){var r=function(e){if(0==e.code)if(p=e.data,S){var n=[];for(var r in p)if(p[r].id==S){n=p[r];break}a.treeData=n}else a.treeData=function(i){var t,e=function(e){var n=e.parentID,r=i.find(function(e){return n==e.id});0!=n&&r&&null!=r?(null==r.children&&(r.children=[]),e.parent=r,Object.defineProperty(e,"parent",{enumerable:!1}),r.children.push(e)):(e.parent=null,Object.defineProperty(e,"parent",{enumerable:!1}),t=e)};for(var n in i)e(i[n]);return t}(p)};if(a.menuitems.isloaded)a.baseConfig.extendDomain?o.getDomainsByFilter({},r):m.findEnterpriseDomain(r);else var i=a.$watch("menuitems",function(e,n){a.menuitems.isloaded&&(a.baseConfig.extendDomain?o.getDomainsByFilter({},r):m.findEnterpriseDomain(r),i())},!0)};t.user.isAuthenticated?b():a.$on("loginStatusChanged",function(e,n){t.user.isAuthenticated&&b()})}])});
//# sourceMappingURL=../../../map/app-oc/js/controllers/view-cmdb-domain-ctrl.js.map
