define(["directives/directives"],function(e){"use strict";e.initDirective("calendarDiv",["$timeout",function(e){return{restrict:"AE",controller:["$scope","$element","$attrs",function(e,l,t){function c(e){e.each(function(){var e={title:$.trim($(this).text())};$(this).data("eventObject",e),$(this).draggable({zIndex:1070,revert:!0,revertDuration:0})})}c($("#external-events div.external-event"));e.$on("CalendarStatusInit",function(e,t){!function(){var a=l,e=new Date,t=e.getDate(),r=e.getMonth(),o=e.getFullYear();a.fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},buttonText:{today:"today",month:"month",week:"week",day:"day"},events:[{title:"办公会议",start:new Date(o,r,1),backgroundColor:"#f56954",borderColor:"#f56954"},{title:"新设备上线测试",start:new Date(o,r,t-5),end:new Date(o,r,t-2),backgroundColor:"#f39c12",borderColor:"#f39c12"},{title:"会议",start:new Date(o,r,t,10,30),allDay:!1,backgroundColor:"#0073b7",borderColor:"#0073b7"},{title:"巡检",start:new Date(o,r,t,12,0),end:new Date(o,r,t,14,0),allDay:!1,backgroundColor:"#00c0ef",borderColor:"#00c0ef"},{title:"下线",start:new Date(o,r,t+1,19,0),end:new Date(o,r,t+1,22,30),allDay:!1,backgroundColor:"#00a65a",borderColor:"#00a65a"},{title:"查看Dashboard",start:new Date(o,r,28),end:new Date(o,r,29),url:"#/dashboard2",backgroundColor:"#3c8dbc",borderColor:"#3c8dbc"}],editable:!0,droppable:!0,drop:function(e,t){var r=$(this).data("eventObject"),o=$.extend({},r);o.start=e,o.allDay=t,o.backgroundColor=$(this).css("background-color"),o.borderColor=$(this).css("border-color"),a.fullCalendar("renderEvent",o,!0),$("#drop-remove").is(":checked")&&$(this).remove()}});var n="#3c8dbc";$("#color-chooser-btn");$("#color-chooser > li > a").click(function(e){e.preventDefault(),n=$(this).css("color"),$("#add-new-event").css({"background-color":n,"border-color":n})}),$("#add-new-event").click(function(e){e.preventDefault();var t=$("#new-event").val();if(0!=t.length){var r=$("<div />");r.css({"background-color":n,"border-color":n,color:"#fff"}).addClass("external-event"),r.html(t),$("#external-events").prepend(r),c(r),$("#new-event").val("")}})}()})}]}}])});
//# sourceMappingURL=../../../map/app-oc/js/directives/calendar-dom.js.map
