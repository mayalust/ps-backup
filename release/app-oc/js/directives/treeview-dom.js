define(["directives/directives"],function(e){"use strict";e.initDirective("treeviewCheckable",function(e){return{restrict:"A",controller:["$scope","$element","$attrs",function(o,e,n){var t=e;o.$on(Event.FUNCTIONINFOSINIT,function(e,n){var i=0,c=n.baseNode;t.treeview({levels:99,data:n.treeData,showTags:!0,showIcon:!1,showCheckbox:n.statusCheck,onNodeChecked:function(e,n){if(0==i){var t=a(n.functionCode);i=t.length-1,n.belong=1,c[n.functionCode]=!0,r(t,!0)}else n.belong=1,c[n.functionCode]=!0,i--;0==i&&o.changeNodesState(c,!0)},onNodeUnchecked:function(e,n){if(0==i){var t=a(n.functionCode);i=t.length-1,n.belong=0,c[n.functionCode]=!1,r(t,!1)}else n.belong=0,c[n.functionCode]=!1,i--;0==i&&o.changeNodesState(c,!1)}}),t.treeview("expandAll",{levels:99,silent:!0})});var r=function(e,n){n?t.treeview("checkNode",[e,{silent:$("#chk-check-silent").is(":checked")}]):t.treeview("uncheckNode",[e,{silent:$("#chk-check-silent").is(":checked")}])},a=function(e){return t.treeview("search",[e,{ignoreCase:!1,exactMatch:!1}])};$("#btn-check-all").on("click",function(e){t.treeview("checkAll",{silent:$("#chk-check-silent").is(":checked")})}),$("#btn-uncheck-all").on("click",function(e){t.treeview("uncheckAll",{silent:$("#chk-check-silent").is(":checked")})})}]}}),e.initDirective("ztreeCheckable",function(e){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,n,t){var i=n;e.$on(Event.FUNCTIONINFOSINIT+"_ztree",function(e,n){require(["ztree","ztree-excheck"],function(e){$.fn.zTree.init(i,n.setting,n.data)})})}]}}),e.initDirective("domainPicker1",function(t,e){return{restrict:"A",link:function(o,r,a,e){require(["bootstrap-treeview"],function(e){r.on("shown.bs.popover",function(){var e=$("#treeview1");t(e)(o);var n=function e(n){if(!a.gatewaydomainpath)return n;for(var t in n)return n[t].domainPath==a.gatewaydomainpath?[n[t]]:e(n[t].domains)}(o.domainListTree);e.treeview({data:n,onNodeSelected:function(e,n){if(""!=n.domainPath){if(r.attr("domainPath",n.domainPath),r.popover("hide"),a.model){var t=a.model.split("."),i=o;for(var c in t)if(i){if(c==t.length-1){i[t[c]]=n.domainPath;break}i=i[t[c]]}}r.val(n.name).change()}}})})})},controller:["$scope","$element","$attrs",function(e,n,t){n.attr("readonly",!0),n.data("content","<div id ='treeview1' slim-scroll height='220px'></div>"),n.popover({html:!0,trigger:"manual",placement:"auto bottom"}),n.on("click",function(){n.popover("show"),n.siblings(".popover").on("mouseleave",function(){n.popover("hide")})}),n.on("mouseleave",function(){setTimeout(function(){$(".popover:hover").length||n.popover("hide")},100)})}]}}),e.initDirective("domaintreeCheckable",function(e){return{restrict:"A",controller:["$scope","$element","$attrs",function(o,e,n){var t=e;o.$on(Event.DOMAININFOSINIT,function(e,n){var i=0,c=n.baseNode;t.treeview({levels:1,data:n.treeData,showTags:!0,showIcon:!1,showCheckbox:!0,onNodeChecked:function(e,n){if(0==i){var t=a(n.domainID);i=t.length-1,n.belong=1,c[n.domainID]=!0,r(t,!0)}else n.belong=1,c[n.domainID]=!0,i--;0==i&&o.changeDomainState(c,!0)},onNodeUnchecked:function(e,n){if(0==i){var t=a(n.domainID);i=t.length-1,n.belong=0,c[n.domainID]=!1,r(t,!1)}else n.belong=0,c[n.domainID]=!1,i--;0==i&&o.changeDomainState(c,!1)}})});var r=function(e,n){n?t.treeview("checkNode",[e,{silent:$("#chk-check-silent").is(":checked")}]):t.treeview("uncheckNode",[e,{silent:$("#chk-check-silent").is(":checked")}])},a=function(e){return t.treeview("search",[e,{ignoreCase:!1,exactMatch:!1}])};$("#btn-check-all").on("click",function(e){t.treeview("checkAll",{silent:$("#chk-check-silent").is(":checked")})}),$("#btn-uncheck-all").on("click",function(e){t.treeview("uncheckAll",{silent:$("#chk-check-silent").is(":checked")})})}]}})});
//# sourceMappingURL=../../../map/app-oc/js/directives/treeview-dom.js.map
