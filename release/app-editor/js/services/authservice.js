define(["app"],function(e){"use strict";e.factory("authService",["$http","$rootScope","serviceProxy",function(e,t,u){var r="V1"==u.version?"userFlexService":"userLoginUIService",o={loginPath:"/login",user:{isAuthenticated:!1,roles:null},viewLoadFinished:!1,viewlist:[]};function s(e){o.user.isAuthenticated=e,t.$broadcast("loginStatusChanged",e)}return o.getCurrentUser=function(t,e){u.get(r,"getCurrentUser",null,function(e){t&&t(e),null!=e&&""!=e?(o.user=e,s(o.user.isAuthenticated=!0)):s(!1)},e)},o.login=function(e,t,n,i){u.get(r,"login",[e,t],function(e){null!=e&&(o.user=e,s(o.user.isAuthenticated=!0)),n(e)},i)},o.logout=function(t,e){u.get(r,"logout",null,function(e){o.user={},s(o.user.isAuthenticated=!1),t(e)},e)},o.redirectToLogin=function(){t.$broadcast("redirectToLogin",null)},o}])});
//# sourceMappingURL=../../../map/app-editor/js/services/authservice.js.map
