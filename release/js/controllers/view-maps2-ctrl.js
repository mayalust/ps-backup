define(["controllers/controllers"],function(e){"use strict";e.initController("ViewMaps2Ctrl",["$scope","kpiDataService","SwSocket","Info","alertService",function(i,e,t,o,l){console.info("切换布局地图");var s={backgroundColor:"#404a59",title:{text:"",subtext:"",sublink:"",left:"center",textStyle:{color:"#fff"}},tooltip:{trigger:"item",formatter:function(e){return e.seriesName+":"+e.value[2]}},bmap:{center:[104.114129,37.550339],zoom:5,roam:!0,mapStyle:{styleJson:[]}},series:[{name:"告警数",type:"effectScatter",coordinateSystem:"bmap",data:[],symbolSize:function(e){return e?20<e[2]?20:e[2]<10?10:e[2]:0},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:function(e){return e&&0<e.value[2]?"#d73925":"#e08e0b"},shadowBlur:10,shadowColor:"#333"}}}]};o.get("../localdb/echarts-map.json",function(e){s.bmap.mapStyle.styleJson=e.styleJson_blue});i.$on(Event.CMDBINFOS4MAPINIT,function(e,t){var o={nodeIds:[],groupKey:"nodeId"};for(var a in s.series[0].data=[],t.option[0]){var r=t.option[0][a];if(r.values.hasOwnProperty("longitude")){o.nodeIds.push(r.id);var n={name:r.label,id:r.id,value:[r.values.longitude,r.values.latitude,0]};s.series[0].data.push(n)}}o.nodeIds=o.nodeIds.toString(),o.states="0",l.countFromCache(o,function(e){if(0==e.code){for(var t in s.series[0].data){var o=s.series[0].data[t];e.data.groupCountMap[o.id]&&(o.value[2]=e.data.groupCountMap[o.id].total)}i.$broadcast(Event.ECHARTMAPINFOSINIT,{option:s})}})})}]),e.initController("ViewMaps3Ctrl",["$scope","$attrs","$parse","kpiDataService","SwSocket","Info","alertService",function(o,e,t,a,r,n,i){console.info("切换布局地图");t(e.ngModel);var l=18;e.zoom&&(l=e.zoom);var s={x:104.114129,y:37.550339},u={backgroundColor:"#404a59",title:{text:"",subtext:"",sublink:"",left:"center",textStyle:{color:"#fff"}},tooltip:{trigger:"item",formatter:function(e){return e.seriesName}},bmap:{center:[s.x,s.y],zoom:l,roam:!0,mapStyle:{styleJson:[]}},series:[{name:"位置",type:"effectScatter",coordinateSystem:"bmap",data:[],symbolSize:function(e){return e?20<e[2]?20:e[2]<10?10:e[2]:0},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#ff0000",shadowBlur:10,shadowColor:"#333"}}}]};n.get("../localdb/echarts-map.json",function(e){u.bmap.mapStyle.styleJson=e.styleJson_blue});o.$watch(e.ngModel,function(e){o.init(e)}),o.init=function(e){if(e.values.hasOwnProperty("longitude")){var t={name:e.label,id:e.id,value:[e.values.longitude,e.values.latitude,0]};s.x=e.values.longitude,s.y=e.values.latitude,u.bmap.center=[s.x,s.y],u.series[0].data.push(t)}o.$broadcast(Event.ECHARTMAPINFOSINIT,{option:u})}}])});
//# sourceMappingURL=../../map/js/controllers/view-maps2-ctrl.js.map
