define(["directives/directives","bootstrap-dialog","datatables.net","datatables.net-bs","datatables.net-select"],function(t,e,a){"use strict";t.initDirective("workOrderTable",["$timeout","$compile",function(t,i){return{restrict:"A",controller:["$scope","$element","$attrs",function(o,t,e){var r,a=t;o.$on(Event.WORKORDERINIT,function(t,e){r&&(r.destroy(),a.empty());e.state;r=a.DataTable({dom:e.data&&0<e.data.length?$.ProudSmart.datatable.footerdom:"",language:$.ProudSmart.datatable.language,data:e.data,order:[[9,"desc"]],columns:[{data:"title",title:"工单名称"},{data:"ticketNo",title:"工单号"},{data:"ticketCategoryId",title:"工单流程"},{data:"status",title:"工单状态"},{data:"candidateUserOrGroup",title:"当前处理人"},{data:"commitTime",title:"发起时间"},{data:"finishedTime",title:"完成时间"},{data:"creatorName",title:"工单来源"},{data:"option",title:"操作",width:"150px",orderable:!1},{data:"ticketNo",visible:!1}],rowCallback:function(t,e,a){i(t)(o)},columnDefs:e.columnDefs})}),a.on("click","#revoke",function(t){var e=$(this).closest("tr"),a=r.row(e).data();o.cancelTicket(a.ticketNo)}),a.on("click","#history",function(t){var e=$(this).closest("tr"),a=r.row(e).data();location.href="#/workOrderTimeLine/"+a.ticketNo}),a.on("click","#del-btn",function(t){var e=$(this).closest("tr"),a=r.row(e).data();o.delTicket(a.ticketNo)})}]}}]),t.initDirective("orderPublishTable",["$timeout","$compile",function(t,i){return{restrict:"A",controller:["$scope","$element","$attrs",function(o,t,e){var r,a=t;o.$on(Event.WORKORDERINIT+"_order",function(t,e){r&&(r.destroy(),a.empty()),r=a.DataTable({dom:e.data&&0<e.data.length?$.ProudSmart.datatable.footerdom:"",language:$.ProudSmart.datatable.language,data:e.data,columns:e.columns,columnDefs:e.columnDefs,rowCallback:function(t,e,a){i(t)(o)}})}),a.on("click","#del-btn",function(t){var e=$(this).closest("tr"),a=r.row(e).data();o.delTicket(a.ticketNo)}),a.on("click","#release-btn",function(t){var e=$(this).closest("tr"),a=r.row(e).data();o.addWorkOrder(a)}),a.on("click","#submit-btn",function(t){t.preventDefault();var e=$(this).closest("tr").parent();r.row(e);o.isEditing=!1,e.removeClass("shown"),o.uploadOrder()}),a.on("click","#cancel-btn",function(t){t.preventDefault();var e=$("#newtr").closest("tr");r.row(e).data();e.css("display","none"),o.cancelOrderNo()})}]}}])});
//# sourceMappingURL=../../map/js/directives/workorder-dom.js.map
