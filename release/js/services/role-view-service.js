define(["../services/services.js"],function(e){"use strict";e.factory("roleViewService",["serviceProxy","userLoginUIService","$rootScope",function(e,f,n){var t={},o=function(c,s,a){var e=function(){var e,o,n=(e=f.user,o=[],function e(n){if(o.push(n),n.hasOwnProperty("function"))for(var t in n.function)e(n.function[t])}(e),o).find(function(e){return e[c]==s});if(!n)throw new Error("内部错误：找不到对应'"+name+"'的功能码");var t,i=n.functionCode,r=f.user.roleViewList.filter(function(e){return e.functionCode==i});if(0<r.length){var u=0<(t=r.sort(function(e,n){return e.roleId.length<n.roleId.length?0:1})).length?t[0]:null;a(u?{code:0,data:u,message:null}:{code:1001,data:null,message:"没找到对应的服务视图。"})}else a({code:1001,data:null,message:"此用户角色并没有配置相应的"+name+"视图，请询问系统管理员配置视图。"})};f.user.isAuthenticated?e():n.$on("loginStatusChanged",e)};return t.getViewByFunctionCode=function(e,n){o("functionCode",e,n)},t.getViewByFunctionName=function(e,n){o("name",e,n)},t}])});
//# sourceMappingURL=../../map/js/services/role-view-service.js.map
