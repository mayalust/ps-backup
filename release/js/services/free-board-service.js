define(["../services/services.js"],function(e){"use strict";e.factory("freeboardservice",["serviceProxy","serviceCenterService","$route","userDomainService","viewFlexService","$q","thridPartyApiService","resourceUIService","Info","growl","userLoginUIService","projectUIService","customMethodService","ticketTaskService","alertService","SwSocket","kpiDataService","$routeParams","commonMethodService",function(e,r,t,i,s,u,c,o,n,a,v,f,d,l,h,p,y,S,C){var I={};return Object.prototype.traveseByChild=function(i){i(this,[this]),function e(r){for(var t in r)i(r[t],r),r[t].children&&e(r[t].children)}(this.children)},I.InfoData={load:function(e){var r=this;r.defer=function(e){r.back=e},n.get(e,function(e){r.$extension(e),r.defer="LOADED","function"==typeof r.back&&r.back()})},defer:"WAIT"},Object.defineProperty(Object.prototype,"traveseByChild",{enumerable:!1}),I.replaceCiKpi=function(e,r,t,i,c){if(void 0===c)throw new Error("replaceCiKpi error, scope is not defined");var o=this,n=e.$clone(),a=[];n.layout.traveseByChild(function(e){"injector"==e.type&&(e.children=[])}),n.layout=e.layout.$remapByChild(function(e){var r=C(e,c);return r.setRootTarget(i),r}),o.$clone(n),o.layout.traveseByChild(function(t){var i=u.defer(),c=function(){t.data?t.getCiKpi(function(e,r){t.data&&(t.data.resource=e,t.data.kpi=r),i.resolve("success")}):i.resolve("success")};if(t.source)if("TOPO"==t.source){var e=t.viewId;$$.cacheAsyncData.call(s.getViewById,[e],function(e){if(0==e.code&&null!=e.data){var r=JSON.parse(e.data.content);t.JSON=r}c()})}else c();else c();a.push(i.promise)}),u.all(a).then(function(){r(o)})},I}]),e.factory("dataservice",["serviceProxy","serviceCenterService","$q","resourceUIService","Info",function(e,r,t,i,c){return{}}])});
//# sourceMappingURL=../../map/js/services/free-board-service.js.map
