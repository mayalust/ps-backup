define(["controllers/controllers"],function(e){"use strict";e.initController("loginCtr",["$scope","$rootScope","Info","userLoginUIService",function(o,s,e,t){o.user={username:"",password:""},o.errorMsg="",o.slide="1",o.$watch("user.username",function(e,r){o.errorStatus=0}),o.$watch("user.password",function(e,r){o.errorStatus=0}),o.loginClick=function(e){var r=window.event?e.keyCode:e.which;if(13==r||null==r){if(""==o.user.username)return o.errorStatus=1,void(o.errorMsg="登录名不能为空");if(""==o.user.password)return o.errorStatus=2,void(o.errorMsg="密码不能为空");""!=o.user.username&&""!=o.user.password?t.login(o.user.username,o.user.password):(o.errorMsg="请输入用户名或密码",o.errorStatus=1)}},o.checkClick=function(){"checked"==$("#checkServe").attr("checked")?($("#checkServe").show(),$("#checkName").hide(),$("#checkServe").attr("checked",!1)):($("#checkServe").hide(),$("#checkName").show(),$("#checkServe").attr("checked",!0))},o.homeClick=function(){window.open("http://www.proudsmart.com")},s.indexShow=!1,s.personalShow=!0;var n=function(){var e=t.user.industry;e&&0!=e?0==t.user.loginTimes?window.location.href="../app-uc/password.html":window.location.href="app/index.html":t.user.appData?0==t.user.loginTimes?window.location.href="../app-uc/password.html":window.location.href="app/index.html":0==t.user.loginTimes?window.location.href="../app-uc/password.html":window.location.href="apps.html"};t.user.isAuthenticated?n():o.$on("loginStatusChanged",function(e,r){t.user.isAuthenticated?(s.staffName=t.user.userName,o.userInfo=t.user,n()):(o.errorMsg=t.result.message,o.errorStatus=1)})}])});
//# sourceMappingURL=../../../map/app-ac/js/controllers/user-ctrl.js.map
