{"version":3,"sources":["solution/customview/offline.js"],"names":["define","on","init","event","target","specialtyProps","getRootScope","getParameter","getDomainAreaLineTree_alertStatus","find","deviceCode","category","externalDevId","postService","devId","returnData","render","pageSize","data","length","format","name","value","type","elem","ele","text","forEach","valueCode","label","wrap","$","reportFile","filePath","fileName"],"mappings":"AAAAA,OAAO,CACLC,GAAM,CACJC,KAAQ,SAAcC,GACpB,IAAIC,EAASD,EAAMC,OACfC,EAAiBD,EAAOE,aAAa,WAAW,eAC3CF,EAAOG,aAAa,MAC7BH,EAAOI,kCAAkC,SAAUC,GAMnD,IAAwBC,EALD,UAAjBD,EAAKE,UAAwBF,EAAKG,gBAKhBF,EAJLD,EAAKG,cAKtBR,EAAOS,YAAY,wBAAyB,wCAAyC,CACnFC,MAAOJ,GACN,SAAUK,GACXX,EAAOY,OAAO,CACZC,SAAUF,EAAWG,KAAKC,OAC1BD,KAAMH,EAAWG,KACjBE,OAAQ,CAAC,CACPC,KAAQ,KACRC,MAAS,aACTC,KAAQ,OACRH,OAAU,SAAgBI,GACxB,MAAY,MAARA,EACK,KACU,KAARA,EACF,KACU,KAARA,EACF,KACU,KAARA,EACF,UADF,IAIR,CACDH,KAAQ,KACRC,MAAS,YACTC,KAAQ,OACRH,OAAU,SAAgBK,GACxB,IAAIC,EAAO,GAMX,OALArB,EAAesB,QAAQ,SAAUH,GAC3BA,EAAKI,WAAaH,IACpBC,EAAOF,EAAKK,SAGTH,IAER,CACDL,KAAQ,OACRC,MAAS,aACTC,KAAQ,SACRP,OAAU,SAAgBQ,GACxB,IAAIM,EAAOC,EAAE,4BAA8BP,EAAKQ,WAAWC,SAAW,KAAOT,EAAKQ,WAAWE,SAAW,QACxG,OAAOJ,IAER,CACDT,KAAQ,KACRC,MAAS,UACTC,KAAQ","file":"solution/customview/offline.js","sourcesContent":["define({\n  \"on\": {\n    \"init\": function init(event) {\n      var target = event.target;\n      var specialtyProps = target.getRootScope(\"myDicts\")[\"specialtyProps\"];\n      var id = target.getParameter('id');\n      target.getDomainAreaLineTree_alertStatus(function (find) {\n        if (find.category == \"Device\" && find.externalDevId) {\n          getOfflineList(find.externalDevId);\n        }\n      });\n\n      function getOfflineList(deviceCode) {\n        target.postService(\"deviceResumeUIService\", \"getDeviceOfflineReportListByCondition\", {\n          devId: deviceCode\n        }, function (returnData) {\n          target.render({\n            pageSize: returnData.data.length,\n            data: returnData.data,\n            format: [{\n              \"name\": \"状态\",\n              \"value\": \"conclusion\",\n              \"type\": \"text\",\n              \"format\": function format(elem) {\n                if (elem == '-1') {\n                  return '正常';\n                } else if (elem == '2') {\n                  return '注意';\n                } else if (elem == '3') {\n                  return '异常';\n                } else if (elem == '4') {\n                  return '警告';\n                }\n              }\n            }, {\n              \"name\": \"专业\",\n              \"value\": \"specialty\",\n              \"type\": \"text\",\n              \"format\": function format(ele) {\n                var text = \"\";\n                specialtyProps.forEach(function (elem) {\n                  if (elem.valueCode == ele) {\n                    text = elem.label;\n                  }\n                });\n                return text;\n              }\n            }, {\n              \"name\": \"报告文件\",\n              \"value\": \"reportFile\",\n              \"type\": \"jquery\",\n              \"render\": function render(elem) {\n                var wrap = $('<a target=\"_blank\" href=\"' + elem.reportFile.filePath + '\">' + elem.reportFile.fileName + '</a>');\n                return wrap;\n              }\n            }, {\n              \"name\": \"时间\",\n              \"value\": \"rptDate\",\n              \"type\": \"date\"\n            }]\n          });\n        });\n      }\n    }\n  }\n});"],"sourceRoot":"/source/"}