{"version":3,"sources":["solution/customview/urgentKPIcomparing_list.js"],"names":["define","on","init","event","target","groups","getPopupData","setValue","render","data","format","type","value","name","content","label","icon","class","click","elem","index","splice","off","obj","remap","area","selections","length","device","kpi","kpiName","collection","push"],"mappings":"AAAAA,OAAO,CACLC,GAAM,CACJC,KAAQ,SAAcC,GACpB,IAAIC,EAASD,EAAMC,OACfC,EAASD,EAAOE,gBAAkB,GACtCF,EAAOG,SAAS,oBAAqBF,GAErC,IAAIG,EAAS,SAASA,IACpBJ,EAAOI,OAAO,CACZC,KAAMJ,EACNK,OAAQ,CAAC,CACPC,KAAM,QACNC,MAAO,OACPC,KAAM,MACL,CACDF,KAAM,QACNC,MAAO,SACPC,KAAM,MACL,CACDF,KAAM,QACNC,MAAO,MACPC,KAAM,MACL,CACDA,KAAM,KACNF,KAAM,cACNG,QAAS,CAAC,CACRC,MAAO,KACPC,KAAM,OACNC,MAAO,yBACPhB,GAAI,CACFiB,MAAO,SAAeC,GACpB,IAAIC,EAAQD,EAAKC,MACjBf,EAAOgB,OAAOD,EAAO,GACrBZ,aAQZJ,EAAOkB,IAAI,kBACXlB,EAAOH,GAAG,iBAAkB,SAAUsB,GACpC,IAAIC,EAAQ,CACVC,KAAMF,EAAIG,WAAmC,EAAxBH,EAAIG,WAAWC,OAAa,EAAIJ,EAAIG,WAAWC,OAAS,GAAGZ,MAChFa,OAAQL,EAAIG,WAAWH,EAAIG,WAAWC,OAAS,GAAGZ,MAClDc,IAAKN,EAAIM,IAAIC,QACbC,WAAYR,GAEdlB,EAAO2B,KAAKR,GACZhB,MAEFA","file":"solution/customview/urgentKPIcomparing_list.js","sourcesContent":["define({\n  \"on\": {\n    \"init\": function init(event) {\n      var target = event.target;\n      var groups = target.getPopupData() || [];\n      target.setValue(\"addpop/selections\", groups);\n\n      var render = function render() {\n        target.render({\n          data: groups,\n          format: [{\n            type: \"label\",\n            value: \"area\",\n            name: \"区域\"\n          }, {\n            type: \"label\",\n            value: \"device\",\n            name: \"设备\"\n          }, {\n            type: \"label\",\n            value: \"kpi\",\n            name: \"指标\"\n          }, {\n            name: \"操作\",\n            type: \"buttonGroup\",\n            content: [{\n              label: \"删除\",\n              icon: \"null\",\n              class: \"btn btn-default btn-sm\",\n              on: {\n                click: function click(elem) {\n                  var index = elem.index;\n                  groups.splice(index, 1);\n                  render();\n                }\n              }\n            }]\n          }]\n        });\n      };\n\n      target.off(\"addToSelection\");\n      target.on(\"addToSelection\", function (obj) {\n        var remap = {\n          area: obj.selections[obj.selections.length > 3 ? 3 : obj.selections.length - 1].label,\n          device: obj.selections[obj.selections.length - 1].label,\n          kpi: obj.kpi.kpiName,\n          collection: obj\n        };\n        groups.push(remap);\n        render();\n      });\n      render();\n    }\n  }\n});"],"sourceRoot":"/source/"}