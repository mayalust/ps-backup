{"version":3,"sources":["solution/customview/main_inner.js"],"names":["define","on","init","event","json","target","timer","setTimeout","initParam","getScopeValue","item","trigger","data","clearTimeout","view","path","viewId","getViewById","content","JSON","parse","find","groups","elem","layout","render","Info","nographe","default"],"mappings":"AAAAA,OAAO,CACLC,GAAI,CACFC,KAAM,SAAcC,GAClB,IAAIC,EACAC,EAASF,EAAME,OACfC,EAAQC,WAAW,WACrB,IAAIC,EAAYH,EAAOI,cAAc,cAEjCD,GAAaA,EAAUE,MACzBL,EAAOM,QAAQ,gBAAiBH,KAGpCH,EAAOJ,GAAG,gBAAiB,SAAUW,GAG/BN,IACFO,aAAaP,GACbA,EAAQ,MAGV,IAAIQ,EAAOF,EAAKF,KACZK,EAAOH,EAAKG,KACZC,EAASF,EAAKE,OAElB,GAAIA,EACFX,EAAOY,YAAYD,EAAQ,SAAUF,GACnC,IAAII,EAAUJ,EAAKI,QAEnB,GAAIA,EAAS,CAGX,GAFAd,EAAOe,KAAKC,MAAMF,GAEdH,EAAM,CACR,IAAIM,EAAOjB,EAAKkB,OAAOD,KAAK,SAAUE,GACpC,OAAOA,EAAKR,MAAQA,IAEtBX,EAAKoB,OAASH,EAAKG,OAGrBnB,EAAOoB,OAAOrB,EAAM,YAEpBC,EAAOqB,KAAK,qDAAsD,SAAUC,GAC1EtB,EAAOoB,OAAOE,WAIf,CACUb,EAAKc,QACpBvB,EAAOqB,KAAK,gCAAkCZ,EAAKc,QAAU,QAAS,SAAUxB,GAC9E,GAAIW,EAAM,CACR,IAAIM,EAAOjB,EAAKkB,OAAOD,KAAK,SAAUE,GACpC,OAAOA,EAAKR,MAAQA,IAEtBX,EAAKoB,OAASH,EAAKG,OAGrBnB,EAAOoB,OAAOrB,EAAM","file":"solution/customview/main_inner.js","sourcesContent":["define({\n  on: {\n    init: function init(event) {\n      var json;\n      var target = event.target;\n      var timer = setTimeout(function () {\n        var initParam = target.getScopeValue(\"INITPARAMS\");\n\n        if (initParam && initParam.item) {\n          target.trigger(\"lv1viewchange\", initParam);\n        }\n      });\n      target.on(\"lv1viewchange\", function (data) {\n        debugger;\n\n        if (timer) {\n          clearTimeout(timer);\n          timer = null;\n        }\n\n        var view = data.item;\n        var path = data.path;\n        var viewId = view.viewId;\n\n        if (viewId) {\n          target.getViewById(viewId, function (view) {\n            var content = view.content;\n\n            if (content) {\n              json = JSON.parse(content);\n\n              if (path) {\n                var find = json.groups.find(function (elem) {\n                  return elem.path == path;\n                });\n                json.layout = find.layout;\n              }\n\n              target.render(json, \"ppp\");\n            } else {\n              target.Info('../../localdb/echartTemplate/baogang/nographe.json', function (nographe) {\n                target.render(nographe);\n              });\n            }\n          });\n        } else {\n          var viewPath = view.default;\n          target.Info('../../localdb/echartTemplate/' + view.default + \".json\", function (json) {\n            if (path) {\n              var find = json.groups.find(function (elem) {\n                return elem.path == path;\n              });\n              json.layout = find.layout;\n            }\n\n            target.render(json, \"ppp\");\n          });\n        }\n\n        ;\n      });\n    }\n  }\n});"],"sourceRoot":"/source/"}