{"version":3,"sources":["js/services/ticket-task-service.js"],"names":["define","services","factory","serviceProxy","service","base","getAllTickets","callback","get","findTickets","obj","commitTicket","ticket","isMyTicketTask","ticketId","getTicketsByStatusAndDeviceId","status","id","getTicket","ticketNo","getTicketsByDeviceId","getTicketTaskById","getTicketTasks","alertToTicket","alertId","getAlertDeviceList","params","saveTicket","cancelTicket","deleteTicket","doTask","ticketTask","getUsersByDeviceIdAndRoleAndSpecialty","deviceId","roleId","specialty","doTask4Baogang","values","getComplexHandleListWithCategorys","selector","ticketTaskQueryModel","pageRequest","getDeviceDiagnosticResumeAndAlertStatis","doTaskCloseAlert","getTicketsByStatus","getTicketTasksByStatus","getTicketTasksByCondition","paras","getTicketTasksByConditionAndPage","getTicketsByConditionAndPage","getDealTicketListByPage","claimAlert","getDeviceDiagnosticResumeOrTicketByPage","PageRequest","getInfoByPage","complexHandleAgain","taskId","complexHandel","getDeviceDiagnosticResumeAndAlertBypage","getKnowledgeByConditionWithPage","knowledgeQueryModel","alertTaskMergeDeal","taskIds","getTicketsByCondition","getDealTicketList","getTopicErrorDataList","topicErrorQueryModel"],"mappings":"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","file":"js/services/ticket-task-service.js","sourcesContent":["define(['../services/services.js'], function (services) {\n  'use strict';\n\n  services.factory('ticketTaskService', ['serviceProxy', function (serviceProxy) {\n    var service = {};\n    var base = \"ticketTaskService\";\n    /**\n     * 获取所有工单\n     * @param callback\n     */\n\n    service.getAllTickets = function (callback) {\n      serviceProxy.get(base, \"getAllTickets\", [], callback);\n    };\n    /**\n     * 工单查询\n     * @param callback\n     */\n\n\n    service.findTickets = function (obj, callback) {\n      serviceProxy.get(base, \"findTickets\", [obj], callback);\n    };\n    /**\n     * 提交工单\n     * @param ticket\n     * @param callback\n     */\n\n\n    service.commitTicket = function (ticket, callback) {\n      serviceProxy.get(base, \"commitTicket\", ticket, callback);\n    };\n    /**\n     * 查询该工单任务是否为当前登录用户的\n     * @param ticket\n     * @param callback\n     */\n\n\n    service.isMyTicketTask = function (ticketId, callback) {\n      serviceProxy.get(base, \"isMyTicketTask\", ticketId, callback);\n    };\n    /**\n     * 根据设备id获取工单\n     * @param ticket\n     * @param callback\n     */\n\n\n    service.getTicketsByStatusAndDeviceId = function (status, id, callback) {\n      serviceProxy.get(base, \"getTicketsByStatusAndDeviceId\", [status, id], callback);\n    };\n    /**\n     * 通过工单号获取工单\n     * @param ticketNo\n     * @param callback\n     */\n\n\n    service.getTicket = function (ticketNo, callback) {\n      serviceProxy.get(base, \"getTicket\", ticketNo, callback);\n    };\n    /**\n     * 通过设备Id，获取工单\n     * @param 设备Id\n     * @param callback\n     */\n\n\n    service.getTicketsByDeviceId = function (ticketNo, callback) {\n      serviceProxy.get(base, \"getTicketsByDeviceId\", ticketNo, callback);\n    };\n    /**\n     * 通过任务ID获取任务详情\n     * @param ticketNo\n     */\n\n\n    service.getTicketTaskById = function (ticketNo, callback) {\n      serviceProxy.get(base, \"getTicketTaskById\", ticketNo, callback);\n    };\n    /**\n     * 通过工单号,获取任务\n     * @param ticketNo\n     * @param callback\n     */\n\n\n    service.getTicketTasks = function (ticketNo, callback) {\n      serviceProxy.get(base, \"getTicketTasks\", ticketNo, callback);\n    };\n    /**\n     * 告警转工单\n     * @param alertId\n     * @param ticket\n     * @param callback\n     */\n\n\n    service.alertToTicket = function (alertId, ticket, callback) {\n      serviceProxy.get(base, \"alertToTicket\", alertId, ticket, callback);\n    };\n    /**\n     * 设备报警台数详情接口\n     * @param params = {\"nodeId\":515445641576264,\"severity\":4}\n     * @param callback\n     */\n\n\n    service.getAlertDeviceList = function (params, callback) {\n      serviceProxy.get(base, \"getAlertDeviceList\", params, callback);\n    };\n    /**\n     * 保存工单\n     * @param ticket\n     * @param callback\n     */\n\n\n    service.saveTicket = function (ticket, callback) {\n      serviceProxy.get(base, \"saveTicket\", ticket, callback);\n    };\n    /**\n     * 撤消工单\n     * @param ticketId\n     * @param callback\n     */\n\n\n    service.cancelTicket = function (ticketId, callback) {\n      serviceProxy.get(base, \"cancelTicket\", ticketId, callback);\n    };\n    /**\n     * 删除工单\n     * @param ticketId\n     * @param callback\n     */\n\n\n    service.deleteTicket = function (ticketId, callback) {\n      serviceProxy.get(base, \"deleteTicket\", ticketId, callback);\n    };\n    /**\n     * 执行工单任务\n     * @param ticketId\n     * @param followup\n     * @param callback\n     */\n\n\n    service.doTask = function (ticketTask, callback) {\n      serviceProxy.get(base, \"doTask\", ticketTask, callback);\n    };\n\n    service.getUsersByDeviceIdAndRoleAndSpecialty = function (deviceId, roleId, specialty, callback) {\n      serviceProxy.get(base, \"getUsersByDeviceIdAndRoleAndSpecialty\", [deviceId, roleId, specialty], callback);\n    };\n\n    service.doTask4Baogang = function (ticketNo, values, callback) {\n      serviceProxy.get(\"baogangTicketService\", \"doTask\", [ticketNo, values], callback);\n    };\n\n    service.getComplexHandleListWithCategorys = function (selector, ticketTaskQueryModel, pageRequest, callback) {\n      serviceProxy.get(\"baogangTicketService\", \"getComplexHandleListWithCategorys\", [selector, ticketTaskQueryModel, pageRequest], callback);\n    }; // 查询设备工况配置\n\n\n    service.getDeviceDiagnosticResumeAndAlertStatis = function (params, callback) {\n      serviceProxy.get(\"baogangTicketService\", \"getDeviceDiagnosticResumeAndAlertStatis\", [params], callback);\n    }; // 报警强制关闭\n\n\n    service.doTaskCloseAlert = function (ticketNo, obj, callback) {\n      serviceProxy.get(\"baogangTicketService\", \"doTaskCloseAlert\", [ticketNo, obj], callback);\n    };\n    /**\n     * 获取工单 10-未发布 100-执行中 200-已完成\n     * @param status\n     * @param callback\n     */\n\n\n    service.getTicketsByStatus = function (status, callback) {\n      serviceProxy.get(base, \"getTicketsByStatus\", status, callback);\n    };\n    /**\n     * 获取工单任务 0-待处理 100-处理中 200-已完成\n     * @param  status\n     * @param  callback\n     */\n\n\n    service.getTicketTasksByStatus = function (status, callback) {\n      serviceProxy.get(base, \"getTicketTasksByStatus\", status, callback);\n    };\n\n    service.getTicketTasksByCondition = function (paras, callback) {\n      serviceProxy.get(base, \"getTicketTasksByCondition\", paras, callback);\n    };\n\n    service.getTicketTasksByConditionAndPage = function (params, pageRequest, callback) {\n      serviceProxy.get(base, \"getTicketTasksByConditionAndPage\", [params, pageRequest], callback);\n    };\n\n    service.getTicketsByConditionAndPage = function (params, pageRequest, callback) {\n      serviceProxy.get(base, \"getTicketsByConditionAndPage\", [params, pageRequest], callback);\n    };\n\n    service.getDealTicketListByPage = function (params, pageRequest, callback) {\n      serviceProxy.get(base, \"getDealTicketListByPage\", [params, pageRequest], callback);\n    };\n\n    service.claimAlert = function (paras, callback) {\n      serviceProxy.get(\"baogangTicketService\", \"claimAlert\", paras, callback);\n    };\n\n    service.getDeviceDiagnosticResumeOrTicketByPage = function (params, PageRequest, callback) {\n      serviceProxy.get(\"baogangTicketService\", \"getDeviceDiagnosticResumeOrTicketByPage\", [params, PageRequest], callback);\n    };\n\n    service.getInfoByPage = function (params, PageRequest, callback) {\n      serviceProxy.get(\"baogangTicketService\", \"getInfoByPage\", [params, PageRequest], callback);\n    };\n\n    service.complexHandleAgain = function (taskId, complexHandel, callback) {\n      serviceProxy.get(\"baogangTicketService\", \"complexHandleAgain\", [taskId, complexHandel], callback);\n    };\n\n    service.getDeviceDiagnosticResumeAndAlertBypage = function (params, PageRequest, callback) {\n      serviceProxy.get(\"baogangTicketService\", \"getDeviceDiagnosticResumeAndAlertBypage\", [params, PageRequest], callback);\n    };\n\n    service.getKnowledgeByConditionWithPage = function (knowledgeQueryModel, pageRequest, callback) {\n      serviceProxy.get(\"knowledgeUIService\", \"getKnowledgeByConditionWithPage\", [knowledgeQueryModel, pageRequest], callback);\n    };\n\n    service.alertTaskMergeDeal = function (taskIds, values, callback) {\n      serviceProxy.get(\"baogangTicketService\", \"alertTaskMergeDeal\", [taskIds, values], callback);\n    };\n\n    service.getTicketsByCondition = function (paras, callback) {\n      serviceProxy.get(base, \"getTicketsByCondition\", paras, callback);\n    };\n\n    service.getDealTicketList = function (paras, callback) {\n      serviceProxy.get(base, \"getDealTicketList\", paras, callback);\n    };\n\n    service.getTopicErrorDataList = function (topicErrorQueryModel, callback) {\n      serviceProxy.get(\"kpiDataFlexService\", \"getTopicErrorDataList\", topicErrorQueryModel, callback);\n    };\n\n    return service;\n  }]);\n});"],"sourceRoot":"/source/"}