{"version":3,"sources":["js/services/view-flex-service.js"],"names":["define","services","factory","serviceProxy","service","getThirdPartyViews","callback","get","getAllMyViews","getMyViewEntry","viewId","getViewById","getPublishModelByView","viewInfo","publishView","getManageDashboard","saveManageDashboard","getModelDashboard","modelId","getServiceViewByModelId","buyView","updateView","getServiceViewMap","deleteView","id","deleteViews","ids","getDefaultView","parseInt","addView","releaseViews","viewIds","releaseView","getManagedViewsByType","viewType","domainPath","getViewsByOnlyRole","getManagedViewsByTypeAndRole","code","getViewsOnlyPublishedByTypeAndDomainPath"],"mappings":"AAAAA,OAAO,CAAC,2BAA4B,SAAUC,GAC5C,aAEAA,EAASC,QAAQ,kBAAmB,CAAC,eAAgB,SAAUC,GAC7D,IAAIC,EAAU,kBACVF,EAAU,CAKdG,mBAA6B,SAAUC,GACrCH,EAAaI,IAAIH,EAAS,qBAAsB,GAAIE,IAOtDE,cAAwB,SAAUF,GAChCH,EAAaI,IAAIH,EAAS,gBAAiB,KAAME,IAOnDG,eAAyB,SAAUC,EAAQJ,GACzCH,EAAaI,IAAIH,EAAS,iBAAkBM,EAAQJ,IAOtDK,YAAsB,SAAUD,EAAQJ,GACtCH,EAAaI,IAAIH,EAAS,cAAeM,EAAQJ,IAOnDM,sBAAgC,SAAUC,EAAUP,GAClDH,EAAaI,IAAIH,EAAS,wBAAyBS,EAAUP,IAO/DQ,YAAsB,SAAUD,EAAUP,GACxCH,EAAaI,IAAIH,EAAS,cAAeS,EAAUP,IAGrDS,mBAA6B,SAAUT,GACrCH,EAAaI,IAAIH,EAAS,qBAAsB,GAAIE,IAGtDU,oBAA8B,SAAUH,EAAUP,GAChDH,EAAaI,IAAIH,EAAS,sBAAuBS,EAAUP,IAG7DW,kBAA4B,SAAUC,EAASZ,GAC7CH,EAAaI,IAAIH,EAAS,oBAAqB,CAACc,GAAUZ,IAG5Da,wBAAkC,SAAUD,EAASZ,GACnDH,EAAaI,IAAIH,EAAS,0BAA2B,CAACc,GAAUZ,IAOlEc,QAAkB,SAAUP,EAAUP,GACpCH,EAAaI,IAAIH,EAAS,UAAWS,EAAUP,IAOjDe,WAAqB,SAAUR,EAAUP,GACvCH,EAAaI,IAAIH,EAAS,aAAcS,EAAUP,IAOpDgB,kBAA4B,SAAUhB,GACpCH,EAAaI,IAAIH,EAAS,oBAAqB,GAAIE,IAOrDiB,WAAqB,SAAUC,EAAIlB,GACjCH,EAAaI,IAAIH,EAAS,aAAcoB,EAAIlB,IAG9CmB,YAAsB,SAAUC,EAAKpB,GACnCH,EAAaI,IAAIH,EAAS,cAAe,CAACsB,GAAMpB,IAGlDqB,eAAyB,SAAUT,EAASZ,GACtCY,EAAUU,SAASV,GACvBf,EAAaI,IAAIH,EAAS,iBAAkB,CAACc,GAAUZ,IAOzDuB,QAAkB,SAAUhB,EAAUP,GACpCH,EAAaI,IAAIH,EAAS,UAAWS,EAAUP,IAGjDwB,aAAuB,SAAUC,EAASzB,GACxCH,EAAaI,IAAIH,EAAS,eAAgB,CAAC2B,GAAUzB,IAGvD0B,YAAsB,SAAUD,EAASzB,GACvCH,EAAaI,IAAIH,EAAS,cAAe,CAAC2B,GAAUzB,IAGtD2B,sBAAgC,SAAUC,EAAUC,EAAY7B,GAC9DH,EAAaI,IAAIH,EAAS,wBAAyB,CAAC+B,EAAYD,GAAW5B,IAG7E8B,mBAA6B,SAAUF,EAAU5B,GAC/CH,EAAaI,IAAIH,EAAS,qBAAsB,CAAC8B,GAAW5B,IAG9D+B,6BAAuC,SAAUH,EAAU5B,GACzD,IAAIgC,EAAO,EAEK,aAAZJ,EACFI,EAAO,GACc,eAAZJ,EACTI,EAAO,GACc,cAAZJ,EACTI,EAAO,GACc,aAAZJ,IACTI,EAAO,IAGTnC,EAAaI,IAAIH,EAAS,+BAAgC,CAACkC,GAAOhC,IAGpEiC,yCAAmD,SAAUL,EAAUC,EAAY7B,GACjFH,EAAaI,IAAIH,EAAS,2CAA4C,CAAC+B,EAAYD,GAAW5B,KAGhG,OAAOJ","file":"js/services/view-flex-service.js","sourcesContent":["define(['../services/services.js'], function (services) {\n  'use strict';\n\n  services.factory('viewFlexService', ['serviceProxy', function (serviceProxy) {\n    var service = 'viewFlexService',\n        factory = {};\n    /*\n     *获取第三方的所有视图\n     */\n\n    factory.getThirdPartyViews = function (callback) {\n      serviceProxy.get(service, 'getThirdPartyViews', [], callback);\n    };\n    /*\n     *获取当前我的所有视图\n     */\n\n\n    factory.getAllMyViews = function (callback) {\n      serviceProxy.get(service, 'getAllMyViews', null, callback);\n    };\n    /*\n     *通过ID获取自定义视图\n     */\n\n\n    factory.getMyViewEntry = function (viewId, callback) {\n      serviceProxy.get(service, 'getMyViewEntry', viewId, callback);\n    };\n    /*\n     *通过ID获取视图\n     */\n\n\n    factory.getViewById = function (viewId, callback) {\n      serviceProxy.get(service, \"getViewById\", viewId, callback);\n    };\n    /*\n     *获取视图发布时同时需要发布的模型\n     */\n\n\n    factory.getPublishModelByView = function (viewInfo, callback) {\n      serviceProxy.get(service, 'getPublishModelByView', viewInfo, callback);\n    };\n    /*\n     *发布视图\n     */\n\n\n    factory.publishView = function (viewInfo, callback) {\n      serviceProxy.get(service, 'publishView', viewInfo, callback);\n    };\n\n    factory.getManageDashboard = function (callback) {\n      serviceProxy.get(service, 'getManageDashboard', [], callback);\n    };\n\n    factory.saveManageDashboard = function (viewInfo, callback) {\n      serviceProxy.get(service, 'saveManageDashboard', viewInfo, callback);\n    };\n\n    factory.getModelDashboard = function (modelId, callback) {\n      serviceProxy.get(service, 'getModelDashboard', [modelId], callback);\n    };\n\n    factory.getServiceViewByModelId = function (modelId, callback) {\n      serviceProxy.get(service, 'getServiceViewByModelId', [modelId], callback);\n    };\n    /*\n     *视图购买\n     */\n\n\n    factory.buyView = function (viewInfo, callback) {\n      serviceProxy.get(service, 'buyView', viewInfo, callback);\n    };\n    /*\n     *更新视图\n     */\n\n\n    factory.updateView = function (viewInfo, callback) {\n      serviceProxy.get(service, 'updateView', viewInfo, callback);\n    };\n    /*\n     *获取当前服务视图\n     */\n\n\n    factory.getServiceViewMap = function (callback) {\n      serviceProxy.get(service, 'getServiceViewMap', [], callback);\n    };\n    /*\n     *删除视图\n     */\n\n\n    factory.deleteView = function (id, callback) {\n      serviceProxy.get(service, 'deleteView', id, callback);\n    };\n\n    factory.deleteViews = function (ids, callback) {\n      serviceProxy.get(service, 'deleteViews', [ids], callback);\n    };\n\n    factory.getDefaultView = function (modelId, callback) {\n      var modelId = parseInt(modelId);\n      serviceProxy.get(service, 'getDefaultView', [modelId], callback);\n    };\n    /**\n     * 添加视图\n     */\n\n\n    factory.addView = function (viewInfo, callback) {\n      serviceProxy.get(service, 'addView', viewInfo, callback);\n    };\n\n    factory.releaseViews = function (viewIds, callback) {\n      serviceProxy.get(service, 'releaseViews', [viewIds], callback);\n    };\n\n    factory.releaseView = function (viewIds, callback) {\n      serviceProxy.get(service, 'releaseView', [viewIds], callback);\n    };\n\n    factory.getManagedViewsByType = function (viewType, domainPath, callback) {\n      serviceProxy.get(service, 'getManagedViewsByType', [domainPath, viewType], callback);\n    };\n\n    factory.getViewsByOnlyRole = function (viewType, callback) {\n      serviceProxy.get(service, 'getViewsByOnlyRole', [viewType], callback);\n    };\n\n    factory.getManagedViewsByTypeAndRole = function (viewType, callback) {\n      var code = 0;\n\n      if (viewType == \"dashboard\") {\n        code = 21;\n      } else if (viewType == \"configAlert\") {\n        code = 23;\n      } else if (viewType == \"designView\") {\n        code = 24;\n      } else if (viewType == \"configure\") {\n        code = 25;\n      }\n\n      serviceProxy.get(service, 'getManagedViewsByTypeAndRole', [code], callback);\n    };\n\n    factory.getViewsOnlyPublishedByTypeAndDomainPath = function (viewType, domainPath, callback) {\n      serviceProxy.get(service, 'getViewsOnlyPublishedByTypeAndDomainPath', [domainPath, viewType], callback);\n    };\n\n    return factory;\n  }]);\n});"],"sourceRoot":"/source/"}