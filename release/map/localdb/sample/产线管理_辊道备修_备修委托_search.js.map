{"version":3,"sources":["localdb/sample/产线管理_辊道备修_备修委托_search.js"],"names":["expression","width","on","init","event","target","timeObj","global","getRootScope","rollerNo","firstTimeFrom","firstTimeTo","inpStatus","currStatus","now","Date","render","ctrlGroups","type","value","change","elem","style","textAlign","btnclass","btnStyle","border","click","today","setHours","setMinutes","setSeconds","setMilliseconds","formatDatebyMomentToUTC","trigger","nowDayOfWeek","nowDay","nowMonth","nowYear","getDay","getDate","getMonth","getFullYear","date","class","id","start","end","console","log"],"mappings":"AAAAA,WAAa,CACXC,MAAO,OACPC,GAAI,CACFC,KAAM,SAAcC,GAClB,IAAIC,EAASD,EAAMC,OAGfC,GAFSF,EAAMG,OACPF,EAAOG,eACL,CACZC,SAAU,KACVC,cAAe,KACfC,YAAa,OAEXC,GAAY,EACZC,EAAa,GACbC,EAAM,IAAIC,MAED,SAASC,IACpB,IAAIC,EAAa,CAAC,CAAC,CACjBC,KAAM,QACNC,MAAO,SACN,CACDD,KAAM,QACNhB,GAAI,CACFkB,OAAQ,SAAgBC,GACtBf,EAAQG,SAAWY,EAAKF,SAG3B,CACDD,KAAM,QACNC,MAAO,SACPG,MAAO,CACLC,UAAW,QACXtB,MAAO,UAER,CACDiB,KAAM,SACNC,MAAO,OACPK,SAAwB,SAAdX,EAAwB,kBAAoB,kBACtDY,SAAU,CACRxB,MAAS,QACTyB,OAAU,qBAEZxB,GAAI,CACFyB,MAAO,SAAeN,GACpB,IAAIO,EAAQ,IAAIb,KAChBa,EAAMC,SAAS,GACfD,EAAME,WAAW,GACjBF,EAAMG,WAAW,GACjBH,EAAMI,gBAAgB,GACtB1B,EAAQI,cAAgBuB,wBAAwBL,GAChDtB,EAAQK,YAAcsB,wBAAwBnB,GAC9CD,EAAa,QACbG,IACAX,EAAO6B,QAAQ,kBAAmB5B,MAGrC,CACDY,KAAM,SACNC,MAAO,OACPK,SAAwB,MAAdX,EAAqB,kBAAoB,kBACnDY,SAAU,CACRxB,MAAS,QACTyB,OAAU,qBAEZxB,GAAI,CACFyB,MAAO,SAAeN,GAEpB,IACMc,EAEAC,EAEAC,EAEAC,EAMNhC,EAAQI,cAAgBuB,yBAZlBE,EAAerB,EAAIyB,SAEnBH,EAAStB,EAAI0B,UAAY,EAEzBH,EAAWvB,EAAI2B,WAEfH,EAAUxB,EAAI4B,cAEE,IAAI3B,KAAKuB,EAASD,EAAUD,EAASD,KAK3D7B,EAAQK,YAAcsB,wBAAwBnB,GAC9CD,EAAa,KACbG,IACAX,EAAO6B,QAAQ,kBAAmB5B,MAGrC,CACDY,KAAM,SACNC,MAAO,OACPK,SAAwB,SAAdX,EAAwB,kBAAoB,kBACtDY,SAAU,CACRxB,MAAS,QACTyB,OAAU,qBAEZxB,GAAI,CACFyB,MAAO,SAAeN,GAEpB,IACMsB,EAKNrC,EAAQI,cAAgBuB,yBALlBU,EAAO,IAAI5B,KACA,IAAIA,KAAK4B,EAAKD,cAAeC,EAAKF,WAAY,KAK/DnC,EAAQK,YAAcsB,wBAAwBnB,GAC9CD,EAAa,QACbG,IACAX,EAAO6B,QAAQ,kBAAmB5B,MAGrC,CACDY,KAAM,kBACNC,MAAO,GACPyB,MAAO,WACPC,GAAI,EACJvB,MAAO,CACLrB,MAAO,QACPsB,UAAW,UAEbrB,GAAI,CACFkB,OAAQ,SAAgBC,GACtBf,EAAQI,cAAgBW,EAAKF,MAAM2B,MACnCxC,EAAQK,YAAcU,EAAKF,MAAM4B,IAE7B1B,EAAKF,MAAM2B,QACblC,GAAY,MAIjB,CACDM,KAAM,SACNM,SAAU,kBACVL,MAAO,MACPM,SAAU,CACRxB,MAAO,SAETC,GAAI,CACFyB,MAAO,SAAeN,GAChBT,EACFA,GAAY,GAEZN,EAAQI,cAAgB,GACxBJ,EAAQK,YAAc,GACtBE,GAAa,EACbG,KAGFgC,QAAQC,IAAI3C,GAEZD,EAAO6B,QAAQ,kBAAmB5B,QAIxCF,EAAMC,OAAOW,OAAOC,GAGtBD","file":"localdb/sample/产线管理_辊道备修_备修委托_search.js","sourcesContent":["expression = {\n  width: \"auto\",\n  on: {\n    init: function init(event) {\n      var target = event.target;\n      var global = event.global;\n      var scope = target.getRootScope();\n      var timeObj = {\n        rollerNo: null,\n        firstTimeFrom: null,\n        firstTimeTo: null\n      };\n      var inpStatus = false;\n      var currStatus = \"\";\n      var now = new Date(); //当前日期 \n\n      var render = function render() {\n        var ctrlGroups = [[{\n          type: \"label\",\n          value: \"辊道编码:\"\n        }, {\n          type: \"input\",\n          on: {\n            change: function change(elem) {\n              timeObj.rollerNo = elem.value;\n            }\n          }\n        }, {\n          type: \"label\",\n          value: \"备修委托时间\",\n          style: {\n            textAlign: \"right\",\n            width: \"100px\"\n          }\n        }, {\n          type: \"button\",\n          value: \"当日委托\",\n          btnclass: currStatus == \"today\" ? \"btn btn-primary\" : \"btn btn-default\",\n          btnStyle: {\n            \"width\": \"100px\",\n            \"border\": \"#10a4fb solid 1px\"\n          },\n          on: {\n            click: function click(elem) {\n              var today = new Date();\n              today.setHours(0);\n              today.setMinutes(0);\n              today.setSeconds(0);\n              today.setMilliseconds(0);\n              timeObj.firstTimeFrom = formatDatebyMomentToUTC(today);\n              timeObj.firstTimeTo = formatDatebyMomentToUTC(now);\n              currStatus = \"today\";\n              render();\n              target.trigger(\"queryTabelList1\", timeObj);\n            }\n          }\n        }, {\n          type: \"button\",\n          value: \"本周委托\",\n          btnclass: currStatus == \"bz\" ? \"btn btn-primary\" : \"btn btn-default\",\n          btnStyle: {\n            \"width\": \"100px\",\n            \"border\": \"#10a4fb solid 1px\"\n          },\n          on: {\n            click: function click(elem) {\n              //获得本周的开端日期 \n              function getWeekStartDate() {\n                var nowDayOfWeek = now.getDay(); //今天本周的第几天 \n\n                var nowDay = now.getDate() + 1; //当前日 \n\n                var nowMonth = now.getMonth(); //当前月 \n\n                var nowYear = now.getFullYear(); //当前年 \n\n                var weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek);\n                return weekStartDate;\n              }\n\n              timeObj.firstTimeFrom = formatDatebyMomentToUTC(getWeekStartDate());\n              timeObj.firstTimeTo = formatDatebyMomentToUTC(now);\n              currStatus = \"bz\";\n              render();\n              target.trigger(\"queryTabelList1\", timeObj);\n            }\n          }\n        }, {\n          type: \"button\",\n          value: \"本月委托\",\n          btnclass: currStatus == \"month\" ? \"btn btn-primary\" : \"btn btn-default\",\n          btnStyle: {\n            \"width\": \"100px\",\n            \"border\": \"#10a4fb solid 1px\"\n          },\n          on: {\n            click: function click(elem) {\n              //当前月的第一天\n              function getCurrentMonthFirst() {\n                var date = new Date();\n                var firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\n                return firstDay;\n              }\n\n              timeObj.firstTimeFrom = formatDatebyMomentToUTC(getCurrentMonthFirst());\n              timeObj.firstTimeTo = formatDatebyMomentToUTC(now);\n              currStatus = \"month\";\n              render();\n              target.trigger(\"queryTabelList1\", timeObj);\n            }\n          }\n        }, {\n          type: \"dateRangePicker\",\n          value: \"\",\n          class: \"col-md-5\",\n          id: 0,\n          style: {\n            width: \"200px\",\n            textAlign: \"center\"\n          },\n          on: {\n            change: function change(elem) {\n              timeObj.firstTimeFrom = elem.value.start;\n              timeObj.firstTimeTo = elem.value.end;\n\n              if (elem.value.start) {\n                inpStatus = true;\n              }\n            }\n          }\n        }, {\n          type: \"button\",\n          btnclass: \"btn btn-primary\",\n          value: \"查 询\",\n          btnStyle: {\n            width: \"100px\"\n          },\n          on: {\n            click: function click(elem) {\n              if (inpStatus) {\n                inpStatus = false;\n              } else {\n                timeObj.firstTimeFrom = \"\";\n                timeObj.firstTimeTo = \"\";\n                currStatus = false;\n                render();\n              }\n\n              console.log(timeObj); // scope.$broadcast(\"LISTSEARCHCLICK\", timeObj); //通知别的视图,我查询了\n\n              target.trigger(\"queryTabelList1\", timeObj);\n            }\n          }\n        }]];\n        event.target.render(ctrlGroups);\n      };\n\n      render();\n    }\n  }\n};"],"sourceRoot":"/source/"}