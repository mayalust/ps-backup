{"version":3,"sources":["localdb/sample/POPUP底部按钮.js"],"names":["expression","width","on","init","event","ctrlGroups","target","status","global","getRootScope","getPopupData","params","resource","format","type","value","btnclass","disabled","style","textAlign","btnStyle","border","color","backgroudColor","click","elem","checkflg","i","fmt","valid","n1","n2","name","composory","undefined","popuptype","growl","label","submit","data","statuc","render"],"mappings":"AAOAA,WAAa,CACXC,MAAO,OACPC,GAAI,CACFC,KAAM,SAAcC,GAClB,IASMC,EATFC,EAASF,EAAME,OAGfC,GAFSH,EAAMI,OACPF,EAAOG,eACNH,EAAOI,eAAeH,QAE/BI,EAASL,EAAOI,eAAeE,SAC/BC,EAASP,EAAOI,eAAeG,OAG7BR,EAAa,CAAC,CAAC,CACjBS,KAAM,SACNC,MAAO,QACPC,SAAU,kBACVC,SAAoB,GAAVV,GAAc,WACxBW,MAAO,CACLjB,MAAO,MACPkB,UAAW,SAEbC,SAAU,CACRnB,MAAS,QACToB,OAAU,oBACVC,MAAS,UACTC,eAAkB,WAEpBrB,GAAI,CACFsB,MAAO,SAAeC,GACpB,IAAIC,GAAW,EAEf,IAAK,IAAIC,KAAKd,EAAQ,CACpB,IAAIe,EAAMf,EAAOc,GACbE,EAAQD,EAAIE,GAAKnB,EAAOiB,EAAIE,IAAIF,EAAIG,IAAMpB,EAAOiB,EAAII,MAEzD,GAAIJ,EAAIK,iBAAwBC,IAAVL,GAAiC,KAAVA,GAQ3C,MAPqB,UAAjBD,EAAIO,UACN7B,EAAO8B,MAAM,MAAQR,EAAIS,MAAO,WAEhC/B,EAAO8B,MAAMR,EAAIS,MAAQ,OAAQ,gBAGnCX,GAAW,GAKXA,GACFpB,EAAOgC,OAAO,CACZC,KAAM5B,EACN6B,OAAU,eAKjB,CACD1B,KAAM,SACNC,MAAO,QACPC,SAAU,kBACVE,MAAO,CACLjB,MAAO,MACPkB,UAAW,QAEbC,SAAU,CACRnB,MAAS,QACToB,OAAU,oBACVC,MAAS,WAEXpB,GAAI,CACFsB,MAAO,SAAeC,GACpBnB,EAAOgC,OAAO,CACZE,OAAU,gBAKlBpC,EAAME,OAAOmC,OAAOpC","file":"localdb/sample/POPUP底部按钮.js","sourcesContent":["/**\n * 注意：在使用时，删除该注释的内容\n * POPUP提交按钮标准，适用于有弹出的各级视图，绝大部分情况下请勿修改\n * 版本：1.0.1\n * 日期：2018-02-22\n * 增加了对于select的提示判断和n1+n2存在的判断\n */\nexpression = {\n  width: \"auto\",\n  on: {\n    init: function init(event) {\n      var target = event.target;\n      var global = event.global;\n      var scope = target.getRootScope();\n      var status = target.getPopupData().status; //0表示查看，1表示编辑\n\n      var params = target.getPopupData().resource;\n      var format = target.getPopupData().format;\n\n      var render = function render() {\n        var ctrlGroups = [[{\n          type: \"button\",\n          value: \"提   交\",\n          btnclass: \"btn btn-primary\",\n          disabled: status == 0 ? \"disabled\" : false,\n          style: {\n            width: \"600\",\n            textAlign: \"right\"\n          },\n          btnStyle: {\n            \"width\": \"100px\",\n            \"border\": \"#10a4fb solid 1px\",\n            \"color\": \"#c0c0c0\",\n            \"backgroudColor\": \"#156eab\"\n          },\n          on: {\n            click: function click(elem) {\n              var checkflg = true;\n\n              for (var i in format) {\n                var fmt = format[i];\n                var valid = fmt.n1 ? params[fmt.n1][fmt.n2] : params[fmt.name];\n\n                if (fmt.composory && (valid === undefined || valid === \"\")) {\n                  if (fmt.popuptype == \"select\") {\n                    target.growl(\"请选择\" + fmt.label, \"warning\");\n                  } else {\n                    target.growl(fmt.label + \"不能为空\", \"warning\");\n                  }\n\n                  checkflg = false;\n                  return;\n                }\n              }\n\n              if (checkflg) {\n                target.submit({\n                  data: params,\n                  \"statuc\": \"success\"\n                });\n              }\n            }\n          }\n        }, {\n          type: \"button\",\n          value: \"取   消\",\n          btnclass: \"btn btn-default\",\n          style: {\n            width: \"400\",\n            textAlign: \"left\"\n          },\n          btnStyle: {\n            \"width\": \"100px\",\n            \"border\": \"#10a4fb solid 1px\",\n            \"color\": \"#C0C0C0\"\n          },\n          on: {\n            click: function click(elem) {\n              target.submit({\n                \"statuc\": \"cancel\"\n              });\n            }\n          }\n        }]];\n        event.target.render(ctrlGroups);\n      };\n\n      render();\n    }\n  }\n};"],"sourceRoot":"/source/"}