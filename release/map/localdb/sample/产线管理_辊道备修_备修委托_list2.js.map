{"version":3,"sources":["localdb/sample/产线管理_辊道备修_备修委托_list2.js"],"names":["expression","theme","on","init","event","target","resource","getRootScope","getValue","tickeTaskStatusDic","receiving","waitrepairing","repairing","receiveparting","end","format","name","label","popuptype","stretch","index","render","data","type","full","content","icon","click","row","columnIndex","extendParam","readerData","params","categorys","validNotFinish","ticketStatus","firstTimeFrom","firstTimeTo","attrs","commitTime","rollerNo","values","rollerPart.rollerNo","getDealTicketList","tc","workArray","map","elem","hide","value","options","obj","e"],"mappings":"AAAAA,WAAa,CACXC,MAAS,OACTC,GAAM,CACJC,KAAQ,SAAcC,GACpB,IAAIC,EAASD,EAAMC,OAGfC,GAFQD,EAAOE,eAEJF,EAAOG,SAAS,oBAE3BC,EAAqB,CACvBC,UAAa,MACbC,cAAiB,MACjBC,UAAa,MACbC,eAAkB,MAClBC,IAAO,OAGLC,EAAS,CAAC,CACZC,KAAM,+BACNC,MAAO,QACN,CACDD,KAAM,6BACNC,MAAO,QACN,CACDD,KAAM,+BACNC,MAAO,QACN,CACDD,KAAM,gBACNC,MAAO,KACPC,UAAW,WACXC,SAAS,EACTC,MAAO,GACN,CACDJ,KAAM,2BACNC,MAAO,OACN,CACDD,KAAM,yBACNC,MAAO,MACPI,OAAQ,SAAgBC,EAAMC,EAAMC,GAClC,OAAOf,EAAmBa,KAE3B,CACDN,KAAM,aACNC,MAAO,SACPM,KAAM,QACL,CACDN,MAAO,KACPM,KAAM,cACNE,QAAS,CAAC,CACRR,MAAO,OACPS,KAAM,OACNxB,GAAI,CACFyB,MAAO,SAAeP,EAAOQ,EAAKC,UAuBpCC,EAAc,GAEdC,EAAa,WACf,IAAIC,EAAS,CACXC,UAAW,MACXC,gBAAgB,EAChBC,aAAc,MAGZL,EAAYM,eAAiBN,EAAYO,eAC3CL,EAAOM,MAAQ,CACbC,WAAY,CAACT,EAAYM,cAAeN,EAAYO,eAIpDP,EAAYU,WACdR,EAAOS,OAAS,CACdC,sBAAuBZ,EAAYU,WAIvCnC,EAAOsC,kBAAkBX,EAAQ,SAAUY,GAvChC,IAAgBC,EAAAA,EAwClBD,EAvCTvC,EAAOgB,OAAO,CACZC,KAAMuB,EACN9B,OAAQA,EAAO+B,IAAI,SAAUC,GAC3B,OAAIA,EAAKC,MACF,CACLhC,KAAQ+B,EAAK9B,MACbgC,MAASF,EAAK/B,KACdO,KAAQwB,EAAKxB,MAAQ,OACrBE,QAAWsB,EAAKtB,QAChBJ,OAAU0B,EAAK1B,OACf6B,QAAWH,EAAKG,gBAkCpB5C,GACFyB,IAGF1B,EAAOH,GAAG,sBAAuB,SAAUiD,GACzC7C,EAAW6C,EAAI7C,SACfyB,MAEF1B,EAAOH,GAAG,kBAAmB,SAAUkD,GACrCtB,EAAcsB,EACdrB","file":"localdb/sample/产线管理_辊道备修_备修委托_list2.js","sourcesContent":["expression = {\n  \"theme\": \"dark\",\n  \"on\": {\n    \"init\": function init(event) {\n      var target = event.target;\n      var scope = target.getRootScope(); // 获取设备的信息\n\n      var resource = target.getValue(\"global/resource\"); //进度位字典\n\n      var tickeTaskStatusDic = {\n        \"receiving\": \"待接收\",\n        \"waitrepairing\": \"待维修\",\n        \"repairing\": \"维修中\",\n        \"receiveparting\": \"待收货\",\n        \"end\": \"已完成\" //format是列表和popup的来源，index用户popup排序，hide表示不显示在list\n\n      };\n      var format = [{\n        name: \"values.rollerPart.rollerName\",\n        label: \"辊道名称\"\n      }, {\n        name: \"values.rollerPart.rollerNo\",\n        label: \"辊道编号\"\n      }, {\n        name: \"values.rollerPart.rollerName\",\n        label: \"下机原因\"\n      }, {\n        name: \"values.remark\",\n        label: \"备注\",\n        popuptype: \"textarea\",\n        stretch: true,\n        index: 1\n      }, {\n        name: \"values.theCreateUserName\",\n        label: \"申请人\"\n      }, {\n        name: \"values.tickeTaskStatus\",\n        label: \"进度位\",\n        render: function render(data, type, full) {\n          return tickeTaskStatusDic[data];\n        }\n      }, {\n        name: \"commitTime\",\n        label: \"备修委托时间\",\n        type: \"date\"\n      }, {\n        label: \"操作\",\n        type: \"buttonGroup\",\n        content: [{\n          label: \"备修报告\",\n          icon: \"null\",\n          on: {\n            click: function click(index, row, columnIndex) {}\n          }\n        }]\n      }];\n\n      var render = function render(workArray) {\n        target.render({\n          data: workArray,\n          format: format.map(function (elem) {\n            if (elem.hide) return false;\n            return {\n              \"name\": elem.label,\n              \"value\": elem.name,\n              \"type\": elem.type || \"text\",\n              \"content\": elem.content,\n              \"render\": elem.render,\n              \"options\": elem.options\n            };\n          })\n        });\n      }; // 查询表格的接口\n\n\n      var extendParam = {};\n\n      var readerData = function readerData() {\n        var params = {\n          categorys: \"220\",\n          validNotFinish: false,\n          ticketStatus: 200\n        };\n\n        if (extendParam.firstTimeFrom || extendParam.firstTimeTo) {\n          params.attrs = {\n            commitTime: [extendParam.firstTimeFrom, extendParam.firstTimeTo]\n          };\n        }\n\n        if (extendParam.rollerNo) {\n          params.values = {\n            \"rollerPart.rollerNo\": extendParam.rollerNo\n          };\n        }\n\n        target.getDealTicketList(params, function (tc) {\n          render(tc);\n        });\n      }; //如果有选中的设备，直接查询\n\n\n      if (resource) {\n        readerData();\n      }\n\n      target.on(\"tree_resourceChange\", function (obj) {\n        resource = obj.resource;\n        readerData();\n      });\n      target.on(\"queryTabelList2\", function (e) {\n        extendParam = e;\n        readerData();\n      });\n    }\n  }\n};"],"sourceRoot":"/source/"}