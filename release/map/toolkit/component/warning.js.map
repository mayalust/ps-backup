{"version":3,"sources":["toolkit/component/warning.js"],"names":["define","data","element","blink","radius","_runblink","warning","previewMode","timeout","$","$attr","background","css","position","y","x","append","style","top","left","width","height","opacity","animate","draggable","containment","drag","event","ui","parseInt","target","split"],"mappings":"AAGAA,OAAO,GAAI,WACT,OAAO,SAAUC,GACf,IAsCaC,EAASC,EAAgBC,EAC9BC,EAbKH,EAASC,EAAOG,EA1BzBJ,EAAUD,EAAKC,QACfK,EAAcN,EAAKM,YACnBC,EAAUP,EAAKO,QACfF,EAAUG,EAAE,+BACZN,EAAQM,EAAE,eACVL,EAASF,EAAQQ,MAAM,qBACvBC,EAAaT,EAAQQ,MAAM,yBA8D/B,OA7DAP,EAAMS,IAAI,WAAY,YACtBT,EAAMS,IAAI,mBAAoB,OAC9BT,EAAMS,IAAI,gBAAiB,OAC3BT,EAAMS,IAAI,QAAkB,EAATR,GACnBD,EAAMS,IAAI,SAAmB,EAATR,GACpBD,EAAMS,IAAI,MAAOV,EAAQW,SAASC,GAClCX,EAAMS,IAAI,OAAQV,EAAQW,SAASE,GACnCT,EAAQM,IAAI,WAAY,YACxBN,EAAQM,IAAI,sBAAuB,UACnCN,EAAQM,IAAI,mBAAoB,OAASD,EAAa,KACtDL,EAAQM,IAAI,oBAAqB,aACjCN,EAAQM,IAAI,kBAAmB,WAC/BN,EAAQU,OAAOb,GAEXD,EAAQe,OACVX,EAAQM,IAAIV,EAAQe,OAGjBV,GAaQL,EA2BRA,EA3BiBC,EA2BRA,EA3BwBC,EA2BRA,GA1BtBC,EAAY,WACVE,GACFJ,EAAMS,IAAI,CACRM,IAAKhB,EAAQW,SAASC,EAAIV,EAC1Be,KAAMjB,EAAQW,SAASE,EAAIX,EAC3BgB,MAAO,EACPC,OAAQ,EACRC,QAAS,IAEXnB,EAAMoB,QAAQ,CACZL,IAAKhB,EAAQW,SAASC,EAAa,IAATV,EAC1Be,KAAMjB,EAAQW,SAASE,EAAa,IAATX,EAC3BgB,MAAgB,EAAThB,EACPiB,OAAiB,EAATjB,EACRkB,QAAS,GACR,IAAK,WACNd,EAAQ,WACNH,KACC,QAGLA,EAAY,WAlCPH,EAURA,EAViBC,EAURA,EAVeG,EAURA,EATjBE,EAAQ,WACNL,EAAMqB,UAAU,CACdC,YAAanB,EACboB,KAAM,SAAcC,EAAOC,GACzB1B,EAAQW,SAASE,EAAIc,SAASpB,EAAEkB,EAAMG,QAAQlB,IAAI,QAAQmB,MAAM,MAAM,IACtE7B,EAAQW,SAASC,EAAIe,SAASpB,EAAEkB,EAAMG,QAAQlB,IAAI,OAAOmB,MAAM,MAAM,UAoCxEzB","file":"toolkit/component/warning.js","sourcesContent":["/**\n * Created by leonlin on 16/11/3.\n */\ndefine([], function () {\n  return function (data) {\n    var element = data.element;\n    var previewMode = data.previewMode;\n    var timeout = data.timeout;\n    var warning = $(\"<div class='warning'></div>\");\n    var blink = $(\"<div></div>\");\n    var radius = element.$attr(\"parameters/radius\");\n    var background = element.$attr(\"parameters/background\");\n    blink.css(\"position\", \"absolute\");\n    blink.css(\"background-color\", \"red\");\n    blink.css(\"border-radius\", \"50%\");\n    blink.css(\"width\", radius * 2);\n    blink.css(\"height\", radius * 2);\n    blink.css(\"top\", element.position.y);\n    blink.css(\"left\", element.position.x);\n    warning.css(\"position\", \"relative\");\n    warning.css(\"background-position\", \"center\");\n    warning.css(\"background-image\", \"url(\" + background + \")\");\n    warning.css(\"background-repeat\", \"no-repeat\");\n    warning.css(\"background-size\", \"contain\");\n    warning.append(blink);\n\n    if (element.style) {\n      warning.css(element.style);\n    }\n\n    if (!previewMode) {\n      (function (element, blink, warning) {\n        timeout(function () {\n          blink.draggable({\n            containment: warning,\n            drag: function drag(event, ui) {\n              element.position.x = parseInt($(event.target).css(\"left\").split(\"px\")[0]);\n              element.position.y = parseInt($(event.target).css(\"top\").split(\"px\")[0]);\n            }\n          });\n        });\n      })(element, blink, warning);\n    } else {\n      (function (element, blink, warning, radius) {\n        var _runblink = function runblink() {\n          if (previewMode) {\n            blink.css({\n              top: element.position.y + radius,\n              left: element.position.x + radius,\n              width: 0,\n              height: 0,\n              opacity: 1\n            });\n            blink.animate({\n              top: element.position.y - radius * 1.5,\n              left: element.position.x - radius * 1.5,\n              width: radius * 5,\n              height: radius * 5,\n              opacity: 0\n            }, 800, function () {\n              timeout(function () {\n                _runblink();\n              }, 800);\n            });\n          } else {\n            _runblink = null;\n          }\n        };\n\n        _runblink();\n      })(element, blink, warning, radius);\n    }\n\n    return warning;\n  };\n});"],"sourceRoot":"/source/"}