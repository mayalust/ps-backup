{"version":3,"sources":["toolkit/component/history_tracker.js"],"names":["define","width","on","init","event","createTrust","target","ticketNo","getValue","appNameList","getRootScope","alertSeverityList","statusGrades","dealTypeObj","1","2","3","dateToString","now","year","getFullYear","month","getMonth","toString","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","length","postService","tc","code","data","dt","fn","$","e","createSystemPopupByLocalPath","title","value","setValue","ticketDealing260Data","createSystemPopupByViewId","ticketDealing90Data","split","growl","top","alertItemList","forEach","ele","deviceName","alertEvaluateInfoList","Obj","JSON","parse","values","pointTicketNo","ticketTask","dangridianjianData","ticketHistoryList","logType","unshift","arr","variables","ticket","category","specialtyName","valueCode","appName","appNameListName","label","severity","alertSeverityListName","time","Date","alertArisingTime","icon","disList","alertTitle","style","color","sendTime","creatorName","devName","statusGrade","statusGradeListName","senderName","cessingScheme","dealType","standardProjectId","standardProjectName","handlerName","deviceCode","ticketTitle","i","historyList","finishedTime","message","taskStatus","tickeTaskStatus","multipleConclusion","id","isAudit","auditOpinion","dealTypeName","isSk","qualityLevel","highDangerLevel","tallyCheckboxlist","elem","tallyDealExplain","tallyReason","tallyCourseReason","complexDealType","colseReason","tempDealType","recallExplain","stringify","tallyCheck","tallyRemark","tallyEvaluateCheckboxlistName","abnormalEvaluateCheckboxlist","abnormalEvaluateDealExplain","tallyEvaluateCheckboxlist","tallyEvaluateDealExplain","item","push","diagnoseDeclare","isClose","auditDeclare","standardInfo","closeReason","theTicketType","params","validUserFlag","paramTicket._id","getTicketTasksByCondition","knowledge","typicalBasis","render"],"mappings":"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","file":"toolkit/component/history_tracker.js","sourcesContent":["define([], function () {\n  return {\n    width: \"100%\",\n    on: {\n      init: function init(event) {\n        var target = event.target; //   var ticketNo = target.getPopupData();\n\n        var ticketNo = target.getValue(\"ticketNo\");\n        var specialtyPropsList = target.getRootScope(\"myDicts\")[\"specialtyProps\"]; // 报警来源\n\n        var appNameList = target.getRootScope(\"myDicts\")[\"appName\"]; // 报警级别 alertSeverity\n\n        var alertSeverityList = target.getRootScope(\"myDicts\")[\"alertSeverity\"]; // 综合状态等级\n\n        var statusGrades = target.getRootScope(\"myDicts\")[\"statusGrade\"];\n        var dealTypeObj = {\n          \"1\": \"暂不处理\",\n          \"2\": \"自行处理\",\n          \"3\": \"发起委托\"\n        };\n        var ctrlGroups = [{\n          time: \"2017-11-12 12:30:10\",\n          icon: \"fa fa-user fa-fw fa-circle-o bg-green\",\n          disList: [{\n            value: \"<a>报警产生</a>\"\n          }, {\n            value: \"报警类型：振动报警\"\n          }, {\n            value: \"报警级别：警告\"\n          }, {\n            value: \"报警描述：速度有效值:1.250mm/s超出预警范围\"\n          }]\n        }, {\n          time: \"2017-11-12 12:30:10\",\n          icon: \"fa fa-user bg-aqua bg-orange\",\n          disList: [{\n            value: \"<a>检修反馈</a>\"\n          }]\n        }, {\n          time: \"2017-11-12 12:30:10\",\n          icon: \"fa fa-user fa-fw fa-circle-o bg-green\",\n          disList: [{\n            value: \"<a>检修反馈</a>\"\n          }]\n        }];\n\n        var dateToString = function dateToString(now) {\n          var year = now.getFullYear();\n          var month = (now.getMonth() + 1).toString();\n          var day = now.getDate().toString();\n          var hour = now.getHours().toString();\n          var minute = now.getMinutes().toString();\n          var second = now.getSeconds().toString();\n\n          if (month.length == 1) {\n            month = \"0\" + month;\n          }\n\n          if (day.length == 1) {\n            day = \"0\" + day;\n          }\n\n          if (hour.length == 1) {\n            hour = \"0\" + hour;\n          }\n\n          if (minute.length == 1) {\n            minute = \"0\" + minute;\n          }\n\n          if (second.length == 1) {\n            second = \"0\" + second;\n          }\n\n          var dateTime = year + \"-\" + month + \"-\" + day + \" \" + hour + \":\" + minute + \":\" + second;\n          return dateTime;\n        };\n\n        if (ticketNo) {\n          // // 获取委托带过来的数据\n          var createTrust;\n          target.postService(\"deviceResumeUIService\", \"getDeviceCheckTrustByCondition\", {\n            ticketNo: ticketNo\n          }, function (tc) {\n            if (tc.code == 0) {\n              createTrust = tc.data[0] || {};\n            }\n          });\n          target.postService(\"ticketLogService\", \"getByTicketNo\", [ticketNo], function (dt) {\n            if (dt.code == 0) {\n              //   event.target.render(arr);\n              var fn = function fn() {\n                // 诊断分析详情的按钮\n                $(\".checking\").on(\"click\", function (e) {\n                  event.target.createSystemPopupByLocalPath(\"page3\", {\n                    width: \"800px\",\n                    title: \"诊断分析详情\"\n                  }, e.target.value);\n                });\n                $(\".dealing260\").on(\"click\", function (e) {\n                  target.setValue(\"global/resource\", ticketDealing260Data);\n                  target.createSystemPopupByViewId(\"478671371040000\", {\n                    width: \"80%\",\n                    title: \"处理方案编制\"\n                  }, \"onlyRead\");\n                });\n                $(\".dealing90\").on(\"click\", function (e) {\n                  target.setValue(\"global/resource\", ticketDealing90Data);\n                  target.createSystemPopupByViewId(\"475059852490000\", {\n                    width: \"80%\",\n                    title: \"处理方案编制\"\n                  }, \"onlyRead\");\n                }); // 检修委托详情的按钮\n\n                $(\".trusting\").on(\"click\", function (e) {\n                  event.target.createSystemPopupByLocalPath(\"page4\", {\n                    width: \"800px\",\n                    title: \"检修委托详情\"\n                  }, e.target.value);\n                }); // 维修方案的按钮\n\n                $(\".maintainingProject\").on(\"click\", function (e) {\n                  var ticketNo = {\n                    ticketNo: e.target.value.split(\",\")[3] // 是否制定维修方案\n\n                  };\n                  target.postService(\"deviceResumeUIService\", \"getMaintainStandardListByCondition\", ticketNo, function (tc) {\n                    if (tc.data.length > 0) {\n                      event.target.createSystemPopupByLocalPath(\"page5\", {\n                        width: \"800px\",\n                        title: \"维修方案\"\n                      }, e.target.value);\n                    } else {\n                      target.growl(\"请先制定维修方案\", \"warning\");\n                    }\n                  });\n                }); // 检修实绩的按钮\n\n                $(\".repairProject\").on(\"click\", function (e) {\n                  event.target.createSystemPopupByLocalPath(\"page6\", {\n                    width: \"800px\",\n                    top: \"13%\",\n                    title: \"检修实绩\"\n                  }, e.target.value);\n                }); // 合并告警弹框\n\n                $(\".alertItemList\").on(\"click\", function (e) {\n                  alertItemList.forEach(function (ele) {\n                    ele.deviceName = deviceName;\n                  });\n                  target.createSystemPopupByViewId(\"357383633040000\", {\n                    \"title\": \"报警详情\",\n                    \"top\": \"10%\",\n                    \"width\": \"80%\"\n                  }, [\"alertItemList\", alertItemList]);\n                }); // 报警评价\n\n                $(\".alertEvaluateInfoList\").on(\"click\", function (e) {\n                  //   var alertEvaluateInfoList = JSON.parse(e.target.value);\n                  target.setValue(\"alertEvaluateInfoList\", alertEvaluateInfoList);\n                  target.createSystemPopupByLocalPath(\"page7\", {\n                    width: \"800px\",\n                    top: \"13%\",\n                    title: \"报警评价\"\n                  });\n                });\n                /**\n                 *  判断如果是半总包流程分开，这里只显示验收\n                 *  是全总包这里需要显示所有的信息\n                 */\n\n                $(\".taskEvaluate\").on(\"click\", function (e) {\n                  var Obj = JSON.parse(e.target.value);\n\n                  if (Obj.values.alertEvaluateInfoList && Obj.values.alertEvaluateInfoList.length > 0) {\n                    target.setValue(\"global/resource\", Obj);\n                    target.createSystemPopupByLocalPath(\"page8\", {\n                      width: \"800px\",\n                      title: \"验收评价\"\n                    }, \"onlyRead\");\n                  } else {\n                    target.setValue(\"global/resource\", Obj);\n                    target.createSystemPopupByLocalPath(\"page11\", {\n                      width: \"800px\",\n                      title: \"验收\"\n                    }, \"onlyRead\");\n                  }\n                }); // 半总包的告警评价\n\n                $(\".assessingAgain\").on(\"click\", function (e) {\n                  var Obj = JSON.parse(e.target.value);\n                  target.setValue(\"global/resource\", Obj);\n                  target.createSystemPopupByLocalPath(\"page10\", {\n                    width: \"800px\",\n                    title: \"验收评价\"\n                  }, \"onlyRead\");\n                }); // 任务的评价\n\n                $(\".dianjianyichang\").on(\"click\", function (e) {\n                  target.postService(\"ticketLogService\", \"getByTicketNo\", [pointTicketNo], function (dt) {\n                    target.createSystemPopupByLocalPath(\"page9\", {\n                      width: \"90%\",\n                      title: \"点检实绩登录\"\n                    }, dt.data[1].ticketTask);\n                  });\n                }); // 当日点检\n\n                $(\".dangridianjian\").on(\"click\", function (e) {\n                  target.createSystemPopupByLocalPath(\"page9\", {\n                    width: \"90%\",\n                    title: \"点检实绩登录\"\n                  }, dangridianjianData);\n                });\n              };\n\n              var ticketHistoryList = dt.data;\n\n              if (ticketHistoryList[0].logType != \"start\" && ticketHistoryList[0].logType != \"startEvent\") {\n                //第一个节点为开始\n                ticketHistoryList.unshift({\n                  logType: \"startEvent\"\n                });\n              }\n              /**\n               *  判断是告警还是任务\n               */\n\n\n              if (ticketHistoryList.length == 0) {\n                target.growl(\"此工单[\" + ticketNo + \"]已被删除\", \"error\");\n                return;\n              }\n\n              var arr = [];\n\n              if (ticketHistoryList[1].ticketTask.variables.ticket.category == \"50\") {\n                /**\n                 *  合并多条告警\n                 *  是多条展示弹框/单条跟之前一样\n                 *\n                 */\n                if (ticketHistoryList[1].ticketTask.variables.alertItemList && ticketHistoryList[1].ticketTask.variables.alertItemList.length == 1) {\n                  //fa fa-user fa-fw fa-circle-o\n                  var specialtyName = ticketHistoryList[1].ticketTask.variables.alertItemList[0].specialtyName,\n                      appNameListName,\n                      alertSeverityListName;\n                  appNameList.forEach(function (e) {\n                    if (e.valueCode == ticketHistoryList[1].ticketTask.variables.ticket.values.appName) {\n                      appNameListName = e.label;\n                      return;\n                    }\n                  }); //报警级别 alertSeverity\n\n                  alertSeverityList.forEach(function (e) {\n                    if (e.valueCode == ticketHistoryList[1].ticketTask.variables.ticket.values.severity) {\n                      alertSeverityListName = e.label;\n                      return;\n                    }\n                  });\n                  arr = [{\n                    time: dateToString(new Date(ticketHistoryList[1].ticketTask.variables.ticket.values.alertArisingTime)),\n                    icon: \"fa fa-user fa-fw fa-circle-o bg-green\",\n                    disList: [{\n                      value: \"<a>报警产生</a>\"\n                    }, {\n                      value: \"报警类型:  \" + (specialtyName ? specialtyName : \"无\")\n                    }, {\n                      value: \"报警级别:  \" + alertSeverityListName\n                    }, {\n                      value: \"报警描述:  \" + ticketHistoryList[1].ticketTask.variables.ticket.values.alertTitle\n                    }, {\n                      value: \"报警来源: \" + appNameListName,\n                      style: {\n                        color: \"red\"\n                      }\n                    }]\n                  }, {\n                    time: dateToString(new Date(ticketHistoryList[1].ticketTask.sendTime)),\n                    icon: \"fa fa-user bg-aqua\",\n                    disList: [{\n                      value: \"<a>报警处理</a>\"\n                    }, {\n                      value: \"处理人: \" + ticketHistoryList[1].ticketTask.variables.ticket.creatorName\n                    }, {\n                      value: \"处理方式:  分配\"\n                    }, {\n                      value: \"处理原因:  \"\n                    }]\n                  }];\n                } else {\n                  var alertItemList = ticketHistoryList[1].ticketTask.variables.alertItemList;\n                  var deviceName = ticketHistoryList[1].ticketTask.variables.devName;\n                  arr = [{\n                    time: dateToString(new Date(ticketHistoryList[1].ticketTask.variables.ticket.values.alertArisingTime)),\n                    icon: \"fa fa-user fa-fw fa-circle-o bg-green\",\n                    disList: [{\n                      value: \"<a>报警产生</a>\"\n                    }, {\n                      value: \"报警描述:  \" + ticketHistoryList[1].ticketTask.variables.ticket.values.alertTitle\n                    }, {\n                      value: '<button class=\"btn btn-primary btn-sm alertItemList\">合并告警</button>'\n                    }]\n                  }];\n                }\n              } else if (ticketHistoryList[1].ticketTask.variables.ticket.category == \"90\") {\n                var ticketDealing90Data = ticketHistoryList[1].ticketTask;\n                /**\n                 *  合并多条告警\n                 *  是多条展示弹框/单条跟之前一样\n                 *\n                 */\n\n                if (ticketHistoryList[1].ticketTask.variables.alertItemList && ticketHistoryList[1].ticketTask.variables.alertItemList.length == 1) {\n                  //fa fa-user fa-fw fa-circle-o\n                  var specialtyName = ticketHistoryList[1].ticketTask.variables.alertItemList[0].specialtyName,\n                      appNameListName,\n                      alertSeverityListName;\n                  appNameList.forEach(function (e) {\n                    if (e.valueCode == ticketHistoryList[1].ticketTask.variables.ticket.values.appName) {\n                      appNameListName = e.label;\n                      return;\n                    }\n                  });\n                  var statusGradeListName;\n                  statusGrades.forEach(function (e) {\n                    if (e.valueCode == ticketHistoryList[1].ticketTask.variables.statusGrade) {\n                      statusGradeListName = e.label;\n                      return;\n                    }\n                  }); //报警级别 alertSeverity\n\n                  alertSeverityList.forEach(function (e) {\n                    if (e.valueCode == ticketHistoryList[1].ticketTask.variables.ticket.values.severity) {\n                      alertSeverityListName = e.label;\n                      return;\n                    }\n                  });\n                  arr = [{\n                    time: dateToString(new Date(ticketHistoryList[1].ticketTask.variables.ticket.values.alertArisingTime)),\n                    icon: \"fa fa-user fa-fw fa-circle-o bg-green\",\n                    disList: [{\n                      value: \"<a>报警产生</a>\"\n                    }, {\n                      value: \"报警类型:  \" + (specialtyName ? specialtyName : \"无\")\n                    }, {\n                      value: \"报警级别:  \" + alertSeverityListName\n                    }, {\n                      value: \"报警描述:  \" + ticketHistoryList[1].ticketTask.variables.ticket.values.alertTitle\n                    }, {\n                      value: \"报警来源: \" + appNameListName,\n                      style: {\n                        color: \"red\"\n                      }\n                    }]\n                  }, {\n                    time: dateToString(new Date(ticketHistoryList[1].ticketTask.sendTime)),\n                    icon: \"fa fa-user bg-aqua\",\n                    disList: [{\n                      value: \"<a>综合诊断</a>\"\n                    }, {\n                      value: \"处理人:  \" + ticketHistoryList[1].ticketTask.senderName\n                    }, {\n                      value: \"<span style='color:#2997bb'>状态诊断<span>\"\n                    }, {\n                      value: \"综合状态等级:  \" + (statusGradeListName ? statusGradeListName : \"\")\n                    }, {\n                      value: \"处理方案建议:  \" + (ticketHistoryList[1].ticketTask.variables.cessingScheme ? ticketHistoryList[1].ticketTask.variables.cessingScheme : \"\")\n                    }, {\n                      value: \"<span style='color:#2997bb'>状态处理<span>\"\n                    }, {\n                      value: \"处理人:  \" + ticketHistoryList[1].ticketTask.senderName\n                    }, {\n                      value: \"处理方式:  \" + dealTypeObj[ticketHistoryList[1].ticketTask.variables.ticket.values.dealType]\n                    }, {\n                      value: \"检修标准编号:  \" + (ticketHistoryList[1].ticketTask.variables.ticket.values.standardProjectId ? ticketHistoryList[1].ticketTask.variables.ticket.values.standardProjectId : \"\")\n                    }, {\n                      value: \"标准项目名称:  \" + (ticketHistoryList[1].ticketTask.variables.ticket.values.standardProjectName ? ticketHistoryList[1].ticketTask.variables.ticket.values.standardProjectName : \"\")\n                    }, {\n                      // value: '<button class=\"btn btn-primary btn-sm alertItemList\">详情</button>'\n                      value: '<button class=\"btn btn-primary btn-sm dealing90\" value=\"' + ticketHistoryList[1].ticketTask.ticketNo + '\">方案履历</button>'\n                    }]\n                  }];\n                } else {\n                  var alertItemList = ticketHistoryList[1].ticketTask.variables.alertItemList;\n                  var deviceName = ticketHistoryList[1].ticketTask.variables.devName;\n                  var statusGradeListName;\n                  statusGrades.forEach(function (e) {\n                    if (e.valueCode == ticketHistoryList[1].ticketTask.variables.statusGrade) {\n                      statusGradeListName = e.label;\n                      return;\n                    }\n                  });\n                  arr = [{\n                    time: dateToString(new Date(ticketHistoryList[1].ticketTask.variables.ticket.values.alertArisingTime)),\n                    icon: \"fa fa-user fa-fw fa-circle-o bg-green\",\n                    disList: [{\n                      value: \"<a>报警产生</a>\"\n                    }, {\n                      value: \"报警描述:  \" + ticketHistoryList[1].ticketTask.variables.ticket.values.alertTitle\n                    }, {\n                      value: '<button class=\"btn btn-primary btn-sm alertItemList\">合并告警</button>'\n                    }]\n                  }, {\n                    time: dateToString(new Date(ticketHistoryList[1].ticketTask.sendTime)),\n                    icon: \"fa fa-user bg-aqua\",\n                    disList: [{\n                      value: \"<a>综合诊断</a>\"\n                    }, {\n                      value: \"处理人:  \" + ticketHistoryList[1].ticketTask.senderName\n                    }, {\n                      value: \"<span style='color:#2997bb'>状态诊断<span>\"\n                    }, {\n                      value: \"综合状态等级:  \" + (statusGradeListName ? statusGradeListName : \"\")\n                    }, {\n                      value: \"处理方案建议:  \" + (ticketHistoryList[1].ticketTask.variables.cessingScheme ? ticketHistoryList[1].ticketTask.variables.cessingScheme : \"\")\n                    }, {\n                      value: \"<span style='color:#2997bb'>状态处理<span>\"\n                    }, {\n                      value: \"处理人:  \" + ticketHistoryList[1].ticketTask.handlerName\n                    }, {\n                      value: \"处理方式:  \" + dealTypeObj[ticketHistoryList[1].ticketTask.variables.ticket.values.dealType]\n                    }, {\n                      value: \"检修标准编号:  \" + (ticketHistoryList[1].ticketTask.variables.ticket.values.standardProjectId ? ticketHistoryList[1].ticketTask.variables.ticket.values.standardProjectId : \"\")\n                    }, {\n                      value: \"标准项目名称:  \" + (ticketHistoryList[1].ticketTask.variables.ticket.values.standardProjectName ? ticketHistoryList[1].ticketTask.variables.ticket.values.standardProjectName : \"\")\n                    }, {\n                      // value: '<button class=\"btn btn-primary btn-sm alertItemList\">详情</button>'\n                      value: '<button class=\"btn btn-primary btn-sm dealing90\" value=\"' + ticketHistoryList[1].ticketTask.ticketNo + '\">方案履历</button>'\n                    }]\n                  }];\n                }\n              } else if (ticketHistoryList[1].ticketTask.variables.ticket.category == \"260\") {\n                //fa fa-user fa-fw fa-circle-o\n                var specialtyName = ticketHistoryList[1].ticketTask.variables.alertItemList[0].specialtyName,\n                    appNameListName,\n                    alertSeverityListName;\n                appNameList.forEach(function (e) {\n                  if (e.valueCode == ticketHistoryList[1].ticketTask.variables.ticket.values.appName) {\n                    appNameListName = e.label;\n                    return;\n                  }\n                }); //报警级别 alertSeverity\n\n                alertSeverityList.forEach(function (e) {\n                  if (e.valueCode == ticketHistoryList[1].ticketTask.variables.ticket.values.severity) {\n                    alertSeverityListName = e.label;\n                    return;\n                  }\n                });\n                arr = [{\n                  time: dateToString(new Date(ticketHistoryList[1].ticketTask.variables.ticket.values.alertArisingTime)),\n                  icon: \"fa fa-user fa-fw fa-circle-o bg-green\",\n                  disList: [{\n                    value: \"<a>报警产生</a>\"\n                  }, {\n                    value: \"报警类型:  \" + (specialtyName ? specialtyName : \"无\")\n                  }, {\n                    value: \"报警级别:  \" + alertSeverityListName\n                  }, {\n                    value: \"报警描述:  \" + ticketHistoryList[1].ticketTask.variables.ticket.values.alertTitle\n                  }, {\n                    value: \"报警来源: \" + appNameListName,\n                    style: {\n                      color: \"red\"\n                    }\n                  }]\n                }];\n              } // 新建临时委托拼接一个节点\n\n\n              if (ticketHistoryList[1].ticketTask.variables.ticket.category == \"210\") {\n                arr = [{\n                  time: dateToString(new Date(ticketHistoryList[1].ticketTask.sendTime)),\n                  icon: \"fa fa-user fa-fw fa-circle-o bg-green\",\n                  disList: [{\n                    value: \"<a>临时委托</a>\"\n                  }, {\n                    value: \"委托人:  \" + ticketHistoryList[1].ticketTask.senderName\n                  }, {\n                    value: \"检修标准编号:  \" + createTrust.standardProjectId\n                  }, {\n                    value: \"标准项目名称:  \" + createTrust.standardProjectName\n                  }, {\n                    value: \"处理方式:  临时委托\"\n                  }, {\n                    // value: '<button class=\"btn btn-primary btn-sm alertItemList\">详情</button>'\n                    value: '<button class=\"btn btn-primary btn-sm trusting\" value=\"' + ticketHistoryList[1].ticketTask.variables.devName + ',' + ticketHistoryList[1].ticketTask.variables.deviceCode + ',' + ticketHistoryList[1].ticketTask.ticketNo + '\">检修委托详情</button>'\n                  }]\n                }];\n              } // 点检异常处理\n\n\n              if (ticketHistoryList[1].ticketTask.variables.ticket.category == \"130\") {\n                var pointTicketNo = ticketHistoryList[1].ticketTask.variables.pointTicketNo;\n                arr = [{\n                  time: dateToString(new Date(ticketHistoryList[1].ticketTask.sendTime)),\n                  icon: \"fa fa-user fa-fw fa-circle-o bg-green\",\n                  disList: [{\n                    value: \"<a>点检计划</a>\"\n                  }, {\n                    value: \"处理人:  \" + ticketHistoryList[1].ticketTask.senderName\n                  }, //   {\n                  //     value: \"检修标准编号:  \" +standInfo.standardProjectId\n                  //   },\n                  //   {\n                  //     value: \"标准项目名称:  \" + standInfo.standardProjectName\n                  //   },\n                  {\n                    value: \"处理方式:  录入实绩\"\n                  }, {\n                    value: '<button class=\"btn btn-primary btn-sm dianjianyichang\">任务详情</button>'\n                  }]\n                }, {\n                  time: dateToString(new Date(ticketHistoryList[1].ticketTask.sendTime)),\n                  icon: \"fa fa-user fa-fw fa-circle bg-green\",\n                  disList: [{\n                    value: \"<a>点检异常</a>\"\n                  }, {\n                    value: \"处理人:  \" + ticketHistoryList[1].ticketTask.handlerName\n                  }, {\n                    value: \"异常描述:  \" + ticketHistoryList[1].ticketTask.ticketTitle\n                  }]\n                }];\n              }\n\n              for (var i = 1; i < ticketHistoryList.length; i++) {\n                var historyList = {\n                  icon: \"\",\n                  disList: \"\",\n                  time: ticketHistoryList[i].ticketTask.values ? dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime)) : \"\"\n                }; // 结束\n\n                if (ticketHistoryList[i].logType == \"endEvent\") {\n                  historyList.icon = \"fa fa-fw fa-circle bg-green\";\n                  historyList.disList = [{\n                    value: ticketHistoryList[i].message\n                  }, {\n                    value: \"处理人: \" + ticketHistoryList[i].ticketTask.handlerName\n                  }];\n                } // 任务详细流程\n\n\n                if (ticketHistoryList[i].logType == \"userTask\") {\n                  // 显示icon\n                  if (ticketHistoryList[i].ticketTask.taskStatus == 200) {\n                    historyList.icon = \"fa fa-user bg-aqua\";\n                  } else {\n                    historyList.icon = \"fa fa-user bg-aqua bg-orange\";\n                  } // 诊断分析\n\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"checking\") {\n                    if (ticketHistoryList[i].ticketTask.values) {\n                      // 综合状态等级\n                      var statusGradeListName;\n                      var statusGradeList = target.getRootScope(\"myDicts\")[\"statusGrade\"];\n                      statusGradeList.forEach(function (e) {\n                        if (e.valueCode == ticketHistoryList[i].ticketTask.values.statusGrade) {\n                          statusGradeListName = e.label;\n                          return;\n                        }\n                      });\n                      historyList.disList = [{\n                        value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                      }, {\n                        value: \"诊断人: \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: \"综合状态等级: \" + (statusGradeListName ? statusGradeListName : \"\")\n                      }, {\n                        value: \"综合判断结论: \" + ticketHistoryList[i].ticketTask.values.multipleConclusion\n                      }, {\n                        value: \"处理方案建议:  \" + (ticketHistoryList[i].ticketTask.variables.cessingScheme ? ticketHistoryList[i].ticketTask.variables.cessingScheme : \"\")\n                      }, {\n                        value: '<button class=\"btn btn-primary btn-sm checking\" value=\"' + ticketHistoryList[i].ticketTask.variables.devName + ',' + ticketHistoryList[i].ticketTask.variables.deviceCode + ',' + ticketHistoryList[i].ticketTask.id + ',' + ticketHistoryList[i].ticketTask.ticketNo + '\">详情</button>'\n                      }];\n                    } else {\n                      historyList.disList = [{\n                        value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                      }, {\n                        value: \"诊断人: \" + ticketHistoryList[i].ticketTask.handlerName\n                      }];\n                    }\n                  } // 诊断审核\n\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"auditing\") {\n                    if (ticketHistoryList[i].ticketTask.values) {\n                      if (ticketHistoryList[i].ticketTask.values.isAudit == 0) {\n                        historyList.disList = [{\n                          value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                        }, {\n                          value: \"审核人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"审核结果:  驳回\"\n                        }, {\n                          value: \"审核意见: \" + ticketHistoryList[i].ticketTask.values.auditOpinion\n                        }];\n                      } else {\n                        historyList.disList = [{\n                          value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                        }, {\n                          value: \"审核人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: ticketHistoryList[i].ticketTask.values.isAudit == 0 ? \"审核结果:  驳回\" : \"审核结果:  通过\"\n                        }, {\n                          value: \"审核意见: \" + ticketHistoryList[i].ticketTask.values.auditOpinion\n                        }, {\n                          value: '综合诊断报告:   ' + '<a target=\"_blank\" href = \"/api/rest/download/deviceResumeUIService/getReportBytes/' + ticketHistoryList[i].ticketNo + '.pdf/' + ticketHistoryList[i].ticketNo + '\">' + ticketHistoryList[i].ticketNo + '.pdf</a>'\n                        }];\n                      }\n                    } else {\n                      historyList.disList = [{\n                        value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                      }, {\n                        value: \"审核人: \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: \"审核结果:  待审核\"\n                      }];\n                    }\n                  } // 点检处理\n\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"trusting\") {\n                    var dealTypeName;\n\n                    if (ticketHistoryList[i].ticketTask.values) {\n                      var dealTypeName;\n\n                      if (ticketHistoryList[i].ticketTask.values.dealType == 1) {\n                        dealTypeName = \"暂不处理\";\n                      } else if (ticketHistoryList[i].ticketTask.values.dealType == 2) {\n                        dealTypeName = \"自行处理\";\n                      } else if (ticketHistoryList[i].ticketTask.values.dealType == 3) {\n                        dealTypeName = \"发起委托\";\n                      }\n\n                      if (ticketHistoryList[i].ticketTask.values.dealType == 3) {\n                        if (ticketHistoryList[i].ticketTask.values.standardProjectId) {\n                          historyList.disList = [{\n                            value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                          }, {\n                            value: \"点检人: \" + ticketHistoryList[i].ticketTask.handlerName\n                          }, {\n                            value: \"处理方式: \" + dealTypeName\n                          }, {\n                            value: \"标准项目编号: \" + ticketHistoryList[i].ticketTask.values.standardProjectId\n                          }, {\n                            value: \"工程项目名称: \" + createTrust.standardProjectName\n                          }, {\n                            value: \"定年修主控重点: \" + createTrust.isSk\n                          }, {\n                            value: \"质量层级: \" + createTrust.qualityLevel\n                          }, {\n                            value: \"高危等级: \" + createTrust.highDangerLevel\n                          }, {\n                            // value: '<button class=\"btn btn-primary btn-sm\" id=\"trusting\">检修委托详情</button>',\n                            value: '<button class=\"btn btn-primary btn-sm trusting\" value=\"' + ticketHistoryList[i].ticketTask.variables.devName + ',' + ticketHistoryList[i].ticketTask.variables.deviceCode + ',' + ticketHistoryList[i].ticketTask.ticketNo + '\">检修委托详情</button>'\n                          }];\n                        } else {\n                          historyList.disList = [{\n                            value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                          }, {\n                            value: \"点检人: \" + ticketHistoryList[i].ticketTask.handlerName\n                          }, {\n                            value: \"处理方式: \" + dealTypeName\n                          }, {\n                            // value: '<button class=\"btn btn-primary btn-sm\" id=\"trusting\">检修委托详情</button>',\n                            value: '<button class=\"btn btn-primary btn-sm trusting\" value=\"' + ticketHistoryList[i].ticketTask.variables.devName + ',' + ticketHistoryList[i].ticketTask.variables.deviceCode + ',' + ticketHistoryList[i].ticketTask.ticketNo + '\">检修委托详情</button>'\n                          }];\n                        }\n                      } else if (ticketHistoryList[i].ticketTask.values.dealType == 1) {\n                        var tallyCheckboxlist = \"\";\n\n                        if (ticketHistoryList[i].ticketTask.values.tallyCheckboxlist) {\n                          ticketHistoryList[i].ticketTask.values.tallyCheckboxlist.forEach(function (elem) {\n                            tallyCheckboxlist += elem.label + \" ; \";\n                          });\n                        }\n\n                        historyList.disList = [{\n                          value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                        }, {\n                          value: \"点检人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"处理方式: \" + dealTypeName\n                        }, {\n                          value: \"处理原因: \" + tallyCheckboxlist\n                        }, {\n                          value: ticketHistoryList[i].ticketTask.values.tallyDealExplain ? \"处理说明: \" + ticketHistoryList[i].ticketTask.values.tallyDealExplain : \"处理说明: \"\n                        }];\n                      } else if (ticketHistoryList[i].ticketTask.values.dealType == 17) {\n                        //报警强制关闭\n                        historyList.disList = [{\n                          value: \"<a>强制关闭</a>\"\n                        }, {\n                          value: \"处理人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }];\n                      } else {\n                        historyList.disList = [{\n                          value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                        }, {\n                          value: \"点检人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"处理方式: \" + dealTypeName\n                        }, {\n                          value: \"处理原因: \" + ticketHistoryList[i].ticketTask.values.tallyReason\n                        }, {\n                          value: ticketHistoryList[i].ticketTask.values.tallyCourseReason ? \"处理说明: \" + ticketHistoryList[i].ticketTask.values.tallyCourseReason : \"处理说明: \"\n                        }];\n                      }\n                    } else {\n                      dealTypeName = \"待委托\";\n                      historyList.disList = [{\n                        value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                      }, {\n                        value: \"点检人: \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: \"处理方式: \" + dealTypeName\n                      }];\n                    }\n                  } // 检修计划，点检异常   发起委托/暂不处理/自行处理\n\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"dealing\" && ticketHistoryList[i].ticketTask.variables.ticket.category == \"260\") {\n                    // 异常处理是2050|脱硫产线发起的  \n                    var statusGradesName = \"\";\n                    var ticketDealing260Data = ticketHistoryList[i].ticketTask;\n                    statusGrades.forEach(function (e) {\n                      if (e.valueCode == ticketHistoryList[i].ticketTask.variables.ticket.values.statusGrade) {\n                        statusGradesName = e.label;\n                        return;\n                      }\n                    });\n                    historyList.time = dateToString(new Date(ticketHistoryList[i].ticketTask.sendTime));\n                    historyList.disList = [{\n                      value: \"<a>综合诊断</a>\"\n                    }, {\n                      value: \"处理人:  \" + ticketHistoryList[i].ticketTask.senderName\n                    }, {\n                      value: \"<span style='color:#2997bb'>状态诊断<span>\"\n                    }, {\n                      value: \"综合状态等级:  \" + (statusGradeListName ? statusGradeListName : \"\")\n                    }, {\n                      value: \"综合判断结论:  \" + ticketHistoryList[i].ticketTask.variables.ticket.values.multipleConclusion\n                    }, {\n                      value: \"处理方案建议:  \" + (ticketHistoryList[i].ticketTask.variables.ticket.values.cessingScheme ? ticketHistoryList[i].ticketTask.variables.ticket.values.cessingScheme : \"\")\n                    }, {\n                      // value: '<button class=\"btn btn-primary btn-sm alertItemList\">详情</button>'\n                      value: '<button class=\"btn btn-primary btn-sm dealing260\" value=\"' + ticketHistoryList[i].ticketTask.ticketNo + //   + JSON.stringify(ticketHistoryList[i].ticketTask) +\n                      '\">方案履历</button>'\n                    }, {\n                      value: \"<span style='color:#2997bb'>状态处理<span>\"\n                    }, {\n                      value: \"处理人:  \" + ticketHistoryList[i].ticketTask.handlerName\n                    }];\n\n                    if (ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.complexDealType == 2) {\n                      historyList.disList = [{\n                        value: \"<a>综合诊断</a>\"\n                      }, {\n                        value: \"处理人:  \" + ticketHistoryList[i].ticketTask.senderName\n                      }, {\n                        value: \"<span style='color:#2997bb'>状态诊断<span>\"\n                      }, {\n                        value: \"综合状态等级:  \" + (statusGradeListName ? statusGradeListName : \"\")\n                      }, {\n                        value: \"综合判断结论:  \" + ticketHistoryList[i].ticketTask.variables.ticket.values.multipleConclusion\n                      }, {\n                        value: \"处理方案建议:  \" + (ticketHistoryList[i].ticketTask.variables.ticket.values.cessingScheme ? ticketHistoryList[i].ticketTask.variables.ticket.values.cessingScheme : \"\")\n                      }, {\n                        value: '<button class=\"btn btn-primary btn-sm dealing260\" value=\"' + ticketHistoryList[i].ticketTask.ticketNo + '\">方案履历</button>'\n                      }, {\n                        value: \"<span style='color:#2997bb'>报警关闭<span>\"\n                      }, {\n                        value: \"处理人:  \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: \"关闭原因:  \" + ticketHistoryList[i].ticketTask.values.colseReason\n                      }];\n                    } else if (ticketHistoryList[i].ticketTask.values) {\n                      historyList.disList = [{\n                        value: \"<a>综合诊断</a>\"\n                      }, {\n                        value: \"处理人:  \" + ticketHistoryList[i].ticketTask.senderName\n                      }, {\n                        value: \"<span style='color:#2997bb'>状态诊断<span>\"\n                      }, {\n                        value: \"综合状态等级:  \" + (statusGradeListName ? statusGradeListName : \"\")\n                      }, {\n                        value: \"综合判断结论:  \" + ticketHistoryList[i].ticketTask.variables.ticket.values.multipleConclusion\n                      }, {\n                        value: \"处理方案建议:  \" + (ticketHistoryList[i].ticketTask.variables.ticket.values.cessingScheme ? ticketHistoryList[i].ticketTask.variables.ticket.values.cessingScheme : \"\")\n                      }, {\n                        value: \"<span style='color:#2997bb'>状态处理<span>\"\n                      }, {\n                        value: \"处理人:  \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: \"处理方式:  \" + (dealTypeObj[ticketHistoryList[i].ticketTask.values.dealType] ? dealTypeObj[ticketHistoryList[i].ticketTask.values.dealType] : \"待处理\")\n                      }, {\n                        value: \"检修标准编号:  \" + (ticketHistoryList[i].ticketTask.values.standardProjectId ? ticketHistoryList[i].ticketTask.values.standardProjectId : \"\")\n                      }, {\n                        value: \"标准项目名称:  \" + (ticketHistoryList[i].ticketTask.values.standardProjectName ? ticketHistoryList[i].ticketTask.values.standardProjectName : \"\")\n                      }, {\n                        // value: '<button class=\"btn btn-primary btn-sm alertItemList\">详情</button>'\n                        value: '<button class=\"btn btn-primary btn-sm dealing260\" value=\"' + ticketHistoryList[i].ticketTask.ticketNo + '\">方案履历</button>'\n                      }];\n                    }\n                  } else if (ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"dealing\") {\n                    var dealTypeName;\n\n                    if (ticketHistoryList[i].ticketTask.values) {\n                      var dealTypeName;\n\n                      if (ticketHistoryList[i].ticketTask.values.dealType == 1) {\n                        dealTypeName = \"暂不处理\";\n                      } else if (ticketHistoryList[i].ticketTask.values.dealType == 2) {\n                        dealTypeName = \"自行处理\";\n                      } else if (ticketHistoryList[i].ticketTask.values.dealType == 3) {\n                        dealTypeName = \"发起委托\";\n                      }\n\n                      if (ticketHistoryList[i].ticketTask.values.dealType == 3) {\n                        historyList.disList = [{\n                          value: \"<a>检修计划</a>\"\n                        }, {\n                          value: \"处理人:  \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"检修标准编号:  \" + createTrust.standardProjectId\n                        }, {\n                          value: \"标准项目名称:  \" + createTrust.standardProjectName\n                        }, {\n                          value: \"处理方式:  \" + dealTypeName\n                        }, {\n                          // value: '<button class=\"btn btn-primary btn-sm alertItemList\">详情</button>'\n                          value: '<button class=\"btn btn-primary btn-sm trusting\" value=\"' + ticketHistoryList[i].ticketTask.variables.devName + ',' + ticketHistoryList[i].ticketTask.variables.deviceCode + ',' + ticketHistoryList[i].ticketTask.ticketNo + '\">检修委托详情</button>'\n                        }];\n                      } else if (ticketHistoryList[i].ticketTask.values.dealType == 1) {\n                        var tallyCheckboxlist = \"\";\n\n                        if (ticketHistoryList[i].ticketTask.values.tallyCheckboxlist) {\n                          ticketHistoryList[i].ticketTask.values.tallyCheckboxlist.forEach(function (elem) {\n                            tallyCheckboxlist += elem.label + \" ; \";\n                          });\n                        }\n\n                        historyList.disList = [{\n                          value: \"<a>检修计划</a>\"\n                        }, {\n                          value: \"点检人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"处理方式: \" + dealTypeName\n                        }, {\n                          value: \"处理原因: \" + tallyCheckboxlist\n                        }, {\n                          value: ticketHistoryList[i].ticketTask.values.tallyDealExplain ? \"处理说明: \" + ticketHistoryList[i].ticketTask.values.tallyDealExplain : \"处理说明: \"\n                        }];\n                      } else {\n                        historyList.disList = [{\n                          value: \"<a>检修计划</a>\"\n                        }, {\n                          value: \"点检人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"处理方式: \" + dealTypeName\n                        }, {\n                          value: \"处理原因: \" + ticketHistoryList[i].ticketTask.values.tallyReason\n                        }, {\n                          value: ticketHistoryList[i].ticketTask.values.tallyCourseReason ? \"处理说明: \" + ticketHistoryList[i].ticketTask.values.tallyCourseReason : \"处理说明: \"\n                        }];\n                      }\n                    } else {\n                      dealTypeName = \"待处理\";\n                      historyList.disList = [{\n                        value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                      }, {\n                        value: \"点检人: \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: \"处理方式: \" + dealTypeName\n                      }];\n                    }\n                  } //\n                  // 检修实绩\n\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"maintaining\") {\n                    if (ticketHistoryList[i].ticketTask.values) {\n                      if (ticketHistoryList[i].ticketTask.values.tempDealType == 1) {\n                        historyList.disList = [{\n                          value: \"<a>检修实绩</a>\"\n                        }, {\n                          value: \"检修人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"状态: 被退回\"\n                        }, {\n                          value: \"退回说明: \" + ticketHistoryList[i].ticketTask.values.recallExplain\n                        }];\n                      } else {\n                        historyList.disList = [{\n                          value: \"<a>检修实绩</a>\"\n                        }, {\n                          value: \"检修人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: '<button class=\"btn btn-primary btn-sm maintainingProject\" value=\"' + ticketHistoryList[i].ticketTask.variables.deviceCode + ',' + ticketHistoryList[i].ticketTask.variables.standardProjectId + ',' + ticketHistoryList[i].ticketTask.variables.deviceCode + ',' + ticketHistoryList[i].ticketNo + '\">维修方案</button>'\n                        }, {\n                          value: \"<button class='btn btn-primary btn-sm repairProject' value='\" + JSON.stringify(ticketHistoryList[i].ticketTask.values) + \"'>检修实绩</button>\"\n                        }];\n                      }\n                    } else {\n                      historyList.disList = [{\n                        value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                      }, {\n                        value: \"检修人: \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: '<button class=\"btn btn-primary btn-sm maintainingProject\" value=\"' + ticketHistoryList[i].ticketTask.variables.deviceCode + ',' + ticketHistoryList[i].ticketTask.variables.standardProjectId + ',' + ticketHistoryList[i].ticketTask.variables.deviceCode + ',' + ticketHistoryList[i].ticketNo + '\">维修方案</button>'\n                      }];\n                    }\n                  } // 检修验收\n\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"accepting\") {\n                    if (ticketHistoryList[i].ticketTask.variables.ticket.category == \"50\") {\n                      if (ticketHistoryList[i].ticketTask.values) {\n                        // var tallyCheckName;\n                        // if (ticketHistoryList[i].ticketTask.values.tallyCheck == 0) {\n                        //   tallyCheckName = \"通过\"\n                        // } else if (ticketHistoryList[i].ticketTask.values.tallyCheck == 1) {\n                        //   tallyCheckName = \"不通过\"\n                        // }\n                        historyList.disList = [{\n                          value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                        }, {\n                          value: \"验收人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"验收说明:  \" + (ticketHistoryList[i].ticketTask.values.tallyCheck ? ticketHistoryList[i].ticketTask.values.tallyCheck : \"\")\n                        }, {\n                          value: \"备注  : \" + (ticketHistoryList[i].ticketTask.values.tallyRemark ? ticketHistoryList[i].ticketTask.values.tallyRemark : \"\")\n                        }];\n                      } else {\n                        historyList.disList = [{\n                          value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                        }, {\n                          value: \"验收人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"验收说明:  待验收\"\n                        }];\n                      }\n                    } else {\n                      // 判断是检修计划的评价\n                      if (ticketHistoryList[i].ticketTask.values) {\n                        historyList.disList = [{\n                          value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                        }, {\n                          value: \"验收人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"<button class='btn btn-primary btn-sm taskEvaluate' value='\" + JSON.stringify(ticketHistoryList[i].ticketTask) + \"'>验收说明</button>\"\n                        }];\n                      } else {\n                        historyList.disList = [{\n                          value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                        }, {\n                          value: \"处理人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"评价说明: 待评价\"\n                        }];\n                      }\n                    }\n                  } // 诊断评价   tallyEvaluateCheckboxlist\n\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"assessing\") {\n                    if (ticketHistoryList[i].ticketTask.values) {\n                      // 判断如果是暂不处理\n                      if (ticketHistoryList[i].ticketTask.values.abnormalEvaluateCheckboxlist) {\n                        var tallyEvaluateCheckboxlistName;\n\n                        if (ticketHistoryList[i].ticketTask.values.abnormalEvaluateCheckboxlist == 0) {\n                          tallyEvaluateCheckboxlistName = \"有效\";\n                        } else if (ticketHistoryList[i].ticketTask.values.abnormalEvaluateCheckboxlist == 1) {\n                          tallyEvaluateCheckboxlistName = \"无效\";\n                        }\n\n                        historyList.disList = [{\n                          value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                        }, {\n                          value: \"评价人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"异常处理等级:  \" + tallyEvaluateCheckboxlistName\n                        }, {\n                          value: \"评价说明  : \" + (ticketHistoryList[i].ticketTask.values.abnormalEvaluateDealExplain ? ticketHistoryList[i].ticketTask.values.abnormalEvaluateDealExplain : \"\")\n                        }];\n                      } else {\n                        var tallyEvaluateCheckboxlistName;\n\n                        if (ticketHistoryList[i].ticketTask.values.tallyEvaluateCheckboxlist == 0) {\n                          tallyEvaluateCheckboxlistName = \"正确\";\n                        } else if (ticketHistoryList[i].ticketTask.values.tallyEvaluateCheckboxlist == 1) {\n                          tallyEvaluateCheckboxlistName = \"基本正确\";\n                        } else {\n                          tallyEvaluateCheckboxlistName = \"不正确\";\n                        }\n\n                        historyList.disList = [{\n                          value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                        }, {\n                          value: \"评价人: \" + ticketHistoryList[i].ticketTask.handlerName\n                        }, {\n                          value: \"评价等级:  \" + tallyEvaluateCheckboxlistName\n                        }, {\n                          value: \"评价说明  : \" + (ticketHistoryList[i].ticketTask.values.tallyEvaluateDealExplain ? ticketHistoryList[i].ticketTask.values.tallyEvaluateDealExplain : \"\")\n                        }];\n                      } // 判断是1580 没有验收评价\n\n\n                      if (ticketHistoryList[i].ticketTask.variables.ticket.category != \"50\") {\n                        var item = {\n                          value: \"<button class='btn btn-primary btn-sm taskEvaluate' value='\" + JSON.stringify(ticketHistoryList[i].ticketTask) + \"'>验收说明</button>\"\n                        };\n                        historyList.disList.push(item);\n                      }\n                    } else {\n                      historyList.disList = [{\n                        value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                      }, {\n                        value: \"评价人: \" + ticketHistoryList[i].ticketTask.handlerName\n                      }];\n                    }\n                  } // 半总包这里验收、评价是分开的\n\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"assessingAgain\") {\n                    if (ticketHistoryList[i].ticketTask.values) {\n                      historyList.disList = [{\n                        value: \"<a>报警评价</a>\"\n                      }, {\n                        value: \"评价人: \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: \"<button class='btn btn-primary btn-sm assessingAgain'  value='\" + JSON.stringify(ticketHistoryList[i].ticketTask) + \"'>报警评价</button>\"\n                      }];\n                    } else {\n                      historyList.disList = [{\n                        value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                      }, {\n                        value: \"评价人: \" + ticketHistoryList[i].ticketTask.handlerName\n                      }];\n                    }\n                  } // 报警关闭\n\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"explaining\") {\n                    if (ticketHistoryList[i].ticketTask.values) {\n                      var alertEvaluateInfoList = ticketHistoryList[i].ticketTask.variables.alertItemList;\n                      historyList.disList = [{\n                        value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                      }, {\n                        value: \"说明人  : \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: \"关闭说明  : \" + (ticketHistoryList[i].ticketTask.values.diagnoseDeclare ? ticketHistoryList[i].ticketTask.values.diagnoseDeclare : \"\")\n                      }, {\n                        value: \"<button class='btn btn-primary btn-sm alertEvaluateInfoList'  value='\" + JSON.stringify(ticketHistoryList[i].ticketTask.values.alertEvaluateInfoList) + \"'>报警评价</button>\"\n                      }];\n                    } else {\n                      historyList.disList = [{\n                        value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                      }, {\n                        value: \"说明人: \" + ticketHistoryList[i].ticketTask.handlerName\n                      }];\n                    }\n                  } // 关闭审核\n\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"closing\") {\n                    if (ticketHistoryList[i].ticketTask.values) {\n                      historyList.disList = [{\n                        value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                      }, {\n                        value: \"审核人: \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: ticketHistoryList[i].ticketTask.values.isClose == 0 ? \"审核结果:  驳回\" : \"审核结果:  通过\"\n                      }, {\n                        value: \"审核说明  : \" + (ticketHistoryList[i].ticketTask.values.auditDeclare ? ticketHistoryList[i].ticketTask.values.auditDeclare : \"\")\n                      }];\n                    } else {\n                      historyList.disList = [{\n                        value: \"<a>\" + ticketHistoryList[i].message + \"</a>\"\n                      }, {\n                        value: \"审核人: \" + ticketHistoryList[i].ticketTask.handlerName\n                      }];\n                    }\n                  }\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.category == \"120\" && ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"backing\") {\n                    if (ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.tempDealType == 5) {\n                      historyList.disList = [{\n                        value: \"<a>检修计划</a>\"\n                      }, {\n                        value: \"处理人:  \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: \"检修标准编号:  \" + ticketHistoryList[i].ticketTask.values.standardProjectId\n                      }, {\n                        value: \"标准项目名称:  \" + ticketHistoryList[i].ticketTask.variables.standardInfo.standardProjectName\n                      }, {\n                        value: \"处理方式:  重新下发\"\n                      }, {\n                        // value: '<button class=\"btn btn-primary btn-sm alertItemList\">详情</button>'\n                        value: '<button class=\"btn btn-primary btn-sm trusting\" value=\"' + ticketHistoryList[i].ticketTask.variables.devName + ',' + ticketHistoryList[i].ticketTask.variables.deviceCode + ',' + ticketHistoryList[i].ticketTask.ticketNo + '\">检修委托详情</button>'\n                      }];\n                    } else if (ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.tempDealType == 4) {\n                      historyList.disList = [{\n                        value: \"<a>检修计划</a>\"\n                      }, {\n                        value: \"处理人:  \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: \"检修标准编号:  \" + ticketHistoryList[i].ticketTask.variables.standardInfo.standardProjectId\n                      }, {\n                        value: \"标准项目名称:  \" + ticketHistoryList[i].ticketTask.variables.standardInfo.standardProjectName\n                      }, {\n                        value: \"处理方式:  点检关闭\"\n                      }, {\n                        value: \"关闭说明:  \" + ticketHistoryList[i].ticketTask.values.closeReason\n                      }];\n                    } else {\n                      historyList.disList = [{\n                        value: \"<a>检修计划</a>\"\n                      }, {\n                        value: \"处理人:  \" + ticketHistoryList[i].ticketTask.handlerName\n                      }];\n                    }\n                  } // 当日点检的过程跟踪\n\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.category == \"100\" && ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"end\") {\n                    if (ticketHistoryList[i].ticketTask.values) {\n                      var dangridianjianData = ticketHistoryList[i].ticketTask;\n                      historyList.disList = [{\n                        value: \"<a>当日点检</a>\"\n                      }, {\n                        value: \"处理人:  \" + ticketHistoryList[1].ticketTask.senderName\n                      }, {\n                        value: \"处理方式:  录入实绩\"\n                      }, {\n                        value: '<button class=\"btn btn-primary btn-sm dangridianjian\">任务详情</button>'\n                      }];\n                    }\n                  } // 临时委托退回处理\n\n\n                  if (ticketHistoryList[i].ticketTask.variables.ticket.values.theTicketType == \"tempTrust\" && ticketHistoryList[i].ticketTask.variables.ticket.values.tickeTaskStatus == \"backing\") {\n                    if (ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.tempDealType == 5) {\n                      historyList.disList = [{\n                        value: \"<a>临时委托</a>\"\n                      }, {\n                        value: \"处理人:  \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: \"检修标准编号:  \" + ticketHistoryList[i].ticketTask.variables.ticket.values.standardProjectId\n                      }, {\n                        value: \"标准项目名称:  \" + ticketHistoryList[i].ticketTask.variables.ticket.values.standardProjectName\n                      }, {\n                        value: \"处理方式:  重新下发\"\n                      }, {\n                        // value: '<button class=\"btn btn-primary btn-sm alertItemList\">详情</button>'\n                        value: '<button class=\"btn btn-primary btn-sm trusting\" value=\"' + ticketHistoryList[i].ticketTask.variables.devName + ',' + ticketHistoryList[i].ticketTask.variables.deviceCode + ',' + ticketHistoryList[i].ticketTask.ticketNo + '\">检修委托详情</button>'\n                      }];\n                    } else if (ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.tempDealType == 4) {\n                      historyList.disList = [{\n                        value: \"<a>临时委托</a>\"\n                      }, {\n                        value: \"处理人:  \" + ticketHistoryList[i].ticketTask.handlerName\n                      }, {\n                        value: \"处理方式: 关闭委托\"\n                      }, {\n                        value: \"关闭说明: \" + ticketHistoryList[i].ticketTask.values.closeReason\n                      }];\n                    } else {\n                      historyList.disList = [{\n                        value: \"<a>临时委托</a>\"\n                      }, {\n                        value: \"处理人:  \" + ticketHistoryList[i].ticketTask.handlerName\n                      }];\n                    }\n                  }\n                }\n\n                arr.push(historyList);\n              }\n\n              var params = {\n                \"validUserFlag\": false,\n                \"variables\": {\n                  \"paramTicket._id\": ticketNo\n                }\n              };\n              target.getTicketTasksByCondition(params, function (tc) {\n                if (tc.length > 0) {\n                  // 知识整理\n                  var knowledge = {\n                    time: dateToString(new Date(ticketHistoryList[1].ticketTask.sendTime)),\n                    icon: tc[0].taskStatus == 10 ? \"fa fa-user bg-orange\" : \"fa  fa-user bg-aqua\",\n                    disList: [{\n                      value: \"<a>知识整理</a>\"\n                    }, {\n                      value: \"整理人:  \" + tc[0].handlerName\n                    }, {\n                      value: \"审核结果:  \" + (tc[0].taskStatus == 10 ? \"未处理\" : tc[0].values.dealType == 1 ? \" 知识整理\" : \"忽略\")\n                    }]\n                  };\n\n                  if (tc[0].taskStatus == 200 && tc[0].values.dealType == 1) {\n                    var item = {\n                      value: \"整理判断依据:  \" + tc[0].values.typicalBasis.toString()\n                    };\n                    knowledge.disList.push(item);\n                  }\n\n                  arr.push(knowledge);\n                  event.target.render(arr);\n                  fn();\n                } else {\n                  event.target.render(arr);\n                  fn();\n                }\n              });\n            }\n          });\n        } else {\n          event.target.render(ctrlGroups);\n        }\n      }\n    }\n  };\n});"],"sourceRoot":"/source/"}