{"version":3,"sources":["toolkit/component/image.js"],"names":["define","data","expression","index","element","global","$$","runExpression","$attr","funRes","code","Error","message","fnResult","system","imageslist","imageDom","$","events","on","css","style","initFn","undefined","setImage","image","render","parameters","imgSrc","$index","jquery","tools","target","ui"],"mappings":"AAAAA,OAAO,GAAI,WACT,OAAO,SAAUC,GACf,IAGIC,EAHAC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAASJ,EAAKI,OAElBC,GAAGC,cAAcH,EAAQI,MAAM,sBAAuB,SAAUC,GAC9D,GAAmB,KAAfA,EAAOC,KAWT,MAAM,IAAIC,MAAMF,EAAOG,SAVvB,IAAIC,EAAWJ,EAAOR,KAQtBC,GALEA,EADqB,mBAAZW,EACIA,EAASZ,EAAMa,QAEfD,IAGwB,KAK1BZ,EAAKc,WAAtB,IACIC,EAAWC,EAAE,eACbC,EAAShB,EAAWiB,GACxBH,EAASI,IAAI,sBAAuB,UACpCJ,EAASI,IAAI,oBAAqB,aAClCJ,EAASI,IAAI,kBAAmB,WAE5BhB,EAAQiB,OACVL,EAASI,IAAIhB,EAAQiB,OAGvB,IAAIC,EAASJ,EAASA,EAAOV,MAAM,aAAUe,EAwB7C,OAtBAnB,EAAQoB,SAAW,SAAUC,GAC3BT,EAASI,IAAI,mBAAoB,OAASK,EAAQ,MAGpDrB,EAAQsB,OAAS,SAAUD,GACzBT,EAASI,IAAI,mBAAoB,OAASK,EAAQ,MAGpDrB,EAAQsB,OAAOtB,EAAQuB,WAAWC,QAEb,mBAAVN,GACTA,EAAO,CACLO,OAAQ1B,EACR2B,OAAQd,EACRX,OAAQA,EACR0B,MAAO9B,EACP+B,OAAQ5B,EACR6B,GAAI7B,IAKDY","file":"toolkit/component/image.js","sourcesContent":["define([], function () {\n  return function (data) {\n    var index = data.index;\n    var element = data.element;\n    var global = data.global;\n    var expression;\n    $$.runExpression(element.$attr(\"advance/expression\"), function (funRes) {\n      if (funRes.code == \"0\") {\n        var fnResult = funRes.data;\n\n        if (typeof fnResult == 'function') {\n          expression = fnResult(data, system);\n        } else {\n          expression = fnResult;\n        }\n\n        expression = expression ? expression : {};\n      } else {\n        throw new Error(funRes.message);\n      }\n    });\n    var imageslist = data.imageslist;\n    var imageDom = $('<div></div>');\n    var events = expression.on;\n    imageDom.css(\"background-position\", \"center\");\n    imageDom.css(\"background-repeat\", \"no-repeat\");\n    imageDom.css(\"background-size\", \"contain\");\n\n    if (element.style) {\n      imageDom.css(element.style);\n    }\n\n    var initFn = events ? events.$attr(\"init\") : undefined;\n\n    element.setImage = function (image) {\n      imageDom.css(\"background-image\", \"url(\" + image + \")\");\n    };\n\n    element.render = function (image) {\n      imageDom.css(\"background-image\", \"url(\" + image + \")\");\n    };\n\n    element.render(element.parameters.imgSrc);\n\n    if (typeof initFn == \"function\") {\n      initFn({\n        $index: index,\n        jquery: imageDom,\n        global: global,\n        tools: data,\n        target: element,\n        ui: element\n      });\n    }\n\n    ;\n    return imageDom;\n  };\n});"],"sourceRoot":"/source/"}