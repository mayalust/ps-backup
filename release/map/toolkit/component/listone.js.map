{"version":3,"sources":["toolkit/component/listone.js"],"names":["define","data","resourceUIService","previewMode","buttonEnabled","fun","innerContent","$","uldom","append","eval","event","code","message","i","index","item","lidom","format","createTime","label","on","window","location","href","modelId","id","err","time","date","Date","month","getMonth","getFullYear","getDate","getHours","getMinutes","getSeconds"],"mappings":"AAGAA,OAAO,GAAI,WACT,OAAO,SAAUC,MACf,IAAIC,kBAAoBD,KAAKC,kBACzBC,YAAcF,KAAKE,YACnBC,cAAgBH,KAAKG,cACrBC,IAAM,qCACNC,aAAeC,EAAE,4DACjBC,MAAQD,EAAE,uDAoDd,OAnDAD,aAAaG,OAAOD,OACpBE,KAAKL,IAALK,CAAU,SAAUC,GAClB,IACE,GAAkB,KAAdA,EAAMC,KA+BR,MAAMD,EAAME,QA9BHF,EAAMV,KAEf,IAAK,IAAIa,KAAKH,EAAMV,MAClB,SAAWc,EAAOC,GAChB,GAAKb,YAOE,CACDc,EAAQV,EAAE,sTAE4FW,EAAOF,EAAKG,YAAc,UAAYH,EAAKI,MAAQ,mHAG7JZ,MAAMC,OAAOQ,GAETd,aACmB,GAAjBC,eACFa,EAAMI,GAAG,QAAS,SAAUV,GAC1BW,OAAOC,SAASC,KAAO,kCAAoCR,EAAKS,QAAU,IAAMT,EAAKU,SAlB3E,CAChB,IAAIT,EAAQV,EAAE,4RAE4FW,EAAOF,EAAKG,YAAc,UAAYH,EAAKI,MAAQ,mHAG7JZ,MAAMC,OAAOQ,IAPjB,CAwBGH,EAAGH,EAAMV,KAAKa,IAKrB,MAAOa,IAIT,SAAST,EAAOU,GACd,IAAIC,EAAO,IAAIC,KAAKF,GAChBG,EAAQF,EAAKG,WAAa,EAM9B,OALWH,EAAKI,cAKF,IAAMF,EAAQ,IAJnBF,EAAKK,UAIyB,MAHV,EAAlBL,EAAKM,WAAiBN,EAAKM,WAAa,IAAMN,EAAKM,YAGT,KAFpB,EAApBN,EAAKO,aAAmBP,EAAKO,aAAe,IAAMP,EAAKO,cAEA,KADnC,EAApBP,EAAKQ,aAAmBR,EAAKQ,aAAe,IAAMR,EAAKQ,iBAIjE/B","file":"toolkit/component/listone.js","sourcesContent":["/**\n * Created by leonlin on 16/11/3.\n */\ndefine([], function () {\n  return function (data) {\n    var resourceUIService = data.resourceUIService;\n    var previewMode = data.previewMode;\n    var buttonEnabled = data.buttonEnabled;\n    var fun = \"resourceUIService.getLatestDevices\";\n    var innerContent = $(\"<table width='100%' class='table table-hover no-margin'>\");\n    var uldom = $('<ul class=\"products-list product-list-in-box\"></ul>');\n    innerContent.append(uldom);\n    eval(fun)(function (event) {\n      try {\n        if (event.code == '0') {\n          var dt = event.data;\n\n          for (var i in event.data) {\n            (function (index, item) {\n              if (!previewMode) {\n                var lidom = $('<li class=\"item ng-scope\" ng-repeat=\"device in deviceitems\">\\\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-info\">\\\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"product-title ng-binding\"><span class=\"label label-primary pull-left ng-binding\">' + format(item.createTime) + '</span>' + item.label + '</a>\\\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\\\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>');\n                uldom.append(lidom);\n              } else {\n                var lidom = $('<li class=\"item ng-scope\" ng-repeat=\"device in deviceitems\" style=\"cursor : pointer;\">\\\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-info\">\\\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"product-title ng-binding\"><span class=\"label label-primary pull-left ng-binding\">' + format(item.createTime) + '</span>' + item.label + '</a>\\\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\\\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>');\n                uldom.append(lidom);\n\n                if (previewMode) {\n                  if (buttonEnabled == true) {\n                    lidom.on(\"click\", function (event) {\n                      window.location.href = \"../app-oc/index.html#/resource/\" + item.modelId + \"/\" + item.id;\n                    });\n                  }\n                }\n              }\n            })(i, event.data[i]);\n          }\n        } else {\n          throw event.message;\n        }\n      } catch (err) {\n        ;\n      }\n\n      function format(time) {\n        var date = new Date(time);\n        var month = date.getMonth() + 1;\n        var year = date.getFullYear();\n        var dt = date.getDate();\n        var hour = date.getHours() > 9 ? date.getHours() : \"0\" + date.getHours();\n        var minute = date.getMinutes() > 9 ? date.getMinutes() : \"0\" + date.getMinutes();\n        var second = date.getSeconds() > 9 ? date.getSeconds() : \"0\" + date.getSeconds();\n        return year + \"-\" + month + \"-\" + dt + \"  \" + hour + \":\" + minute + \":\" + second;\n      }\n    });\n    return innerContent;\n  };\n});"],"sourceRoot":"/source/"}