{"version":3,"sources":["toolkit/component/listtwo.js"],"names":["define","data","ticketTaskService","fun","innerContent","$","header","tbody","previewMode","buttonEnabled","status","append","eval","event","code","getContent","index","element","ticketNo","text","message","addClass","td1","td2","td3","content","priorityCode","on","window","open","i","length"],"mappings":"AAGAA,OAAO,GAAI,WACT,OAAO,SAAUC,MACf,IAAIC,kBAAoBD,KAAKC,kBACzBC,IAAM,uCACNC,aAAeC,EAAE,4DACjBC,OAASD,EAAE,+DACXE,MAAQF,EAAE,mBACVG,YAAcP,KAAKO,YACnBC,cAAgBR,KAAKQ,cACrBC,OAAS,IAyCb,OAxCAN,aAAaO,OAAOL,QAAQK,OAAOJ,OACnCK,KAAKT,IAALS,CAAUF,OAAQ,SAAUG,GAC1B,GAAkB,KAAdA,EAAMC,KACR,CAASD,EAAMZ,KA8Bf,IA9BA,IAEIc,EAAa,SAAoBC,EAAOC,GAC1C,IAAIC,EAAWb,EAAE,WAAWc,KAAKF,EAAQC,UACrCE,EAAUf,EAAE,iBAAiBc,KAAKF,EAAQG,SAC1CV,EAASL,EAAE,iBAAiBgB,SAAS,SACrCC,EAAMjB,EAAE,aAAaM,OAAOO,GAC5BK,EAAMlB,EAAE,aAAaM,OAAOS,GAC5BI,EAAMnB,EAAE,aAAaM,OAAOD,GAC5Be,EAAUpB,EAAE,aAAaM,OAAOW,GAAKX,OAAOY,GAAKZ,OAAOa,GAkB5D,OAhB4B,GAAxBP,EAAQS,aACVhB,EAAOS,KAAK,KAAKE,SAAS,gBACO,KAAxBJ,EAAQS,aACjBhB,EAAOS,KAAK,KAAKE,SAAS,gBACO,KAAxBJ,EAAQS,cACjBhB,EAAOS,KAAK,KAAKE,SAAS,mBAGxBb,aACmB,GAAjBC,eACFgB,EAAQE,GAAG,QAAS,SAAUd,GAC5Be,OAAOC,KAAK,mCAAqCZ,EAAQC,YAKxDO,GAGAK,EAAI,EAAGA,GAAyB,GAApBjB,EAAMZ,KAAK8B,OAAc,GAAKlB,EAAMZ,KAAK8B,QAASD,IACrEvB,MAAMI,OAAOI,EAAWe,EAAGjB,EAAMZ,KAAK6B,QAMrC1B","file":"toolkit/component/listtwo.js","sourcesContent":["/**\n * Created by leonlin on 16/11/3.\n */\ndefine([], function () {\n  return function (data) {\n    var ticketTaskService = data.ticketTaskService;\n    var fun = \"ticketTaskService.getTicketsByStatus\";\n    var innerContent = $(\"<table width='100%' class='table table-hover no-margin'>\");\n    var header = $(\"<thead><tr><th>工单号</th><th>内容</th><th>紧急度</th></tr></thead>\");\n    var tbody = $(\"<tbody></tbody>\");\n    var previewMode = data.previewMode;\n    var buttonEnabled = data.buttonEnabled;\n    var status = 100;\n    innerContent.append(header).append(tbody);\n    eval(fun)(status, function (event) {\n      if (event.code == '0') {\n        var dt = event.data;\n\n        var getContent = function getContent(index, element) {\n          var ticketNo = $(\"<a></a>\").text(element.ticketNo);\n          var message = $(\"<span></span>\").text(element.message);\n          var status = $(\"<span></span>\").addClass(\"label\");\n          var td1 = $(\"<td></td>\").append(ticketNo);\n          var td2 = $(\"<td></td>\").append(message);\n          var td3 = $(\"<td></td>\").append(status);\n          var content = $(\"<tr></tr>\").append(td1).append(td2).append(td3);\n\n          if (element.priorityCode == 0) {\n            status.text(\"低\").addClass(\"alerts-minor\");\n          } else if (element.priorityCode == 100) {\n            status.text(\"中\").addClass(\"alerts-major\");\n          } else if (element.priorityCode == 200) {\n            status.text(\"高\").addClass(\"alerts-critical\");\n          }\n\n          if (previewMode) {\n            if (buttonEnabled == true) {\n              content.on(\"click\", function (event) {\n                window.open(\"../app-oc/index.html#/workorder/\" + element.ticketNo);\n              });\n            }\n          }\n\n          return content;\n        };\n\n        for (var i = 0; i < (event.data.length > 10 ? 10 : event.data.length); i++) {\n          tbody.append(getContent(i, event.data[i]));\n        }\n      }\n\n      ;\n    });\n    return innerContent;\n  };\n});"],"sourceRoot":"/source/"}