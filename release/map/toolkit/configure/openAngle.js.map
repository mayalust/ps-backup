{"version":3,"sources":["toolkit/configure/openAngle.js"],"names":["define","d3","init","tg","option","wrap","select","selectAll","append","inner","bg","val","createArc","innerRadius","outerRadius","startAngle","endAngle","arc","openAngle","attr","radius","Math","PI","style","prototype","setPos","pos","x","y","setValue","value"],"mappings":"AAGAA,OAAO,CAAC,MAAO,SAAUC,GACvB,MAAO,CACLC,KAAM,SAAcC,EAAIC,GACtB,IAEIC,EAFMJ,EAAGK,OAAOH,GACDI,UAAU,aACTC,OAAO,KAC3BJ,EAASA,GAAU,GACnB,IAAIK,EAAQJ,EAAKG,OAAO,KACpBE,EAAKD,EAAMD,OAAO,QAClBG,EAAMF,EAAMD,OAAO,QAEnBI,EAAY,SAAmBC,EAAaC,EAAaC,EAAYC,GAEvE,OADUf,EAAGgB,MAAMJ,YAAYA,GAAaC,YAAYA,GAAaC,WAAWA,GAAYC,SAASA,EAC9FC,IAGT,SAASC,IACPT,EAAMU,KAAK,YAAa,eAAiBf,EAAOgB,QAAU,IAAM,EAAI,KAAOhB,EAAOgB,QAAU,IAAM,EAAI,KACtGV,EAAGS,KAAK,SAAU,QAClBT,EAAGS,KAAK,eAAgB,GACxBT,EAAGS,KAAK,IAAKP,EAAU,EAAGR,EAAOgB,QAAU,GAAI,EAAGC,KAAKC,GAAK,IAC5DX,EAAIY,MAAM,OAAQ,WAClBZ,EAAIQ,KAAK,IAAKP,EAAU,GAAIR,EAAOgB,QAAU,IAAM,EAAGC,KAAKC,GAAK,EAAGD,KAAKC,GAAK,IAc/E,OATAJ,EAAUM,UAAUC,OAAS,SAAUC,GACrCrB,EAAKc,KAAK,YAAa,aAAeO,EAAIC,EAAI,IAAMD,EAAIE,EAAI,MAG9DV,EAAUM,UAAUK,SAAW,SAAUC,GAEvCnB,EAAIQ,KAAK,IAAKP,EAAU,GAAIR,EAAOgB,QAAU,IAAM,EAAGC,KAAKC,GAAK,GAAK,EAAIQ,EAAQ,KAAMT,KAAKC,GAAK,KAG5F,IAAIJ,EAAUf","file":"toolkit/configure/openAngle.js","sourcesContent":["/**\n * Created by leonlin on 16/11/3.\n */\ndefine(['d3'], function (d3) {\n  return {\n    init: function init(tg, option) {\n      var svg = d3.select(tg);\n      var viewport = svg.selectAll(\".viewport\");\n      var wrap = viewport.append(\"g\");\n      option = option || {};\n      var inner = wrap.append(\"g\");\n      var bg = inner.append(\"path\");\n      var val = inner.append(\"path\");\n\n      var createArc = function createArc(innerRadius, outerRadius, startAngle, endAngle) {\n        var arc = d3.arc().innerRadius(innerRadius).outerRadius(outerRadius).startAngle(startAngle).endAngle(endAngle);\n        return arc();\n      };\n\n      function openAngle() {\n        inner.attr(\"transform\", \"translate(-\" + (option.radius || 50) / 2 + \",\" + (option.radius || 50) / 2 + \")\");\n        bg.attr(\"stroke\", \"#fff\");\n        bg.attr(\"stroke-width\", 2);\n        bg.attr(\"d\", createArc(0, option.radius || 50, 0, Math.PI / 2));\n        val.style(\"fill\", \"#0ecf9b\");\n        val.attr(\"d\", createArc(0, (option.radius || 50) - 1, Math.PI / 2, Math.PI / 2));\n      }\n\n      ;\n\n      openAngle.prototype.setPos = function (pos) {\n        wrap.attr(\"transform\", \"translate(\" + pos.x + \",\" + pos.y + \")\");\n      };\n\n      openAngle.prototype.setValue = function (value) {\n        //value / 100\n        val.attr(\"d\", createArc(0, (option.radius || 50) - 1, Math.PI / 2 * (1 - value / 100), Math.PI / 2));\n      };\n\n      return new openAngle(tg);\n    }\n  };\n});"],"sourceRoot":"/source/"}