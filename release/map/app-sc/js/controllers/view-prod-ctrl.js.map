{"version":3,"sources":["app-sc/js/controllers/view-prod-ctrl.js"],"names":["define","controllers","psUltility","initController","scope","$state","$stateParams","userEnterpriseService","rootScope","routeParams","resourceUIService","timeout","growl","q","window","location","viewFlexService","freeboardservice","userLoginUIService","roleViewService","commonMethodService","serviceProxy","commonMethodService2","$root","showTree","viewId","getCurrentParents","then","parents","extId","str","toLowerCase","toLowercase","length","category","externalDevId","map","d","label","join","treeStr","catch","e","error","message","$emit","main_active_index"],"mappings":"AAAAA,OAAO,CAAC,0BAA2B,oDAAqD,SAAUC,EAAaC,GAC7G,aAEAD,EAAYE,eAAe,eAAgB,CAAC,SAAU,SAAU,eAAgB,wBAAyB,aAAc,eAAgB,oBAAqB,WAAY,QAAS,KAAM,UAAW,YAAa,kBAAmB,mBAAoB,qBAAsB,kBAAmB,sBAAuB,eAAgB,uBAAwB,SAAUC,EAAOC,EAAQC,EAAcC,EAAuBC,EAAWC,EAAaC,EAAmBC,EAASC,EAAOC,EAAGC,EAAQC,EAAUC,EAAiBC,EAAkBC,EAAoBC,EAAiBC,EAAqBC,EAAcC,GACrlBlB,EAAMmB,MAAMC,SAAoC,GAAzBlB,EAAakB,SACpCpB,EAAMmB,MAAME,OAASnB,EAAamB,OAQlCH,EAAqBI,oBAAoBC,KAAK,SAAUC,GACtD,GAAIxB,EAAMmB,MAAO,CACf,IAAIM,EAA6D,UARrE,SAAqBC,GACnB,GAAkB,iBAAPA,EACT,OAAOA,EAAIC,cAMCC,CAAYJ,EAAQA,EAAQK,OAAS,GAAGC,WAAyBN,EAAQA,EAAQK,OAAS,GAAGE,cACrGL,EAAMF,EAAQQ,IAAI,SAAUC,GAC9B,OAAOA,EAAEC,QACRC,KAAK,OACRV,IAAQC,GAAO,MAAQD,EAAQ,OAC/BzB,EAAMmB,QAAQnB,EAAMmB,MAAMiB,QAAUV,MAErCW,MAAM,SAAUC,GACjB9B,EAAM+B,MAAMD,EAAEE,WAEhBxC,EAAMyC,MAAM,oBAAqBvC,EAAawC","file":"app-sc/js/controllers/view-prod-ctrl.js","sourcesContent":["define(['controllers/controllers', '../../../../node_modules/ps-ultility/ps-ultility'], function (controllers, psUltility) {\n  'use strict';\n\n  controllers.initController('viewProdCtrl', ['$scope', '$state', '$stateParams', 'userEnterpriseService', '$rootScope', '$routeParams', 'resourceUIService', '$timeout', 'growl', '$q', '$window', '$location', 'viewFlexService', 'freeboardservice', 'userLoginUIService', 'roleViewService', 'commonMethodService', 'serviceProxy', 'commonMethodService2', function (scope, $state, $stateParams, userEnterpriseService, rootScope, routeParams, resourceUIService, timeout, growl, q, window, location, viewFlexService, freeboardservice, userLoginUIService, roleViewService, commonMethodService, serviceProxy, commonMethodService2) {\n    scope.$root.showTree = $stateParams.showTree == 0 ? false : true;\n    scope.$root.viewId = $stateParams.viewId;\n\n    function toLowercase(str) {\n      if (typeof str == \"string\") {\n        return str.toLowerCase();\n      }\n    }\n\n    commonMethodService2.getCurrentParents().then(function (parents) {\n      if (scope.$root) {\n        var extId = toLowercase(parents[parents.length - 1].category) == \"device\" && parents[parents.length - 1].externalDevId,\n            str = parents.map(function (d) {\n          return d.label;\n        }).join(\" > \");\n        extId ? str += \" ( \" + extId + \" ) \" : null;\n        scope.$root ? scope.$root.treeStr = str : null;\n      }\n    }).catch(function (e) {\n      growl.error(e.message);\n    });\n    scope.$emit(\"main_active_index\", $stateParams.main_active_index);\n  }]);\n});"],"sourceRoot":"/source/"}