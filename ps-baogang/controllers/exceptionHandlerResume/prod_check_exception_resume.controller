<config injector="$scope,$timeout,ajax,$state,$registerService,commonMethodService2,growl,commonMethodService,psLoading"
></config>
<template>
    <div>
        <!--type1: 检修维护-->
        <div class="wrap" style="overflow-y: auto;height: calc(100vh - 180px);">
            <!--返回-->
            <div class="row margin-top-10 margin-bottom-10">
                <div class="col-md-1">
                    <button class="btn btn-primary btn-100" ng-click="back()">返回</button>
                </div>
            </div>
            <div class="titleHead">
                <div class="col-md-6" style="font-weight: 700;font-size: 75%;">
                     设备名称:<label ng-bind="resumeObj.ticket.values.devName"></label>
                </div>
                <div class="col-md-6" style="font-weight: 700;font-size: 75%;">
                    设备编号:<label ng-bind="resumeObj.ticket.values.deviceCode"></label>
                </div>
            </div>
            <!--检修委托-->
            <div class="row">
                <div class="margin-bottom-5">
                    <div class="col-md-12 margin-bottom-5 margin-top-15">
                        <div class="table-title pull-left">检修委托</div>
                        <div class="pull-right">
                            <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#check_entrust" aria-haspopup="false" aria-expanded="true"></span>
                        </div>
                    </div>
                    <div class="col-md-12 margin-bottom-10">
                        <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                    </div>
                    <div class="" id="check_entrust" class="collapse in">
                        <div class="row margin-bottom-5">
                            <div class="col-md-12 margin-bottom-5">
                                <div class="col-md-4">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            标准项目编号:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintenanceTask.standardProjectId"></ps-input>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            标准项目名称:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintenanceTask.standardProjectName"></ps-input>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            产线工程师:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintenanceTask.executionerName"></ps-input>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 margin-bottom-5">
                                <div class="col-md-4">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            施工类别:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintenanceTask.constructionType"></ps-input>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            项目类别:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintenanceTask.projectCategory"></ps-input>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            高危等级:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-select data-config="{'disabled': true}" ng-model="resumeObj.maintenanceTask.highDangerLevel" data-options="item.valueCode as item.label for item in highDangerLevels"></ps-select>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 margin-bottom-5">
                                <div class="col-md-4">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            实施依据:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintenanceTask.maintainBasis"></ps-input>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            建议班组名称:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintenanceTask.suggesTeamName"></ps-input>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            作业时长(H):
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintenanceTask.needTime"></ps-input>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 margin-bottom-5">
                                <div class="col-md-4">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            总人数:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintenanceTask.totalPerpsonNum"></ps-input>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            总工时(H):
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintenanceTask.totalUseTime"></ps-input>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                </div>
                            </div>
                            <div class="col-md-12 margin-bottom-5">
                                <div class="col-md-12">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            工作内容:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintenanceTask.workContent"></ps-input>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--检修方案-->
            <div class="row">
                <div class="margin-bottom-5">
                    <div class="col-md-12 margin-bottom-5 margin-top-15">
                        <div class="table-title pull-left">检修方案</div>
                        <div class="pull-right">
                            <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#check_plan" aria-haspopup="false" aria-expanded="true"></span>
                        </div>
                    </div>
                    <div class="col-md-12 margin-bottom-10">
                        <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                    </div>
                    <div class="" id="check_plan" class="collapse in">
                        <!--方案概况-->
                        <div class="row">
                            <div class="margin-bottom-5">
                                <div class="col-md-12 margin-bottom-5 margin-top-15">
                                    <div class="table-title pull-left">方案概况</div>
                                    <div class="pull-right">
                                        <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#plan_summarise" aria-haspopup="false" aria-expanded="true"></span>
                                    </div>
                                </div>
                                <div class="col-md-12 margin-bottom-10">
                                    <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                                </div>
                                <div class="" id="plan_summarise" class="collapse in">
                                    <div class="row margin-bottom-5">
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-4">
                                                <div class="tbl">
                                                    <div class="radio-lbl">
                                                        <span class="text-red">*</span>
                                                        检修方案名称:
                                                    </div>
                                                    <div class="tbl-cell">
                                                        <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintainPlan.maintainPlanResult.maintainPlanName"></ps-input>
                                                    </div>
                                                    <div class="radio-unit">
                                                        <span></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="tbl">
                                                    <div class="radio-lbl">
                                                        <span class="text-red">*</span>
                                                        危险源:
                                                    </div>
                                                    <div class="tbl-cell">
                                                        <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintainPlan.maintainPlanResult.dangerSource"></ps-input>
                                                    </div>
                                                    <div class="radio-unit">
                                                        <span></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="tbl">
                                                    <div class="radio-lbl">
                                                        <span class="text-red">*</span>
                                                        动火等级:
                                                    </div>
                                                    <div class="tbl-cell">
                                                        <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintainPlan.maintainPlanResult.fireGrade"></ps-input>
                                                    </div>
                                                    <div class="radio-unit">
                                                        <span></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-4">
                                                <div class="tbl">
                                                    <div class="radio-lbl">
                                                        <span class="text-red">*</span>
                                                        项目实施时间:
                                                    </div>
                                                    <div class="tbl-cell">
                                                        <ps-date2 data-config="{'disabled': true}" ng-model="resumeObj.ticket.values.projectImplTime"></ps-date2>
                                                    </div>
                                                    <div class="radio-unit">
                                                        <span></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                            </div>
                                            <div class="col-md-4">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--人员准备-->
                        <div class="row">
                            <div class="margin-bottom-5">
                                <div class="col-md-12 margin-bottom-5 margin-top-15">
                                    <div class="table-title pull-left">人员准备</div>
                                    <div class="pull-right">
                                        <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#people_prepare" aria-haspopup="false" aria-expanded="true"></span>
                                    </div>
                                </div>
                                <div class="col-md-12 margin-bottom-10">
                                    <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                                </div>
                                <div class="" id="people_prepare" class="collapse in">
                                    <div class="row margin-bottom-5">
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-1"></div>
                                            <div class="col-md-10">
                                                <table ps-table-sync
                                                       data-paginate="pageonly"
                                                       data-source="resumeObj.maintainPlan.maintainPlanResult.personList"
                                                       data-filter="filter1"
                                                       data-sort="sort1"
                                                       data-page="page1">
                                                    <thead>
                                                    <tr>
                                                        <th>人员类型</th>
                                                        <th>人员数量</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="(key,item) in items track by key">
                                                        <td ng-bind="item.personType"></td>
                                                        <td ng-bind="item.personNum"></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-md-1"></div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--工器具准备-->
                        <div class="row">
                            <div class="margin-bottom-5">
                                <div class="col-md-12 margin-bottom-5 margin-top-15">
                                    <div class="table-title pull-left">工器具准备</div>
                                    <div class="pull-right">
                                        <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#tool_prepare" aria-haspopup="false" aria-expanded="true"></span>
                                    </div>
                                </div>
                                <div class="col-md-12 margin-bottom-10">
                                    <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                                </div>
                                <div class="" id="tool_prepare" class="collapse in">
                                    <div class="row margin-bottom-5">
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-1"></div>
                                            <div class="col-md-10">
                                                <table ps-table-sync
                                                       data-paginate="pageonly"
                                                       data-source="resumeObj.maintainPlan.maintainPlanResult.toolList"
                                                       data-filter="filter2"
                                                       data-sort="sort2"
                                                       data-page="page2">
                                                    <thead>
                                                    <tr>
                                                        <th>名称</th>
                                                        <th>规格</th>
                                                        <th>数量</th>
                                                        <th>单位</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="(key,item) in items track by key">
                                                        <td ng-bind="item.name"></td>
                                                        <td ng-bind="item.format"></td>
                                                        <td ng-bind="item.num"></td>
                                                        <td ng-bind="item.unit"></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-md-1"></div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--常用材料准备-->
                        <div class="row">
                            <div class="margin-bottom-5">
                                <div class="col-md-12 margin-bottom-5 margin-top-15">
                                    <div class="table-title pull-left">常用材料准备</div>
                                    <div class="pull-right">
                                        <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#material_prepare" aria-haspopup="false" aria-expanded="true"></span>
                                    </div>
                                </div>
                                <div class="col-md-12 margin-bottom-10">
                                    <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                                </div>
                                <div class="" id="material_prepare" class="collapse in">
                                    <div class="row margin-bottom-5">
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-1"></div>
                                            <div class="col-md-10">
                                                <table ps-table-sync
                                                       data-paginate="pageonly"
                                                       data-source="resumeObj.maintainPlan.maintainPlanResult.materialList"
                                                       data-filter="filter3"
                                                       data-sort="sort3"
                                                       data-page="page3">
                                                    <thead>
                                                    <tr>
                                                        <th>名称</th>
                                                        <th>规格</th>
                                                        <th>数量</th>
                                                        <th>单位</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="(key,item) in items track by key">
                                                        <td ng-bind="item.name"></td>
                                                        <td ng-bind="item.format"></td>
                                                        <td ng-bind="item.num"></td>
                                                        <td ng-bind="item.unit"></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-md-1"></div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--备件准备-->
                        <div class="row">
                            <div class="margin-bottom-5">
                                <div class="col-md-12 margin-bottom-5 margin-top-15">
                                    <div class="table-title pull-left">备件准备</div>
                                    <div class="pull-right">
                                        <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#spare_prepare" aria-haspopup="false" aria-expanded="true"></span>
                                    </div>
                                </div>
                                <div class="col-md-12 margin-bottom-10">
                                    <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                                </div>
                                <div class="" id="spare_prepare" class="collapse in">
                                    <div class="row margin-bottom-5">
                                        <!--易耗件-->
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-1"></div>
                                            <div class="col-md-10">
                                                <span class="t_title">易耗件</span>
                                            </div>
                                            <div class="col-md-1"></div>

                                        </div>
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-1"></div>
                                            <div class="col-md-10">
                                                <table ps-table-sync
                                                       data-paginate="pageonly"
                                                       data-source="resumeObj.maintainPlan.maintainPlanResult.consumableParts"
                                                       data-filter="filter4"
                                                       data-sort="sort4"
                                                       data-page="page4">
                                                    <thead>
                                                    <tr>
                                                        <th>备件名称</th>
                                                        <th>备件编码</th>
                                                        <th>规格型号</th>
                                                        <th>生产厂家</th>
                                                        <th>使用数量</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="(key,item) in items track by key">
                                                        <td ng-bind="item.rollerName"></td>
                                                        <td ng-bind="item.rollerNo"></td>
                                                        <td ng-bind="item.format"></td>
                                                        <td ng-bind="item.manufacturer"></td>
                                                        <td ng-bind="item.useNum"></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-md-1"></div>

                                        </div>
                                        <!--可修复件-->
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-1"></div>
                                            <div class="col-md-10">
                                                <span class="t_title">可修复件</span>
                                            </div>
                                            <div class="col-md-1"></div>

                                        </div>
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-1"></div>
                                            <div class="col-md-10">
                                                <table ps-table-sync
                                                       data-paginate="pageonly"
                                                       data-source="resumeObj.maintainPlan.maintainPlanResult.repairableParts"
                                                       data-filter="filter5"
                                                       data-sort="sort5"
                                                       data-page="page5">
                                                    <thead>
                                                    <tr>
                                                        <th>备件名称</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="(key,item) in items track by key">
                                                        <td ng-bind="item"></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-md-1"></div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--检修实绩-->
            <div class="row">
                <div class="margin-bottom-5">
                    <div class="col-md-12 margin-bottom-5 margin-top-15">
                        <div class="table-title pull-left">检修实绩</div>
                        <div class="pull-right">
                            <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#maintaince_performance" aria-haspopup="false" aria-expanded="true"></span>
                        </div>
                    </div>
                    <div class="col-md-12 margin-bottom-10">
                        <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                    </div>
                    <div class="" id="maintaince_performance" class="collapse in">
                        <!--挂牌准备-->
                        <div class="row">
                            <div class="margin-bottom-5">
                                <div class="col-md-12 margin-bottom-5 margin-top-15">
                                    <div class="table-title pull-left">挂牌准备</div>
                                    <div class="pull-right">
                                        <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#list_prepare" aria-haspopup="false" aria-expanded="true"></span>
                                    </div>
                                </div>
                                <div class="col-md-12 margin-bottom-10">
                                    <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                                </div>
                                <div class="" id="list_prepare" class="collapse in">
                                    <div class="row margin-bottom-5">
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-1"></div>
                                            <div class="col-md-10">
                                                <table ps-table-sync
                                                       data-paginate="pageonly"
                                                       data-source="resumeObj.maintainPlan.maintainPlanResult.listDeviceList"
                                                       data-filter="filter6"
                                                       data-sort="sort6"
                                                       data-page="page6">
                                                    <thead>
                                                    <tr>
                                                        <th>序号</th>
                                                        <th>安全牌性质</th>
                                                        <th>挂牌位置</th>
                                                        <th>挂牌设备</th>
                                                        <th>挂牌确认</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="(key,item) in items track by key">
                                                        <td>{{key+1}}</td>
                                                        <td ng-bind="item.safeNature"></td>
                                                        <td ng-bind="item.listPosition"></td>
                                                        <td ng-bind="item.deviceName.indexOf('////') != -1 ? item.deviceName.split('////')[0] : item.deviceName"></td>
                                                        <td ng-bind="item.state == 0 ? '否'
                                                                     :item.state == 1 ? '是'
                                                                     : '-'
                                                        "></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-md-1"></div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--施工步骤-->
                        <div class="row">
                            <div class="margin-bottom-5">
                                <div class="col-md-12 margin-bottom-5 margin-top-15">
                                    <div class="table-title pull-left">施工步骤</div>
                                    <div class="pull-right">
                                        <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#apply_steps" aria-haspopup="false" aria-expanded="true"></span>
                                    </div>
                                </div>
                                <div class="col-md-12 margin-bottom-10">
                                    <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                                </div>
                                <div class="" id="apply_steps" class="collapse in">
                                    <div class="row margin-bottom-5">
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-1"></div>
                                            <div class="col-md-10">
                                                <table ps-table-sync
                                                       data-paginate="pageonly"
                                                       data-source="resumeObj.maintainPlan.maintainPlanResult.stepsList"
                                                       data-filter="filter7"
                                                       data-sort="sort7"
                                                       data-page="page7">
                                                    <thead>
                                                    <tr>
                                                        <th>步骤</th>
                                                        <th>作业内容</th>
                                                        <th>预计作业时间</th>
                                                        <th>技术要点</th>
                                                        <th>安全措施</th>
                                                        <th>作业确认</th>
                                                        <th>备注</th>
                                                        <th>附件</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="(key,item) in items track by key">
                                                        <td>{{key+1}}</td>
                                                        <td ng-bind="item.content"></td>
                                                        <td ng-bind="item.planNeedTime"></td>
                                                        <td ng-bind="item.technicalPoints"></td>
                                                        <td ng-bind="item.safetyMeasures"></td>
                                                        <td ng-bind="item.dataType == '定性' ? (item.stepsResult == 1 ? '是' : '否') : item.stepsResult"></td>
                                                        <td ng-bind="item.remark"></td>
                                                        <td>
                                                            <ps-filelinks ng-model="item.resultFiles"></ps-filelinks>
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-md-1"></div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--备件更换-->
                        <div class="row">
                            <div class="margin-bottom-5">
                                <div class="col-md-12 margin-bottom-5 margin-top-15">
                                    <div class="table-title pull-left">备件更换</div>
                                    <div class="pull-right">
                                        <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#spare_change" aria-haspopup="false" aria-expanded="true"></span>
                                    </div>
                                </div>
                                <div class="col-md-12 margin-bottom-10">
                                    <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                                </div>
                                <div class="" id="spare_change" class="collapse in">
                                    <div class="row margin-bottom-5">
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-1"></div>
                                            <div class="col-md-10">
                                                <table ps-table-sync
                                                       data-paginate="pageonly"
                                                       data-source="resumeObj.maintainPlan.maintainPlanResult.repairablePartActionLogs"
                                                       data-filter="filter8"
                                                       data-sort="sort8"
                                                       data-page="page8">
                                                    <thead>
                                                    <tr>
                                                        <th>可修复件</th>
                                                        <th>在线备件身份ID</th>
                                                        <th>更换备件身份ID</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="(key,item) in items track by key">
                                                        <td ng-bind="item.values.rollerType"></td>
                                                        <td ng-bind="item.fatherRollerName"></td>
                                                        <td ng-bind="item.rollerName"></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-md-1"></div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--施工总结-->
                        <div class="row">
                            <div class="margin-bottom-5">
                                <div class="col-md-12 margin-bottom-5 margin-top-15">
                                    <div class="table-title pull-left">施工总结</div>
                                    <div class="pull-right">
                                        <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#apply_summarize" aria-haspopup="false" aria-expanded="true"></span>
                                    </div>
                                </div>
                                <div class="col-md-12 margin-bottom-10">
                                    <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                                </div>
                                <div class="" id="apply_summarize" class="collapse in">
                                    <div class="row margin-bottom-5">
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-4">
                                                <div class="tbl">
                                                    <div class="radio-lbl">
                                                        <span class="text-red">*</span>
                                                        项目开始时间:
                                                    </div>
                                                    <div class="tbl-cell">
                                                        <ps-date2 data-config="{'disabled': true}" ng-model="resumeObj.maintainPlan.maintainPlanResult.projectBeginDate"></ps-date2>
                                                    </div>
                                                    <div class="radio-unit">
                                                        <span></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="tbl">
                                                    <div class="radio-lbl">
                                                        <span class="text-red">*</span>
                                                        项目结束时间:
                                                    </div>
                                                    <div class="tbl-cell">
                                                        <ps-date2 data-config="{'disabled': true}" ng-model="resumeObj.maintainPlan.maintainPlanResult.projectEndDate"></ps-date2>
                                                    </div>
                                                    <div class="radio-unit">
                                                        <span></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="tbl">
                                                    <div class="radio-lbl">
                                                        <span class="text-red">*</span>
                                                        施工用时(H):
                                                    </div>
                                                    <div class="tbl-cell">
                                                        <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintainPlan.maintainPlanResult.realUseTime"></ps-input>
                                                    </div>
                                                    <div class="radio-unit">
                                                        <span></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-1"></div>
                                            <div class="col-md-10">
                                                <table ps-table-sync
                                                       data-paginate="pageonly"
                                                       data-source="resumeObj.maintainPlan.maintainPlanResult.personList"
                                                       data-filter="filter9"
                                                       data-sort="sort9"
                                                       data-page="page9">
                                                    <thead>
                                                    <tr>
                                                        <th>人员类型</th>
                                                        <th>实际投入人数</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr ng-repeat="(key,item) in items track by key">
                                                        <td ng-bind="item.personType"></td>
                                                        <td ng-bind="item.personNum"></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-md-1"></div>

                                        </div>
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-4">
                                                <div class="tbl">
                                                    <div class="radio-lbl">
                                                        <span class="text-red">*</span>
                                                        总人数:
                                                    </div>
                                                    <div class="tbl-cell">
                                                        <span  ng-bind="totalUseNums ? totalUseNums : 0"></span>
                                                        <!--<ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintainPlan.maintainPlanResult.totalUseNum"></ps-input>-->
                                                    </div>
                                                    <div class="radio-unit">
                                                        <span></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="tbl">
                                                    <div class="radio-lbl">
                                                        <span class="text-red">*</span>
                                                        总工时(H):
                                                    </div>
                                                    <div class="tbl-cell">
                                                        <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintainPlan.maintainPlanResult.totalUseTime"></ps-input>
                                                    </div>
                                                    <div class="radio-unit">
                                                        <span></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                            </div>
                                        </div>
                                        <div class="col-md-12 margin-bottom-5">
                                            <div class="col-md-12">
                                                <div class="tbl">
                                                    <div class="radio-lbl">
                                                        <span class="text-red">*</span>
                                                        异常判断结果处理说明:
                                                    </div>
                                                    <div class="tbl-cell">
                                                        <ps-input data-config="{'disabled': true}" ng-model="resumeObj.maintainPlan.maintainPlanResult.resultDesc"></ps-input>
                                                    </div>
                                                    <div class="radio-unit">
                                                        <span></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--检修验收-->
            <div class="row">
                <div class="margin-bottom-5">
                    <div class="col-md-12 margin-bottom-5 margin-top-15">
                        <div class="table-title pull-left">检修验收</div>
                        <div class="pull-right">
                            <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#check_accept" aria-haspopup="false" aria-expanded="true"></span>
                        </div>
                    </div>
                    <div class="col-md-12 margin-bottom-10">
                        <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                    </div>
                    <div class="" id="check_accept" class="collapse in">
                        <div class="row margin-bottom-5">
                            <div class="col-md-12 margin-bottom-5">
                                <div class="col-md-12">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            任务名称:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-input data-config="{'disabled': true}" ng-model="resumeObj.ticket.values.standardProjectName"></ps-input>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 margin-bottom-5">
                                <div class="col-md-12">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            完工时间:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-date2 data-config="{'disabled': true}" ng-model="resumeObj.ticket.finishedTime"></ps-date2>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 margin-bottom-5">
                                <div class="col-md-12">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            验收结果:
                                        </div>
                                        <div class="tbl-cell">
                                            <div ng-repeat="(k,item) in evaluations track by $index" class="div_inline">
                                                <input type="radio" class="radio-inp"   name="evaluations" ng-checked="resumeObj.evaluationInfo.tallyCheck == item.id"/><span class="radio-spa">{{item.label}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                        </div>
                                        <div class="tbl-cell">
                                            <input type="checkbox" class="chx" ng-model="resumeObj.evaluationInfo.isAccord" value="按时完工" ng-checked="resumeObj.evaluationInfo.isAccord == 1" /><span class="radio-spa">按时完工</span>
                                            <input type="checkbox" class="chx" ng-model="resumeObj.evaluationInfo.isQuality" value="符合质量标准" ng-checked="resumeObj.evaluationInfo.isQuality == 1"  /><span class="radio-spa">符合质量标准</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 margin-bottom-5">
                                <div class="col-md-12">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            验收说明:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-textarea data-config="{'disabled': true}" ng-model="resumeObj.evaluationInfo.tallyRemark"></ps-textarea>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <!--异常处理评价-->
            <div class="row">
                <div class="margin-bottom-5">
                    <div class="col-md-12 margin-bottom-5 margin-top-15">
                        <div class="table-title pull-left">异常处理评价</div>
                        <div class="pull-right">
                            <span class="glyphicon glyphicon-chevron-down arrow" style="font-size: 26px" data-toggle="collapse"  data-target="#exception_evaluate" aria-haspopup="false" aria-expanded="true"></span>
                        </div>
                    </div>
                    <div class="col-md-12 margin-bottom-10">
                        <div style=" height:2px;border:none;border-top:2px solid cornflowerblue;"></div>
                    </div>
                    <div class="" id="exception_evaluate" class="collapse in">
                        <div class="row margin-bottom-5">
                            <div class="col-md-12 margin-bottom-5">
                                <div class="col-md-12">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            <span class="text-red">*</span>
                                            异常处理等级:
                                        </div>
                                        <div class="tbl-cell">
                                            <div ng-repeat="(k,item) in exceptionLevels track by $index" class="div_inline">
                                                <input type="radio" class="radio-inp"   name="exceptions" ng-checked="resumeObj.evaluationInfo.abnormalEvaluateCheckboxlist == item.id"/><span class="radio-spa">{{item.label}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 margin-bottom-5">
                                <div class="col-md-12">
                                    <div class="tbl">
                                        <div class="radio-lbl">
                                            评价说明:
                                        </div>
                                        <div class="tbl-cell">
                                            <ps-textarea data-config="{'disabled': true}" ng-model="resumeObj.evaluationInfo.abnormalEvaluateDealExplain"></ps-textarea>
                                        </div>
                                        <div class="radio-unit">
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</template>
<script>
    import { extend , dateparser } from "ps-ultility";
    export default function( scope,timeout,ajax,$state,registerService,cms2,growl,commonMethodService,psLoading){
        var target = commonMethodService(),
            ticketNo = target.getValue("ticketNo");
        ajax.post("baogangTicketService.getDeviceCheckResumeByTicket",[ticketNo]).then(d => {
          scope.resumeObj = d;
        })
      scope.formatTime = function (d) {
        return d
          ? dateparser(d).getDateString("yyyy-MM-dd hh:mm:ss")
          : "-";
      };
      scope.back = function(){
          history.back();

      };
      scope.evaluations =  scope.exceptionLevels = [{
        id:0,
        label: '通过'
      },{
        id:1,
        label: '不通过'
      }];
      scope.exceptionLevels = [{
        id:0,
        label: '有效'
      },{
        id:1,
        label: '无效'
      }]
      scope.highDangerLevels = target.getRootScope("myDicts")["highDangerLevel"];
    }
</script>
<style lang="less" scoped>
  .buttons {
      position: fixed;
      width: 160px;
      height: 36px;
      z-index: 99999999;
      right: 20px;
      top: 110px;
  }
  .wrap {
      padding : 10px !important;
      border: 1px solid #72b3d7;
      div {
          span {
              color: #fff;
              font-size: 75%;
              font-weight: 700;
          }
          .arrow {
              color: #72b3d7 !important;
              font-size: 26px!important;
              font-weight: 700!important;
          }
      }
      .titleHead{
          border-bottom: 1px solid;
          margin-bottom: 30px;
          padding-bottom: 30px;
      }
      .t_title {
          font-size: 14px!important;
          font-weight: 700!important;
      }
    .title{
      line-height : 26px;
      padding-right : 20px;
    }
    .value {
      line-height : 26px;
    }
    .option{
      width : 160px;
    }
    .tbl {
      width: 100%;
      display: table;
    }
    .tbl-cell {
      display: table-cell;
    }
    .radio-lbl {
        color: #ffff;
        font-size: 75%;
        font-weight: 700;
        display: table-cell;
        width: 150px;
        text-align:right;
        padding-right: 5px;

    }
    .radio-inp {
      vertical-align:-2px;
      display: inline-block;
      width: 15px;
      height: 15px;
    }
    .radio-spa {
      padding: 0 15px 0 2px;
    }
    .radio-unit {
      display: table-cell;
      padding-left: 2px;
      width: 40px;
    }
    .chx {
      vertical-align: -2px;
      /*margin-right: 40px;*/
    }
      .div_inline {
          display: inline-block;
      }
  }
</style>
