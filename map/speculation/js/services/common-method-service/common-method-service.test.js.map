{"version":3,"sources":["speculation/js/services/common-method-service/common-method-service.test.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","TEST_REGEXP","baseUrl","clone","a","JSON","parse","stringify","isObject","isString","extend","b","i","toObject","name","url","getName","e","arr","push","getPath","absUrl","setTools","deps","args","fn","addBaseUrl","_path_noimport","component","controllers","directives","services","_files","files","fls","indexOf","window","__karma__","_config","waitSeconds","callback","start","shim","angular","exports","angular-route","angular-file-upload","angular-resource","angular-animate","angular-growl","jwplayer","bootstrap","ztree","ztree-excheck","datatables.net","datatables.net-buttons-bs","datatables.buttons.html5","datatables.buttons.flash","slimscroll","slick","iCheck","tools","configs","bootstrap-dialog","ng-dialog","ckeditor","ckeditor-sample","bootstrap-switch","bootstrap-treeview","bootstrap-daterangepicker","sparkline","qrcode","multiselect","bootstrap-multiselect","index-app","angular-style","angular-dialogue","angular-popup","underscore","select2","lodash","_composory","_pre","require","_paths","_deps","concat","paths","config","arguments","$","user","password","failure","xmlhttp","params","body","app","ngview","append","event","module","code","data","controller","scope","location","userDomainService","userLoginUIService","getDomainTree","returnData","console","log","$routeProvider","$locationProvider","when","template","reloadOnSearch","otherwise","redirectTo","document","XMLHttpRequest","open","send","onreadystatechange","readyState","status","resp","responseText","cookie","error"],"mappings":"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","file":"speculation/js/services/common-method-service/common-method-service.test.js","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar TEST_REGEXP = /bower.*\\.js$/i;\nvar baseUrl = \"/base\";\n\nfunction clone(a) {\n  return JSON.parse(JSON.stringify(a));\n}\n\n;\n\nfunction isObject(a) {\n  return _typeof(a) == \"object\";\n}\n\nfunction isString(a) {\n  return typeof a == \"string\";\n}\n\nfunction extend(a, b) {\n  for (var i in b) {\n    a[i] = b[i];\n  }\n\n  return a;\n}\n\nfunction toObject(a, b) {\n  var name = b.name;\n  a[name] = b.url;\n  return a;\n}\n\nfunction getName(e) {\n  var arr = [];\n\n  for (var i in e) {\n    arr.push(i);\n  }\n\n  return arr;\n}\n\nfunction getPath(e) {\n  var arr = [];\n\n  for (var i in e) {\n    if (isObject(e[i])) {\n      arr.push(e[i].absUrl);\n    } else if (isString(e[i])) {\n      arr.push(i);\n    }\n  }\n\n  return arr;\n}\n\nfunction setTools(deps, args) {\n  var obj = {};\n\n  for (var i in deps) {\n    var name = deps[i];\n    var fn = args[i];\n    obj[name] = fn;\n  }\n\n  return obj;\n}\n\nfunction addBaseUrl(a) {\n  for (var i in a) {\n    a[i] = baseUrl + \"/\" + a[i];\n  }\n\n  return a;\n}\n\nvar _path_noimport = {\n  'component': \"toolkit/component\",\n  'controllers': \"js/controllers\",\n  'directives': \"js/directives\",\n  'services': \"js/services\"\n};\n\nvar _files = function (files) {\n  var fls = [];\n\n  for (var i in files) {\n    if (i.indexOf(\"speculation/js\") == -1) {\n      if (i.indexOf(\"index.js\") == -1) {\n        if (i.indexOf(\"/js/services/\") != -1) {\n          if (i.indexOf(\"services/services.js\") == -1) {\n            fls.push(i);\n          }\n        } else if (i.indexOf(\"/js/controllers/\") != -1) {\n          if (i.indexOf(\"controllers/controllers.js\") == -1) {\n            fls.push(i);\n          }\n        } else if (i.indexOf(\"/js/directives/\") != -1) {\n          if (i.indexOf(\"directives/directives.js\") == -1) {\n            fls.push(i);\n          }\n        }\n      }\n    }\n  }\n\n  return fls;\n}(window.__karma__.files);\n\nvar _config = {\n  waitSeconds: 0,\n  baseUrl: baseUrl,\n  callback: window.__karma__.start,\n  shim: {\n    'angular': {\n      deps: ['jquery'],\n      exports: 'angular'\n    },\n    'angular-route': {\n      deps: ['angular']\n    },\n    'angular-file-upload': {\n      deps: ['angular']\n    },\n    'angular-resource': {\n      deps: ['angular']\n    },\n    'angular-animate': {\n      deps: ['angular']\n    },\n    'angular-growl': {\n      deps: ['angular']\n    },\n    'jwplayer': {\n      deps: ['jquery']\n    },\n    'bootstrap': {\n      deps: ['jquery']\n    },\n    'ztree': {\n      deps: ['jquery']\n    },\n    'ztree-excheck': {\n      deps: ['jquery', 'ztree']\n    },\n    'datatables.net': {\n      deps: ['jquery']\n    },\n    'datatables.net-buttons-bs': {\n      deps: ['jszip']\n    },\n    'datatables.buttons.html5': {\n      deps: ['datatables.net-buttons-bs']\n    },\n    'datatables.buttons.flash': {\n      deps: ['datatables.net-buttons-bs', 'pdfmake', 'vfs']\n    },\n    'slimscroll': {\n      deps: ['jquery']\n    },\n    'slick': {\n      deps: ['jquery']\n    },\n    'iCheck': {\n      deps: ['jquery']\n    },\n    'tools': {\n      deps: ['jquery']\n    },\n    'configs': {\n      deps: ['jquery']\n    },\n    'bootstrap-dialog': {\n      deps: ['jquery', 'bootstrap']\n    },\n    'ng-dialog': {\n      deps: ['angular']\n    },\n    'ckeditor': {\n      deps: ['jquery']\n    },\n    'ckeditor-sample': {\n      deps: ['jquery', 'cheditor']\n    },\n    'bootstrap-switch': {\n      deps: ['jquery', 'bootstrap']\n    },\n    'bootstrap-treeview': {\n      deps: ['jquery', 'bootstrap']\n    },\n    'bootstrap-daterangepicker': {\n      deps: ['jquery', 'bootstrap']\n    },\n    'sparkline': {\n      deps: ['jquery']\n    },\n    'qrcode': {\n      deps: ['jquery']\n    },\n    'multiselect': {\n      deps: ['jquery']\n    },\n    'bootstrap-multiselect': {\n      deps: ['jquery', 'bootstrap']\n    },\n    'index-app': {\n      deps: ['slimscroll', 'bootstrap']\n    },\n    'angular-style': {\n      deps: ['angular']\n    },\n    'angular-dialogue': {\n      deps: ['angular']\n    },\n    'angular-popup': {\n      deps: ['angular']\n    },\n    'underscore': {\n      exports: 'underscore'\n    },\n    'select2': {\n      deps: ['jquery', 'bootstrap']\n    },\n    'lodash': {\n      exports: '_'\n    }\n  }\n};\nvar _composory = ['jquery', 'angular', 'Array', 'tools', 'angular-route', 'angular-resource', 'angular-file-upload', 'angular-animate', 'angular-growl', 'angular-style', 'angular-dialogue', 'ng-dialog'];\nvar _pre = ['/base/toolkit/tools'];\n\nrequire(['/base/files'], function (_paths) {\n  var _names = getName(_paths);\n\n  var _deps = _pre.concat(_composory).concat(_files);\n\n  _config.paths = extend(clone(_paths), _path_noimport);\n\n  require.config(_config);\n\n  require(_deps, function () {\n    var tools = setTools(_composory, arguments);\n    var services = tools['servs'];\n    $(function () {\n      var body = $(\"body\");\n      var app = $(\"<div></div>\");\n      var ngview = $(\"<div ng-view></div>\");\n      body.append(app);\n      app.append(ngview);\n\n      function login(user, password, callback, failure) {\n        var xmlhttp = new XMLHttpRequest();\n        var params = [user, password];\n        xmlhttp.open(\"POST\", \"http://36.110.36.118:11780/api/rest/post/userLoginUIService/login\", true);\n        xmlhttp.send(JSON.stringify(params));\n\n        xmlhttp.onreadystatechange = function (event) {\n          if (xmlhttp.readyState == 4) {\n            if (xmlhttp.status == 200) {\n              var resp = JSON.parse(xmlhttp.responseText);\n              console.log(document.cookie);\n              callback(resp);\n            } else {\n              failure();\n            }\n          }\n        };\n      }\n\n      function start() {\n        var module = angular.module(\"app\", [\"controllers\", \"services\", \"directives\", 'ngAnimate', 'ngRoute', 'angularFileUpload', 'angular-growl', 'ngAngularStyle', 'ngAngularDialogue', 'ngDialog']);\n        module.controller(\"testController\", ['$scope', '$location', 'userDomainService', \"userLoginUIService\", function (scope, location, userDomainService, userLoginUIService) {\n          userDomainService.getDomainTree(function (returnData) {\n            console.log(returnData);\n          });\n        }]);\n        module.config(function ($routeProvider, $locationProvider) {\n          $routeProvider.when('/a', {\n            template: '<div><button ng-click=\\\"click()\\\">hash</button></div>',\n            reloadOnSearch: false,\n            controller: 'testController'\n          }).otherwise({\n            redirectTo: '/a'\n          });\n        });\n        angular.bootstrap(document, ['app']);\n      }\n\n      login(\"baowu_steel\", \"abc123\", function (event) {\n        if (event.code == 0) {\n          start(event.data);\n        }\n      });\n    });\n  }, function (error) {\n    console.log(error);\n  });\n});"],"sourceRoot":"/source/"}