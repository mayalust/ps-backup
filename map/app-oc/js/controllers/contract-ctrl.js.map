{"version":3,"sources":["app-oc/js/controllers/contract-ctrl.js"],"names":["define","controllers","BootstrapDialog","initController","$scope","userLoginUIService","userEnterpriseService","userUIService","growl","userRoleUIService","userFunctionService","userDomainService","marketplaceUIService","contractGridData","columns","title","data","orderable","columnDefs","querySupplier","resultObj","code","i","obj","isEdit","supplierEmail","supplierPhone","$broadcast","Event","USERINFOSINIT"],"mappings":"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","file":"app-oc/js/controllers/contract-ctrl.js","sourcesContent":["define(['controllers/controllers', 'bootstrap-dialog'], function (controllers, BootstrapDialog) {\n  'use strict';\n\n  controllers.initController('contractCtrl', ['$scope', 'userLoginUIService', 'userEnterpriseService', 'userUIService', 'growl', 'userRoleUIService', 'userFunctionService', 'userDomainService', 'marketplaceUIService', function ($scope, userLoginUIService, userEnterpriseService, userUIService, growl, userRoleUIService, userFunctionService, userDomainService, marketplaceUIService) {\n    $scope.contractGridData = {\n      columns: [{\n        title: \"合同编号\",\n        data: \"contractNum\"\n      }, {\n        title: \"客户名称\",\n        data: \"clientNname\"\n      }, {\n        title: \"合同名称\",\n        data: \"contractNname\"\n      }, {\n        title: \"合同类型\",\n        data: \"contractType\"\n      }, {\n        title: \"签订日期\",\n        data: \"qianding\"\n      }, {\n        title: \"生效日期\",\n        data: \"sheng\"\n      }, {\n        title: \"失效日期\",\n        data: \"shi\"\n      }, {\n        title: \"操作\",\n        orderable: false,\n        data: \"option\"\n      }],\n      columnDefs: []\n    };\n    userEnterpriseService.querySupplier(function (resultObj) {\n      if (resultObj.code == 0) {\n        for (var i in resultObj.data) {\n          var obj = resultObj.data[i];\n          obj.isEdit = 0;\n\n          if (obj.supplierEmail == null || obj.supplierEmail == \"\") {\n            obj[\"supplierEmail\"] = obj.supplierPhone;\n          } else {\n            obj[\"supplierEmail\"] = obj.supplierEmail;\n          }\n        }\n\n        $scope.contractGridData.data = [];\n        $scope.$broadcast(Event.USERINFOSINIT + \"_contract\", $scope.contractGridData);\n      }\n    });\n  }]);\n  controllers.initController('maintainCtrl', ['$scope', 'userLoginUIService', 'userEnterpriseService', 'userUIService', 'growl', 'userRoleUIService', 'userFunctionService', 'userDomainService', 'marketplaceUIService', function ($scope, userLoginUIService, userEnterpriseService, userUIService, growl, userRoleUIService, userFunctionService, userDomainService, marketplaceUIService) {\n    $scope.contractGridData = {\n      columns: [{\n        title: \"计划名称\",\n        data: \"contractNum\"\n      }, {\n        title: \"客户名称\",\n        data: \"clientNname\"\n      }, {\n        title: \"计划类型\",\n        data: \"contractNname\"\n      }, {\n        title: \"维保类型\",\n        data: \"contractType\"\n      }, {\n        title: \"维保项目\",\n        data: \"qianding\"\n      }, {\n        title: \"维保人员\",\n        data: \"sheng\"\n      }, {\n        title: \"操作\",\n        orderable: false,\n        data: \"option\"\n      }],\n      columnDefs: []\n    };\n    userEnterpriseService.querySupplier(function (resultObj) {\n      if (resultObj.code == 0) {\n        for (var i in resultObj.data) {\n          var obj = resultObj.data[i];\n          obj.isEdit = 0;\n\n          if (obj.supplierEmail == null || obj.supplierEmail == \"\") {\n            obj[\"supplierEmail\"] = obj.supplierPhone;\n          } else {\n            obj[\"supplierEmail\"] = obj.supplierEmail;\n          }\n        }\n\n        $scope.contractGridData.data = [];\n        $scope.$broadcast(Event.USERINFOSINIT + \"_maintain\", $scope.contractGridData);\n      }\n    });\n  }]);\n  controllers.initController('loreCtrl', ['$scope', 'userLoginUIService', 'userEnterpriseService', 'userUIService', 'growl', 'userRoleUIService', 'userFunctionService', 'userDomainService', 'marketplaceUIService', function ($scope, userLoginUIService, userEnterpriseService, userUIService, growl, userRoleUIService, userFunctionService, userDomainService, marketplaceUIService) {\n    $scope.contractGridData = {\n      columns: [{\n        title: \"标题\",\n        data: \"contractNum\"\n      }, {\n        title: \"分类\",\n        data: \"clientNname\"\n      }, {\n        title: \"描述\",\n        data: \"contractNname\"\n      }, {\n        title: \"创建时间\",\n        data: \"contractType\"\n      }, {\n        title: \"维护时间\",\n        data: \"qianding\"\n      }, {\n        title: \"操作\",\n        orderable: false,\n        data: \"option\"\n      }],\n      columnDefs: []\n    };\n    userEnterpriseService.querySupplier(function (resultObj) {\n      if (resultObj.code == 0) {\n        for (var i in resultObj.data) {\n          var obj = resultObj.data[i];\n          obj.isEdit = 0;\n\n          if (obj.supplierEmail == null || obj.supplierEmail == \"\") {\n            obj[\"supplierEmail\"] = obj.supplierPhone;\n          } else {\n            obj[\"supplierEmail\"] = obj.supplierEmail;\n          }\n        }\n\n        $scope.contractGridData.data = [];\n        $scope.$broadcast(Event.USERINFOSINIT + \"_lore\", $scope.contractGridData);\n      }\n    });\n  }]);\n});"],"sourceRoot":"/source/"}