{ "version": 3, "sources": ["app-editor/js/toolkit/dom.js"], "names": ["define", "jquery", "jui", "profile", "setting", "cm", "optionUpdated_callback", "resBtn_click_callback", "codeBtn_click_callback", "saveImageEvent", "resourceChanged", "dom", "fn", "toolBarList", "html", "$", "on", "mouseenter", "event", "stopPropagation", "css", "target", "parent", "find", "mouseleave", "i", "j", "sub", "src", "preloadImages", "spectrum", "color", "showInput", "className", "showInitial", "showPalette", "showSelectionPalette", "maxPaletteSize", "preferredFormat", "change", "colorCode", "toHexString", "attr", "value_color", "palette", "createNewProfile", "toolbox", "init", "eventName", "callback", "saveData", "errorMsg", "returnData", "currentProfile", "console", "log", "getElementList", "elements", "title", "getChartTitle", "each", "element", "widthPersent", "width", "widthheightPortion", "height", "undefined", "kpis", "nodes", "push", "option", "modelId", "category", "type", "formatStr", "Array", "length", "theme", "timespan", "parseInt", "dataType", "width_absolute", "layout", "row", "col", "data", "enableScroll", "disableScroll", "window", "renderGraphList", "content", "createChart", "optionName", "disableBodyScroll", "enableBodyScroll", "addLoadingIcon", "left", "offset", "top", "saveBtn", "clone", "nbg", "loadinIcon", "margin-top", "display", "background-size", "background-image", "z-index", "opacity", "animate", "margin-left", "position", "border", "background-color", "append", "prepend", "removeLoadingIcon", "remove", "pagesetting", "widthPresentage", "heightPresentage", "slider", "range", "max", "value", "slide", "ui", "value_width", "value_height", "openImage", "imgSrc", "oPop", "open", "document", "readyState", "execCommand", "close", "addNewLabel", "label", "setFocus", "focus", "renderPreview"], "mappings": "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", "file": "app-editor/js/toolkit/dom.js", "sourcesContent": ["define([\"jquery\", \"jquery-ui\", \"profile\", \"setting\", \"codeMirrorEditor\"], function (jquery, jui, profile, setting, cm) {\n  var dom = {};\n  var optionUpdated_callback;\n  var resBtn_click_callback;\n  var codeBtn_click_callback;\n  var nodeSelectEvent;\n  var saveImageEvent;\n  var resourceChanged;\n  var saveDataEvent;\n  dom.fn = fn;\n  dom.on = onEvent;\n  dom.saveData = saveData;\n  dom.enableScroll = enableScroll;\n  dom.disableScroll = disableScroll;\n  dom.renderGraphList = renderGraphList;\n  dom.createChart = createChart;\n  dom.disableBodyScroll = disableBodyScroll;\n  dom.enableBodyScroll = enableBodyScroll;\n  dom.addLoadingIcon = addLoadingIcon;\n  dom.removeLoadingIcon = removeLoadingIcon;\n  dom.pagesetting = pagesetting;\n  dom.openImage = openImage;\n  dom.addNewLabel = addNewLabel;\n  dom.setFocus = setFocus;\n  dom.renderPreview = renderPreview;\n\n  function renderPreview(data) {\n    profile.renderPreview(data);\n  }\n\n  function setFocus() {\n    var currentProfile = $(\"[currentProfile=true]\");\n    currentProfile.find(\"#HeaderInput\").focus();\n  }\n\n  function openImage(imgSrc) {\n    var oPop = window.open(imgSrc, \"\", \"width=1, height=1, top=5000, left=5000\");\n\n    for (; oPop.document.readyState != \"complete\";) {\n      if (oPop.document.readyState == \"complete\") break;\n    }\n\n    oPop.document.execCommand(\"SaveAs\");\n    oPop.close();\n    /*\n     window.open(imgSrc);\n     var pic = window.open(imgSrc);\n     setTimeout(function(){\n     pic.document.execCommand(\"SaveAs\");\n     }, 500)\n     setTimeout(win.document.execCommand(\"SaveAs\"), 500);\n     */\n  }\n\n  function addNewLabel(label) {\n    profile.addNewLabel(label);\n  }\n\n  function removeLoadingIcon() {\n    $(\"#tempSvBtn\").animate({\n      \"opacity\": 0\n    }, 200, function () {\n      $(\"#tempSvBtn\").remove();\n    });\n    $(\"#tempBg\").animate({\n      \"opacity\": 0\n    }, 100, function () {\n      $(\"#tempBg\").remove();\n    });\n    return dom;\n  }\n\n  function addLoadingIcon() {\n    var left = $(\"#saveBtn\").offset().left;\n    var top = $(\"#saveBtn\").offset().top;\n    var saveBtn = $(\"#saveBtn\").clone();\n    var nbg = $(\"<div class='bgcover' id='loadingIcon'></div>\");\n    var loadinIcon = $(\"<span class='lodingIcon'></div>\");\n    loadinIcon.css({\n      \"margin-top\": 5,\n      \"display\": \"inline-block\",\n      \"width\": 45,\n      \"height\": 45,\n      \"background-size\": \"cover\",\n      \"background-image\": \"url(images/loading_spinner.gif)\"\n    });\n    nbg.attr(\"id\", \"tempBg\").css({\n      \"z-index\": 9999999990,\n      \"opacity\": 0\n    }).animate({\n      \"opacity\": .8\n    }, 100, function () {});\n    saveBtn.attr(\"id\", \"tempSvBtn\").css({\n      \"margin-top\": top,\n      \"margin-left\": left,\n      width: 90,\n      height: 34,\n      \"position\": \"absolute\",\n      \"z-index\": 9999999999,\n      \"border\": \"1px solid #888\",\n      \"background-color\": \"#444\"\n    }).animate({\n      \"margin-top\": top - 20,\n      \"margin-left\": left + 10,\n      width: 70,\n      height: 70,\n      \"background-color\": \"#000\"\n    }, 200, function () {});\n    saveBtn.html('').append(loadinIcon);\n    $(\"body\").prepend(saveBtn);\n    $(\"body\").prepend(nbg);\n    return dom;\n  }\n\n  function disableBodyScroll() {\n    $(\"body\").css(\"overflow-y\", \"hidden\");\n    return dom;\n  }\n\n  function enableBodyScroll() {\n    $(\"body\").css(\"overflow-y\", \"auto\");\n    return dom;\n  }\n\n  function saveData() {\n    var returnData = {};\n    var currentProfile = $(\"[currentProfile=true]\");\n    var errorMsg;\n    returnData = [];\n    console.log(profile.getElementList());\n    var elements = profile.getElementList();\n    var title = profile.getChartTitle();\n    elements.each(function (element) {\n      widthPersent = (element.width() - 2) / (currentProfile.width() - 20) * 100;\n      widthheightPortion = element.height() / element.width();\n\n      if (element.kpis == undefined || element.nodes == undefined) {\n        errorMsg = '有视图尚未绑定数据';\n      }\n\n      returnData.push({\n        option: element.option,\n        modelId: element.modelId == \"\" ? undefined : element.modelId,\n        category: element.category,\n        type: element.type,\n        formatStr: element.formatStr,\n        kpis: element.kpis,\n        nodes: element.nodes instanceof Array && element.nodes.length > 0 ? element.nodes : undefined,\n        theme: element.theme,\n        timespan: parseInt(element.timespan * 60 * 1000),\n        dataType: element.dataType,\n        width_absolute: element.width(),\n        layout: {\n          width: widthPersent,\n          widthheightPortion: widthheightPortion,\n          row: parseInt($(element).attr(\"row\")),\n          col: parseInt($(element).attr(\"col\"))\n        }\n      });\n    });\n    return {\n      title: title,\n      data: returnData,\n      errorMsg: errorMsg\n    };\n  }\n\n  function fn(toolBarList) {\n    var html = '';\n    var currentProfile;\n    var startDatePicker = $(\"#startDatePicker\");\n    var endDatePicker = $(\"#endDatePicker\");\n    $(\"[toolbar_id*=toolbar_]\").on({\n      \"mouseenter\": function mouseenter(event) {\n        event.stopPropagation();\n        $(\".tooltips\").css(\"opacity\", 0);\n        $(event.target).parent().parent().find(\".tooltips\").css(\"opacity\", 1);\n      },\n      \"mouseleave\": function mouseleave(event) {\n        event.stopPropagation();\n        $(\".tooltips\").css(\"opacity\", 0);\n      }\n    });\n    preloadImages(toolBarList);\n    $(\"#colorPicker_page\").spectrum({\n      color: \"#fff\",\n      showInput: true,\n      className: \"full-spectrum\",\n      showInitial: true,\n      showPalette: true,\n      showSelectionPalette: true,\n      maxPaletteSize: 10,\n      preferredFormat: \"hex\",\n      change: function change(color) {\n        var currentProfile = $(\"[currentProfile*=true]\");\n        var colorCode = color.toHexString();\n        $(\"#page-setting\").attr({\n          \"value_color\": colorCode\n        });\n      },\n      palette: [[\"rgb(0, 0, 0)\", \"rgb(67, 67, 67)\", \"rgb(102, 102, 102)\", \"rgb(153, 153, 153)\", \"rgb(183, 183, 183)\", \"rgb(204, 204, 204)\", \"rgb(217, 217, 217)\", \"rgb(239, 239, 239)\", \"rgb(243, 243, 243)\", \"rgb(255, 255, 255)\"], [\"rgb(152, 0, 0)\", \"rgb(255, 0, 0)\", \"rgb(255, 153, 0)\", \"rgb(255, 255, 0)\", \"rgb(0, 255, 0)\", \"rgb(0, 255, 255)\", \"rgb(74, 134, 232)\", \"rgb(0, 0, 255)\", \"rgb(153, 0, 255)\", \"rgb(255, 0, 255)\"], [\"rgb(230, 184, 175)\", \"rgb(244, 204, 204)\", \"rgb(252, 229, 205)\", \"rgb(255, 242, 204)\", \"rgb(217, 234, 211)\", \"rgb(208, 224, 227)\", \"rgb(201, 218, 248)\", \"rgb(207, 226, 243)\", \"rgb(217, 210, 233)\", \"rgb(234, 209, 220)\", \"rgb(221, 126, 107)\", \"rgb(234, 153, 153)\", \"rgb(249, 203, 156)\", \"rgb(255, 229, 153)\", \"rgb(182, 215, 168)\", \"rgb(162, 196, 201)\", \"rgb(164, 194, 244)\", \"rgb(159, 197, 232)\", \"rgb(180, 167, 214)\", \"rgb(213, 166, 189)\", \"rgb(204, 65, 37)\", \"rgb(224, 102, 102)\", \"rgb(246, 178, 107)\", \"rgb(255, 217, 102)\", \"rgb(147, 196, 125)\", \"rgb(118, 165, 175)\", \"rgb(109, 158, 235)\", \"rgb(111, 168, 220)\", \"rgb(142, 124, 195)\", \"rgb(194, 123, 160)\", \"rgb(166, 28, 0)\", \"rgb(204, 0, 0)\", \"rgb(230, 145, 56)\", \"rgb(241, 194, 50)\", \"rgb(106, 168, 79)\", \"rgb(69, 129, 142)\", \"rgb(60, 120, 216)\", \"rgb(61, 133, 198)\", \"rgb(103, 78, 167)\", \"rgb(166, 77, 121)\", \"rgb(133, 32, 12)\", \"rgb(153, 0, 0)\", \"rgb(180, 95, 6)\", \"rgb(191, 144, 0)\", \"rgb(56, 118, 29)\", \"rgb(19, 79, 92)\", \"rgb(17, 85, 204)\", \"rgb(11, 83, 148)\", \"rgb(53, 28, 117)\", \"rgb(116, 27, 71)\", \"rgb(91, 15, 0)\", \"rgb(102, 0, 0)\", \"rgb(120, 63, 4)\", \"rgb(127, 96, 0)\", \"rgb(39, 78, 19)\", \"rgb(12, 52, 61)\", \"rgb(28, 69, 135)\", \"rgb(7, 55, 99)\", \"rgb(32, 18, 77)\", \"rgb(76, 17, 48)\"]]\n    });\n    currentProfile = profile.createNewProfile();\n    profile.on(\"editBtn_click\", function (event) {\n      optionUpdated_callback(event);\n    });\n    profile.on(\"resBtn_click\", function (event) {\n      resBtn_click_callback(event);\n    });\n    profile.on(\"codeBtn_click\", function (event) {\n      codeBtn_click_callback(event);\n    });\n    profile.on(\"saveImage\", function (event, toolbox) {\n      saveImageEvent(event, toolbox);\n    });\n    profile.on(\"resourceChanged\", function (target, event) {\n      resourceChanged(target, event);\n    });\n    cm.init();\n    setting.init();\n\n    function preloadImages(toolBarList) {\n      for (var i in toolBarList) {\n        for (var j in toolBarList[i].sub) {\n          html += \"<img src='images/\" + toolBarList[i].sub[j].src + \".png' />\";\n        }\n      }\n\n      $(\"#img_preload\").html(html);\n    }\n  }\n\n  function pagesetting() {\n    var currentProfile = $(\"[currentProfile*=true]\");\n    var widthPresentage = currentProfile.width() / $(window).width();\n    var heightPresentage = currentProfile.height() / $(window).height();\n    var width = parseInt(widthPresentage * 100);\n    var height = parseInt(heightPresentage * 100);\n    $(\"#pageWidth\").slider({\n      range: \"min\",\n      max: 100,\n      value: width,\n      slide: pageWidthRefresh\n    });\n    $(\"#pageHeight\").slider({\n      range: \"min\",\n      max: 100,\n      value: height,\n      slide: pageHeightRefresh\n    });\n\n    function pageWidthRefresh(event, ui) {\n      var currentProfile = $(\"[currentProfile*=true]\");\n      var target = $(\"#page-setting\");\n      target.attr({\n        \"value_width\": ui.value * $(window).width() / 100\n      });\n    }\n\n    function pageHeightRefresh(event, ui) {\n      var currentProfile = $(\"[currentProfile*=true]\");\n      var target = $(\"#page-setting\");\n      target.attr({\n        \"value_height\": ui.value * $(window).width() / 100\n      });\n    }\n  }\n\n  function onEvent(eventName, callback) {\n    switch (eventName) {\n      case \"optionUpdated\":\n        optionUpdated_callback = callback;\n        break;\n\n      case \"resBtn_click\":\n        resBtn_click_callback = callback;\n        break;\n\n      case \"codeBtn_click\":\n        codeBtn_click_callback = callback;\n        break;\n\n      case \"onNodeSelect\":\n        nodeSelectEvent = callback;\n        break;\n\n      case \"saveData\":\n        saveDataEvent = callback;\n\n      case \"resourceChanged\":\n        resourceChanged = callback;\n        break;\n\n      case \"saveImage\":\n        saveImageEvent = callback;\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  function enableScroll() {\n    $(\"body\").css(\"overflow-y\", \"auto\");\n  }\n\n  function disableScroll() {\n    $(\"body\").css(\"overflow-y\", \"hidden\");\n    var mt = ($(window).height() - 500) / 2;\n  }\n\n  function createChart(type, optionName, dataType) {\n    profile.createChart(type, optionName, dataType);\n  }\n\n  function renderGraphList(title, content, callback) {\n    profile.renderGraphList(title, content, callback);\n  }\n\n  return dom;\n});"], "sourceRoot": "/source/" }