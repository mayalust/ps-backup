{"version":3,"sources":["app-editor/js/toolkit/echart_creator.js"],"names":["define","eventList","ec","on","handler","callback","resize","tg","setOption","option","merge","this","init","domElement","theme","type","error_callback","require","echarts_v3","target","error","errorMsg","preload","ec3","setTheme","themePath","echarts","dom","getDom","dispose","call"],"mappings":"AAAAA,OAAO,WACL,IAAIC,EAAY,GACZC,EAAK,GAsFT,OArFAA,EAAGC,GA+DH,SAAiBC,EAASC,GACxB,OAAQD,GACN,IAAK,YACHH,EAAU,GAAKI,EACf,MAEF,IAAK,QACHJ,EAAU,GAAKI,IArErBH,EAAGI,OA4EH,SAAgBC,GACdA,EAAGD,UA5ELJ,EAAGM,UA+EH,SAAmBD,EAAIE,EAAQC,GAC7BH,EAAGC,UAAUC,EAAQC,IA/EvB,WACEC,KAAKC,KAAO,SAAUC,EAAYJ,EAAQK,EAAOC,EAAMV,EAAUW,GAC/DC,QAAQ,CAAC,WAAY,SAAUC,GAG7BD,QAAQ,CAFQ,iCAAmCH,EAAQ,OAEtC,WACnB,IAAIK,EAASD,EAAWN,KAAKC,EAAYC,GACzCK,EAAOX,UAAUC,GACjBJ,EAASc,IACR,SAAUC,GACXnB,EAAU,GAAG,CACXoB,SAAU,qBACVD,MAAOA,OAGV,SAAUA,GACPnB,EAAU,KACZA,EAAU,GAAG,CACXoB,SAAU,mBACVD,MAAOA,IAETJ,EAAe,CACbK,SAAU,mBACVD,MAAOA,QAMfT,KAAKW,QAAU,WACbL,QAAQ,CAAC,WAAY,SAAUM,KAAS,SAAUH,OAGpDT,KAAKa,SAAW,SAAUjB,EAAIO,EAAOL,EAAQC,EAAOL,GAClD,IAAIoB,EAAY,iCAAmCX,EAAQ,MAE3DG,QAAQ,CAAC,WAAY,SAAUS,GAC7BT,QAAQ,CAACQ,GAAY,WACnB,IAAIE,EAAMpB,EAAGqB,SACbrB,EAAGsB,WACHtB,EAAKmB,EAAQd,KAAKe,EAAKb,IACpBN,UAAUC,EAAQC,GAEjBL,GACFA,EAAS,CACPc,OAAQZ,KAGX,SAAUa,GACPnB,EAAU,IACZA,EAAU,GAAG,CACXoB,SAAU,mBACVD,MAAOA,UAMhBU,KAAK5B,GAwBDA","file":"app-editor/js/toolkit/echart_creator.js","sourcesContent":["define(function () {\n  var eventList = [];\n  var ec = {};\n  ec.on = onEvent;\n  ec.resize = resize;\n  ec.setOption = setOption;\n  (function () {\n    this.init = function (domElement, option, theme, type, callback, error_callback) {\n      require([\"echarts\"], function (echarts_v3) {\n        var themePath = \"../node_modules/echarts/theme/\" + theme + \".js\";\n\n        require([themePath], function () {\n          var target = echarts_v3.init(domElement, theme);\n          target.setOption(option);\n          callback(target);\n        }, function (error) {\n          eventList[1]({\n            errorMsg: \"加载echarts Ver3组建失败\",\n            error: error\n          });\n        });\n      }, function (error) {\n        if (eventList[1]) {\n          eventList[1]({\n            errorMsg: \"加载echarts Ver3失败\",\n            error: error\n          });\n          error_callback({\n            errorMsg: \"加载echarts Ver3失败\",\n            error: error\n          });\n        }\n      });\n    };\n\n    this.preload = function () {\n      require([\"echarts\"], function (ec3) {}, function (error) {});\n    };\n\n    this.setTheme = function (tg, theme, option, merge, callback) {\n      var themePath = \"../node_modules/echarts/theme/\" + theme + \".js\";\n\n      require([\"echarts\"], function (echarts) {\n        require([themePath], function () {\n          var dom = tg.getDom();\n          tg.dispose();\n          tg = echarts.init(dom, theme);\n          tg.setOption(option, merge);\n\n          if (callback) {\n            callback({\n              target: tg\n            });\n          }\n        }, function (error) {\n          if (eventList[1]) {\n            eventList[1]({\n              errorMsg: \"加载echarts Ver3失败\",\n              error: error\n            });\n          }\n        });\n      });\n    };\n  }).call(ec);\n\n  function onEvent(handler, callback) {\n    switch (handler) {\n      case \"saveImage\":\n        eventList[0] = callback;\n        break;\n\n      case \"error\":\n        eventList[1] = callback;\n\n      default:\n        break;\n    }\n  }\n\n  function resize(tg) {\n    tg.resize();\n  }\n\n  function setOption(tg, option, merge) {\n    tg.setOption(option, merge);\n  }\n\n  return ec;\n});"],"sourceRoot":"/source/"}