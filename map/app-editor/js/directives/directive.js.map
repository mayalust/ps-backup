{"version":3,"sources":["app-editor/js/directives/directive.js"],"names":["define","app","lib","directive","compile","content","scope","ngModel","target","replace","restrict","link","element","attrs","template","type","html","contents","timeout","ngDisabled","Jelem","$","parentDom","parent","elementClick","event","stopPropagation","$apply","focus","off","on","keypressEvent","blur","elementLostFocus","keycode","charCode","$watch","newVal","oldVal","removeClass","addClass","options","change","attr","n","o","s","setCurrentSelect","obj","select","text","label","console","log","container","childrenDom","children","getData","length","first","value","append","find","remove","traverse","level","each","child","clone","inx","wrap","handler","id","data","i","css","wraps","push","containedmodelId","elem","getchild","hasClass","animate","max-height","opacity","display","ArrayHandler","docClick","bind","disabled","applied","standardInput","cacheValue","onDomReady","avaliableWatcher","targetWatcher","fillBlankObject","indexOf","leftP","split","rightP","bindData","eval","avaliable","undefined","bindDataWatcher","params","variable","end","evalStr","arr","rs","standardSelect","selectClick","targetValueWatcher","Array","cachValue","elementTarget","numberUpdate","ui","default","error","alert","slider","max","min","range","slide","groupWatcher","aval","parseInt","$watchGroup","standardColor","currentTarget","onColorChange","color","setEnabled","setDisabled","createNewColorPicker","keyCode"],"mappings":"AAAAA,OAAO,CAAC,MAAO,YAAa,SAAU,YAAa,eAAgB,SAAUC,IAAKC,KAChFD,IAAIE,UAAU,YAAa,CAAC,WAAY,SAAUC,GAChD,IAAIC,EAAU,GA8Cd,OA7CAA,EAAQC,MAAQ,CACdC,QAAS,IACTC,OAAQ,KAEVH,EAAQI,SAAU,EAClBJ,EAAQK,SAAW,IACnBL,EAAQM,KAER,SAAcL,EAAOM,EAASC,GAC5B,IAAIC,EAAW,SAAUC,GACvB,OAAQA,GACN,IAAK,QACH,MAAO,yFAGT,IAAK,SACH,MAAO,0FAGT,IAAK,OACH,MAAO,8BAGT,IAAK,SACH,MAAO,0FAGT,IAAK,QACH,MAAO,kDAGT,IAAK,QACH,MAAO,yFAGT,QACE,MAAO,qCA3BE,CA8BbT,EAAMC,QAAQQ,MAEhBH,EAAQI,KAAKF,GACbV,EAAQQ,EAAQK,WAAhBb,CAA4BE,IAGvBD,KAETJ,IAAIE,UAAU,iBAAkB,CAAC,WAAY,SAAUe,GACrD,IAAIf,EAAY,GAuDhB,OAtDAA,EAAUG,MAAQ,CAChBC,QAAS,IACTY,WAAY,KAEdhB,EAAUO,SAAW,IACrBP,EAAUQ,KAEV,SAAcL,EAAOM,GACnB,IAAIQ,EAAQC,EAAET,GACVU,EAAYF,EAAMG,SAOtB,SAASC,EAAaC,GACpBA,EAAMC,kBACNpB,EAAMqB,OAMN,WACErB,EAAMa,YAAa,IANrBC,EAAMQ,QACNN,EAAUO,IAAI,SACdP,EAAUQ,GAAG,iBAAkBC,GAC/BX,EAAMY,KAAKC,GAOb,SAASA,EAAiBR,GACxBnB,EAAMqB,OAIN,WACErB,EAAMa,YAAa,IAJrBG,EAAUQ,GAAG,QAASN,GACtBF,EAAUO,IAAI,kBAOhB,SAASE,EAAcN,GACrB,IAAIS,EAAUT,EAAMU,SAEL,IAAXD,GACFd,EAAMY,OAjCVd,EAEA,WACEI,EAAUQ,GAAG,QAASN,KAoCxBlB,EAAM8B,OAAO,UAEb,SAAwBC,EAAQC,EAAQhC,OAGnCH,KAETF,IAAIE,UAAU,YAAa,CAAC,WAAY,SAAUe,GAChD,IAAIf,EAAY,GA+BhB,OA9BAA,EAAUG,MAAQ,CAChBC,QAAS,KAEXJ,EAAUO,SAAW,IACrBP,EAAUQ,KAEV,SAAcL,EAAOM,GACnBN,EAAM8B,OAAO,UAEb,SAAwBC,EAAQC,EAAQhC,GACtC,OAAQ+B,GACN,IAAK,OACHzB,EAAQ2B,cAAcC,SAAS,kBAC/B,MAEF,IAAK,MACH5B,EAAQ2B,cAAcC,SAAS,iBAC/B,MAEF,IAAK,MACH5B,EAAQ2B,cAAcC,SAAS,iBAC/B,MAEF,IAAK,QACH5B,EAAQ2B,cAAcC,SAAS,uBAMhCrC,KAETF,IAAIE,UAAU,eAAgB,CAAC,WAAY,SAAUe,GACnD,IAAIf,EAAY,GAuLhB,OAtLAA,EAAUG,MAAQ,CAChBC,QAAS,IACTkC,QAAS,IACTC,OAAQ,KAEVvC,EAAUO,SAAW,IACrBP,EAAUQ,KAEV,SAAcL,EAAOM,EAAS+B,GAC5BrC,EAAM8B,OAAO,UAyBb,SAAwBQ,EAAGC,EAAGC,GACxBF,IAEFA,EAAEG,iBAAmB,SAAUC,GAC7BC,EAAOC,KAAKF,EAAIG,OAChBC,QAAQC,IAAIL,OA7BlB1C,EAAM8B,OAAO,UAkCb,SAAwBQ,EAAGC,EAAGC,GAC5B,GAAIF,EAAG,CA+FLQ,QAAQC,IAAIT,GACZ,IAAIH,EAAUG,EACVU,EAAYjC,EAAE,eAAesB,KAAK,KAAM,aAAaH,SAAS,UAC9De,EAAclC,EAAE,eAAemB,SAAS,YACxCgB,EAAWf,EAAQe,SAES,EAA5BA,EAASC,UAAUC,SACrBT,EAAOC,KAAKM,EAASG,QAAQR,OAC7B7C,EAAMoC,OAAO,CACXkB,MAAOJ,EAASG,WAIpBL,EAAUO,OAAON,GACjB3C,EAAQkD,KAAK,mBAAmBC,SAChCnD,EAAQiD,OAAOP,GA7GA,SAASU,EAASR,EAAUF,EAAWW,GACpDT,EAASU,KAAK,SAAUC,GACtB,IAUaC,EAAOC,EAVhBC,EAAOjD,EAAE,eAAemB,SAAS,QACjC+B,EAAUlD,EAAE,eAAemB,SAAS,aACpCW,EAAQ9B,EAAE,eAAemB,SAAS,YAClCe,EAAclC,EAAE,eAAemB,SAAS,YACxCgB,EAAWW,EAAMX,SACrBc,EAAK3B,KAAK,KAAMwB,EAAMK,IACtBD,EAAQE,KAAK,WAAYjB,GACzBL,EAAMD,KAAKiB,EAAMhB,OAEjB,IAAK,IAAIuB,EAAI,EAAGA,GAAKT,EAAOS,IACfN,EAOR/C,EAAE,eAAemB,SAAS,UAPX6B,EAOqBK,IAN1BT,EAAQ,GACjBG,EAAM5B,SAAS,QAGjB4B,EAAMO,IAAI,OAAQ,GAAW,GAANN,EAAW,MAClCC,EAAKT,OAAOO,GAIhBE,EAAKT,OAAOU,GACZD,EAAKT,OAAOV,GACZmB,EAAKK,IAAI,eAAwB,GAARV,EAAa,MACtCW,EAAMC,KAAKP,GACXhB,EAAUO,OAAOS,GACjBA,EAAKxC,GAAG,QAAS,SAAUL,GACzBnB,EAAMqB,OAAO,WACX,IAAImD,EAAmB,CAACX,EAAMK,IAC9BvB,EAAOC,KAAKiB,EAAMhB,OAClByB,EAAMV,KAAK,SAAUa,GACnBA,EAAKxC,YAAY,YAEnB+B,EAAK9B,SAAS,UACd,IAAIgB,EAAWW,EAAMX,SAOrB,SAASwB,EAASxB,GAChBA,EAASU,KAAK,SAAUa,GACtBD,EAAiBD,KAAKE,EAAKP,IAC3B,IAAIhB,EAAWuB,EAAKvB,SAEhBA,GACFwB,EAASxB,KAZfsB,EAAmB,CAACX,EAAMK,IAEtBhB,GACFwB,EAASxB,GAcXlD,EAAMoC,OAAO,CACXkB,MAAOO,IAET7D,EAAMC,QAAUuE,MAIhBtB,GACFe,EAAQ/B,SAAS,mBACjB+B,EAAQzC,GAAG,QAAS,SAAUL,GAC5BA,EAAMC,kBAEF6C,EAAQU,SAAS,oBACnBV,EAAQhC,YAAY,mBAAmBC,SAAS,kBAChDe,EAAY2B,QAAQ,CAClBC,aAAc,EACdC,QAAS,GACR,IAAK,WACN7B,EAAYoB,IAAI,CACdU,QAAW,aAIfd,EAAQhC,YAAY,kBAAkBC,SAAS,mBAC/Ce,EAAYoB,IAAI,CACdU,QAAW,UAEb9B,EAAY2B,QAAQ,CAClBC,aAAc,IACdC,QAAS,GACR,QAGP9B,EAAUO,OAAON,GACjBS,EAASR,EAAUD,EAAaU,EAAQ,IAExCM,EAAQ/B,SAAS,mBAwCvBwB,CAASR,EAAUD,EAAa,QAEhC3C,EAAQkD,KAAK,mBAAmBC,WAtKpC,IAAId,EAAS5B,EAAE,eAAemB,SAAS,UACnCoC,EAAQ,IAAI1E,IAAIoF,aAAa,IACjCrC,EAAOnB,GAAG,QAAS,WACjBxB,EAAMqB,OAAO,WACX,IAAIoD,EAAO1D,EAAET,GAASkD,KAAK,mBAE3B,GAAIiB,EAAKE,SAAS,UAAW,CAC3B,IAAIM,EAAW,WACbR,EAAKvC,SAAS,UACdnB,EAAE,QAAQQ,IAAI,cACdoB,EAAOV,YAAY,WAGrBwC,EAAKxC,YAAY,UACjBU,EAAOT,SAAS,UAChBtB,EAAQ,WACNG,EAAE,QAAQS,GAAG,aAAcyD,UAKnC3E,EAAQiD,OAAOZ,IAsJV9C,KAETF,IAAIE,UAAU,WAAY,CAAC,WAAY,SAAUe,GAC/C,IAAIf,EAAY,GAgChB,OA/BAA,EAAUG,MAAQ,CAChBC,QAAS,KAEXJ,EAAUO,SAAW,IACrBP,EAAUW,SAAW,iEACrBX,EAAUQ,KAEV,SAAcL,EAAOM,GACnBA,EAAQ4E,KAAK,QAEb,SAAmB/D,GACjB,IAAKnB,EAAMmF,SAAU,CACnB,IAAIC,EAAU,WACZpF,EAAMC,SAAWD,EAAMC,SAGzBD,EAAMqB,OAAO+D,MAIjBpF,EAAM8B,OAAO,UAEb,SAAwBC,EAAQC,EAAQhC,GACxB,GAAV+B,EACFzB,EAAQ4B,SAAS,UAEjB5B,EAAQ2B,YAAY,aAKnBpC,KAETF,IAAIE,UAAU,gBAAiB,CAAC,WAAY,SAAUe,SACpD,IAAIyE,cAAgB,GAKhBC,WAeJ,SAASjF,KAAKL,MAAOM,QAASC,OAG5B,SAASgF,aACPvF,MAAM8B,OAAO,YAAa0D,kBAC1BxF,MAAM8B,OAAO,SAAU2D,eAGzB,SAASA,cAAc1D,OAAQC,OAAQhC,OACrC,GAAI+B,OAAQ,CAGV,GAFA2D,mBAE0C,GAAtC1F,MAAMC,QAAQiF,KAAKS,QAAQ,OAAc,CAC3C,IAAIC,MAAQ5F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GACxCC,OAAS9F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GAC7C7F,MAAM+F,SAAWC,KAAK,gBAAkBJ,MAAQ,MAAgBE,aAEhE9F,MAAM+F,SAAWC,KAAK,gBAAkBhG,MAAMC,QAAQiF,MAGxDlF,MAAMiG,UAA8BC,MAAlBlG,MAAM+F,SACxB/F,MAAM8B,OAAO,WAAYqE,kBAI7B,SAASX,iBAAiBzD,EAAQC,EAAQhC,GAEtCA,EAAM+F,SADJhE,EACe/B,EAAM+F,SAAW/F,EAAM+F,SAAWT,gBAEnDA,WAAatF,EAAM+F,UAKvB,SAASL,kBACP,IAAIU,OAASpG,MAAMC,QAAQiF,KAAKW,MAAM,KAClCQ,SAAW,eAEf,IAAK,IAAIjC,KAAKgC,OACRhC,EAAIgC,OAAOhD,OAAS,IACtBiD,UAAY,IAAMD,OAAOhC,GAErB4B,KAAKK,SAAW,iBAClBL,KAAKK,SAAW,QAMxB,SAASF,gBAAgBpE,OAAQC,OAAQhC,OACvC,IAAIoG,OAASpG,MAAMC,QAAQiF,KAAKW,MAAM,KAClCS,IAAMF,OAAOA,OAAOhD,OAAS,GAC7BmD,QAAU,GAEd,IAA0C,GAAtCvG,MAAMC,QAAQiF,KAAKS,QAAQ,OAAc,CAC3C,IAAIC,MAAQ5F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GACxCC,OAAS9F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GACzCW,IAAMR,KAAK,gBAAkBhG,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,IAEjE,IAAK,IAAIzB,KAAKoC,IACZD,QAAQhC,KAAKqB,MAAQ,IAAMxB,EAAI,IAAM0B,aAGvCS,QAAQhC,KAAKvE,MAAMC,QAAQiF,MAG7B,IAAK,IAAId,KAAKmC,QAAS,CACrB,IAAIE,GAAKF,QAAQnC,GAAGyB,MAAM,IAAMS,KAAK,GACrCN,KAAK,gBAAkBS,IAAIH,KAAOvE,QAnEtCnB,QAAQ2E,YAwEV,OA5FAF,cAAcrF,MAAQ,CACpBC,QAAS,IACTC,OAAQ,KAGVmF,cAAcjF,SAAW,IACzBiF,cAAc7E,SAAW,2eAWzB6E,cAAchF,KAAOA,KA2EdgF,iBAET1F,IAAIE,UAAU,iBAAkB,WAC9B,IAAI6G,eAAiB,GAsBrB,SAASrG,KAAKL,MAAOM,QAASC,OAC5B,IAAI+E,WAMJ,SAASqB,YAAYrD,GACnBtD,MAAM+F,SAAWzC,EAGnB,SAASmC,cAAc1D,OAAQC,OAAQhC,OACrC,GAAI+B,OAAQ,CAGV,GAFA2D,mBAE0C,GAAtC1F,MAAMC,QAAQiF,KAAKS,QAAQ,OAAc,CAC3C,IAAIC,MAAQ5F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GACxCC,OAAS9F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GAC7C7F,MAAM+F,SAAWC,KAAK,gBAAkBJ,MAAQ,MAAgBE,aAEhE9F,MAAM+F,SAAWC,KAAK,gBAAkBhG,MAAMC,QAAQiF,MAGxDlF,MAAMiG,UAA8BC,MAAlBlG,MAAM+F,SACxB/F,MAAM8B,OAAO,WAAYqE,kBAI7B,SAASS,mBAAmB7E,EAAQC,EAAQhC,IAE5C,SAASwF,iBAAiBzD,EAAQC,EAAQhC,GAEtCA,EAAM+F,SADJhE,EACe/B,EAAM+F,SAAW/F,EAAM+F,SAAWT,gBAEnDA,WAAatF,EAAM+F,SAAW/F,EAAM+F,SAAWT,YAKnD,SAASa,gBAAgBpE,OAAQC,OAAQhC,OACvC,IAAIoG,OAASpG,MAAMC,QAAQiF,KAAKW,MAAM,KAClCS,IAAMF,OAAOA,OAAOhD,OAAS,GAC7BmD,QAAU,IAAIM,MAElB,IAA0C,GAAtC7G,MAAMC,QAAQiF,KAAKS,QAAQ,OAAc,CAC3C,IAAIC,MAAQ5F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GACxCC,OAAS9F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GACzCW,IAAMR,KAAK,gBAAkBhG,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,IAEjE,IAAK,IAAIzB,KAAKoC,IACZD,QAAQhC,KAAKqB,MAAQ,IAAMxB,EAAI,IAAM0B,aAGvCS,QAAQhC,KAAKvE,MAAMC,QAAQiF,MAG7B,IAAK,IAAId,KAAKmC,QAAS,CACrB,IAAIE,GAAKF,QAAQnC,GAAGyB,MAAM,IAAMS,KAAK,GACrCN,KAAK,gBAAkBS,IAAIH,KAAOvE,QAItC,SAAS2D,kBACP,IAAIU,OAASpG,MAAMC,QAAQiF,KAAKW,MAAM,KAClCQ,SAAW,eAEf,IAAK,IAAIjC,KAAKgC,OACRhC,EAAIgC,OAAOhD,OAAS,IACtBiD,UAAY,IAAMD,OAAOhC,GAErB4B,KAAKK,SAAW,iBAClBL,KAAKK,SAAW,QArExBrG,MAAM8B,OAAO,SAAU2D,eACvBzF,MAAM8B,OAAO,SAAU8E,oBAAoB,GAC3C5G,MAAM8B,OAAO,YAAa0D,kBAC1BxF,MAAM2G,YAAcA,YAyEtB,OAnGAD,eAAe1G,MAAQ,CACrBC,QAAS,IACTC,OAAQ,KAEVwG,eAAetG,SAAW,IAC1BsG,eAAelG,SAAW,woBAc1BkG,eAAerG,KAAOA,KAgFfqG,iBAET/G,IAAIE,UAAU,iBAAkB,CAAC,WAAY,SAAUe,SACrD,IAAIyE,cAAgB,GAkBpB,SAAShF,KAAKL,MAAOM,QAASC,OAG5B,SAASgF,aACP,IAAIuB,UACAC,cAIJ,SAAStB,cAAc1D,OAAQC,OAAQhC,OACrC,GAAI+B,OAAQ,CACV,IAAIiF,aAAe,SAAsB7F,EAAO8F,GAC9CjH,MAAMqB,OAAO,WACXrB,MAAM+F,SAAWkB,EAAG3D,SAMxB,GAFAoC,mBAE0C,GAAtC1F,MAAMC,QAAQiF,KAAKS,QAAQ,OAAc,CAC3C,IAAIC,MAAQ5F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GACxCC,OAAS9F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GAC7C7F,MAAM+F,SAAWC,KAAK,gBAAkBJ,MAAQ,MAAgBE,aAEhE9F,MAAM+F,SAAWC,KAAK,gBAAkBhG,MAAMC,QAAQiF,MAGlCgB,MAAlBlG,MAAM+F,SACR/F,MAAMiG,WAAY,GAElBjG,MAAM+F,SAAW/F,MAAMC,QAAQiH,QAAUlH,MAAMC,QAAQiH,QAAU,EACjElH,MAAMiG,WAAY,GAGpB,IACE,GAAsBC,MAAlBlG,MAAM+F,SACR,KAAM,wBAIR,MAAOoB,GACPC,MAAMD,GAGRJ,cAAgBhG,EAAET,QAAQ,IAAIkD,KAAK,iBACnCuD,cAAcM,OAAO,CACnBC,IAAKtH,MAAMC,QAAQqH,IACnBC,IAAKvH,MAAMC,QAAQsH,IACnBjE,MAAOtD,MAAM+F,SACbyB,MAAO,MACPC,MAAOT,gBAKb,SAASU,aAAa3F,OAAQC,OAAQhC,OACpC,IAAI2H,KAAO5F,OAAO,GACdoC,KAAOpC,OAAO,GAClBe,QAAQC,IAAI4E,KAAMxD,MAClB,IAAIiC,OAASpG,MAAMC,QAAQiF,KAAKW,MAAM,KAClCS,IAAMF,OAAOA,OAAOhD,OAAS,GAC7BmD,QAAU,IAAIM,MAElB,IAA0C,GAAtC7G,MAAMC,QAAQiF,KAAKS,QAAQ,OAAc,CAC3C,IAAIC,MAAQ5F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GACxCC,OAAS9F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GACzCW,IAAMR,KAAK,gBAAkBhG,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,IAEjE,IAAK,IAAIzB,KAAKoC,IACZD,QAAQhC,KAAKqB,MAAQ,IAAMxB,EAAI,IAAM0B,aAGvCS,QAAQhC,KAAKvE,MAAMC,QAAQiF,MAG7B,IAAK,IAAId,KAAKmC,QAAS,CACrB,IAAIE,GAAKF,QAAQnC,GAAGyB,MAAM,IAAMS,KAAK,GAEjCvE,OAAO,IACTiE,KAAK,gBAAkBS,IAAIH,KAAOsB,SAASzD,MAE3C4C,cAAcM,OAAO,UACrBN,cAAcM,OAAO,SAAU,QAASO,SAASzD,MAAQyD,SAASzD,MAAQ,KAG1E4C,cAAcM,OAAO,WACrBrB,KAAK,gBAAkBS,IAAIH,UAAOJ,IAKxC,SAASR,kBACP,IAAIU,OAASpG,MAAMC,QAAQiF,KAAKW,MAAM,KAClCQ,SAAW,eAEf,IAAK,IAAIjC,KAAKgC,OACRhC,EAAIgC,OAAOhD,OAAS,IACtBiD,UAAY,IAAMD,OAAOhC,GAErB4B,KAAKK,SAAW,iBAClBL,KAAKK,SAAW,QA9FxBrG,MAAM8B,OAAO,SAAU2D,eACvBzF,MAAM6H,YAAY,CAAC,YAAa,YAAaH,cAN/C9G,QAAQ2E,YA2GV,OA7HAF,cAAcrF,MAAQ,CACpBC,QAAS,IACTC,OAAQ,KAEVmF,cAAcjF,SAAW,IACzBiF,cAAc7E,SAAW,2hBAUzB6E,cAAchF,KAAOA,KA8GdgF,iBAET1F,IAAIE,UAAU,gBAAiB,CAAC,WAAY,SAAUe,SACpD,IAAIkH,cAAgB,GAgBpB,SAASzH,KAAKL,MAAOM,QAASC,OAC5B,IAAIuG,UACAiB,cAGJ,SAASxC,aAQP,SAASyC,cAAc7G,GACrBnB,MAAMqB,OAEN,WACErB,MAAM+F,SAAW5E,EAAM8G,QAI3B,SAASxC,cAAc1D,OAAQC,OAAQhC,OACrC,GAAI+B,OAAQ,CAGV,GAFA2D,mBAE0C,GAAtC1F,MAAMC,QAAQiF,KAAKS,QAAQ,OAAc,CAC3C,IAAIC,MAAQ5F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GACxCC,OAAS9F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GAC7C7F,MAAM+F,SAAWC,KAAK,gBAAkBJ,MAAQ,MAAgBE,aAEhE9F,MAAM+F,SAAWC,KAAK,gBAAkBhG,MAAMC,QAAQiF,MAGxDlF,MAAMiG,UAA8BC,MAAlBlG,MAAM+F,SACxB/F,MAAM8B,OAAO,WAAYqE,kBAM7B,SAASX,iBAAiBzD,EAAQC,EAAQhC,GACpC+B,GACF/B,EAAM+F,SAAWe,WAAwB9G,EAAM+F,SAC/CgC,cAAcG,eAEdpB,UAAY9G,EAAM+F,SAAW/F,EAAM+F,SAAWe,UAC9C9G,EAAM+F,cAAWG,EACjB6B,cAAcI,eAMlB,SAAShC,gBAAgBpE,OAAQC,OAAQhC,OACvC,IAAIoG,OAASpG,MAAMC,QAAQiF,KAAKW,MAAM,KAClCS,IAAMF,OAAOA,OAAOhD,OAAS,GAC7BmD,QAAU,IAAIM,MAElB,IAA0C,GAAtC7G,MAAMC,QAAQiF,KAAKS,QAAQ,OAAc,CAC3C,IAAIC,MAAQ5F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GACxCC,OAAS9F,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,GACzCW,IAAMR,KAAK,gBAAkBhG,MAAMC,QAAQiF,KAAKW,MAAM,OAAO,IAEjE,IAAK,IAAIzB,KAAKoC,IACZD,QAAQhC,KAAKqB,MAAQ,IAAMxB,EAAI,IAAM0B,aAGvCS,QAAQhC,KAAKvE,MAAMC,QAAQiF,MAG7B,IAAK,IAAId,KAAKmC,QAAS,CACrB,IAAIE,GAAKF,QAAQnC,GAAGyB,MAAM,IAAMS,KAAK,GACrCN,KAAK,gBAAkBS,IAAIH,KAAOvE,QAItC,SAAS2D,kBACP,IAAIU,OAASpG,MAAMC,QAAQiF,KAAKW,MAAM,KAClCQ,SAAW,eAEf,IAAK,IAAIjC,KAAKgC,OACRhC,EAAIgC,OAAOhD,OAAS,IACtBiD,UAAY,IAAMD,OAAOhC,GAErB4B,KAAKK,SAAW,iBAClBL,KAAKK,SAAW,QA/ExB0B,cAAgBhH,EAAET,QAAQ,IAAIkD,KAAK,qBACnCuE,cAAcK,qBAAqB,CACjCJ,cAAeA,gBAEjBhI,MAAM8B,OAAO,SAAU2D,eACvBzF,MAAM8B,OAAO,YAAa0D,kBAR5B5E,QAAQ2E,YA0FV,OA5GAuC,cAAc9H,MAAQ,CACpBC,QAAS,IACTC,OAAQ,KAEV4H,cAAc1H,SAAW,IACzB0H,cAActH,SAAW,wUAQzBsH,cAAczH,KAAOA,KA+FdyH,iBAETnI,IAAIE,UAAU,gBAAiB,CAAC,WAAY,SAAUe,GACpD,IAAIf,EAAY,GAiBhB,OAhBAA,EAAUG,MAAQ,CAChBC,QAAS,KAEXJ,EAAUO,SAAW,IACrBP,EAAUQ,KAEV,SAAcL,EAAOM,EAASC,GAC5B,IAAIL,EAASa,EAAET,EAAQ,IACvBJ,EAAOgF,KAAK,QAAS,SAAU/D,GACR,IAAjBA,EAAMkH,SACRnI,EAAOwB,UAMN7B","file":"app-editor/js/directives/directive.js","sourcesContent":["define([\"app\", \"commonlib\", \"jquery\", \"jquery-ui\", \"colorPicker\"], function (app, lib) {\n  app.directive(\"contentTr\", [\"$compile\", function (compile) {\n    var content = {};\n    content.scope = {\n      ngModel: \"=\",\n      target: \"=\"\n    };\n    content.replace = false;\n    content.restrict = \"C\";\n    content.link = link;\n\n    function link(scope, element, attrs) {\n      var template = function (type) {\n        switch (type) {\n          case \"INPUT\":\n            return \"<table><tr ng-model='ngModel' data-target='target' class='standard-input'></tr><table>\";\n            break;\n\n          case \"SLIDER\":\n            return \"<table><tr ng-model='ngModel' data-target='target' class='standard-slider'></tr><table>\";\n            break;\n\n          case \"LINE\":\n            return \"<table><tr><hr></tr><table>\";\n            break;\n\n          case \"SELECT\":\n            return \"<table><tr ng-model='ngModel' data-target='target' class='standard-select'></tr><table>\";\n            break;\n\n          case \"TITLE\":\n            return \"<table><tr><td>{{ngModel.name}}<td></tr><table>\";\n            break;\n\n          case \"COLOR\":\n            return \"<table><tr ng-model='ngModel' data-target='target' class='standard-color'></tr><table>\";\n            break;\n\n          default:\n            return \"<table><tr>BAD MODULE</tr><table>\";\n            break;\n        }\n      }(scope.ngModel.type);\n\n      element.html(template);\n      compile(element.contents())(scope);\n    }\n\n    return content;\n  }]);\n  app.directive(\"clickableInput\", [\"$timeout\", function (timeout) {\n    var directive = {};\n    directive.scope = {\n      ngModel: \"=\",\n      ngDisabled: \"=\"\n    };\n    directive.restrict = \"C\";\n    directive.link = link;\n\n    function link(scope, element) {\n      var Jelem = $(element);\n      var parentDom = Jelem.parent();\n      timeout(domReady);\n\n      function domReady() {\n        parentDom.on(\"click\", elementClick);\n      }\n\n      function elementClick(event) {\n        event.stopPropagation();\n        scope.$apply(applied);\n        Jelem.focus();\n        parentDom.off(\"click\");\n        parentDom.on(\"keypress.enter\", keypressEvent);\n        Jelem.blur(elementLostFocus);\n\n        function applied() {\n          scope.ngDisabled = false;\n        }\n      }\n\n      function elementLostFocus(event) {\n        scope.$apply(applied);\n        parentDom.on(\"click\", elementClick);\n        parentDom.off(\"keypress.enter\");\n\n        function applied() {\n          scope.ngDisabled = true;\n        }\n      }\n\n      function keypressEvent(event) {\n        var keycode = event.charCode;\n\n        if (keycode == 13) {\n          Jelem.blur();\n        }\n\n        ;\n      }\n\n      scope.$watch(\"ngModel\", ngModelWatcher);\n\n      function ngModelWatcher(newVal, oldVal, scope) {}\n    }\n\n    return directive;\n  }]);\n  app.directive(\"chartIcon\", [\"$timeout\", function (timeout) {\n    var directive = {};\n    directive.scope = {\n      ngModel: \"=\"\n    };\n    directive.restrict = \"C\";\n    directive.link = link;\n\n    function link(scope, element) {\n      scope.$watch(\"ngModel\", ngModelWatcher);\n\n      function ngModelWatcher(newVal, oldVal, scope) {\n        switch (newVal) {\n          case \"line\":\n            element.removeClass().addClass(\"chartIcon line\");\n            break;\n\n          case \"bar\":\n            element.removeClass().addClass(\"chartIcon bar\");\n            break;\n\n          case \"pie\":\n            element.removeClass().addClass(\"chartIcon pie\");\n            break;\n\n          case \"gauge\":\n            element.removeClass().addClass(\"chartIcon gauge\");\n            break;\n        }\n      }\n    }\n\n    return directive;\n  }]);\n  app.directive(\"dropdowntree\", [\"$timeout\", function (timeout) {\n    var directive = {};\n    directive.scope = {\n      ngModel: \"=\",\n      options: \"=\",\n      change: \"&\"\n    };\n    directive.restrict = \"C\";\n    directive.link = link;\n\n    function link(scope, element, attr) {\n      scope.$watch(\"ngModel\", ngModelWatcher);\n      scope.$watch(\"options\", optionsWatcher);\n      var select = $(\"<div></div>\").addClass(\"select\");\n      var wraps = new lib.ArrayHandler([]);\n      select.on(\"click\", function () {\n        scope.$apply(function () {\n          var elem = $(element).find('[id*=container]');\n\n          if (elem.hasClass(\"noview\")) {\n            var docClick = function docClick() {\n              elem.addClass(\"noview\");\n              $('body').off(\"click.body\");\n              select.removeClass(\"extend\");\n            };\n\n            elem.removeClass(\"noview\");\n            select.addClass(\"extend\");\n            timeout(function () {\n              $('body').on(\"click.body\", docClick);\n            });\n          }\n        });\n      });\n      element.append(select);\n\n      function ngModelWatcher(n, o, s) {\n        if (n) {\n          //console.log(n);\n          n.setCurrentSelect = function (obj) {\n            select.text(obj.label);\n            console.log(obj);\n          };\n        }\n      }\n\n      function optionsWatcher(n, o, s) {\n        if (n) {\n          var traverse = function traverse(children, container, level) {\n            children.each(function (child) {\n              var wrap = $(\"<div></div>\").addClass(\"wrap\");\n              var handler = $(\"<div></div>\").addClass(\"glyphicon\");\n              var label = $(\"<div></div>\").addClass(\"labeltxt\");\n              var childrenDom = $(\"<div></div>\").addClass(\"children\");\n              var children = child.children;\n              wrap.attr(\"id\", child.id);\n              handler.data(\"children\", children);\n              label.text(child.label);\n\n              for (var i = 0; i <= level; i++) {\n                (function (clone, inx) {\n                  if (inx == level - 1) {\n                    clone.addClass(\"last\");\n                  }\n\n                  clone.css(\"left\", 10 + inx * 20 + \"px\");\n                  wrap.append(clone);\n                })($(\"<div></div>\").addClass(\"vline\"), i);\n              }\n\n              wrap.append(handler);\n              wrap.append(label);\n              wrap.css(\"padding-left\", level * 20 + \"px\");\n              wraps.push(wrap);\n              container.append(wrap);\n              wrap.on(\"click\", function (event) {\n                scope.$apply(function () {\n                  var containedmodelId = [child.id];\n                  select.text(child.label);\n                  wraps.each(function (elem) {\n                    elem.removeClass(\"active\");\n                  });\n                  wrap.addClass(\"active\");\n                  var children = child.children;\n                  containedmodelId = [child.id];\n\n                  if (children) {\n                    getchild(children);\n                  }\n\n                  function getchild(children) {\n                    children.each(function (elem) {\n                      containedmodelId.push(elem.id);\n                      var children = elem.children;\n\n                      if (children) {\n                        getchild(children);\n                      }\n                    });\n                  }\n\n                  scope.change({\n                    value: child\n                  });\n                  scope.ngModel = containedmodelId;\n                });\n              });\n\n              if (children) {\n                handler.addClass(\"glyphicon-minus\");\n                handler.on(\"click\", function (event) {\n                  event.stopPropagation();\n\n                  if (handler.hasClass(\"glyphicon-minus\")) {\n                    handler.removeClass(\"glyphicon-minus\").addClass(\"glyphicon-plus\");\n                    childrenDom.animate({\n                      \"max-height\": 0,\n                      opacity: 0\n                    }, 300, function () {\n                      childrenDom.css({\n                        \"display\": \"none\"\n                      });\n                    });\n                  } else {\n                    handler.removeClass(\"glyphicon-plus\").addClass(\"glyphicon-minus\");\n                    childrenDom.css({\n                      \"display\": \"block\"\n                    });\n                    childrenDom.animate({\n                      \"max-height\": 200,\n                      opacity: 1\n                    }, 300);\n                  }\n                });\n                container.append(childrenDom);\n                traverse(children, childrenDom, level + 1);\n              } else {\n                handler.addClass(\"glyphicon-hdd\");\n              }\n            });\n          };\n\n          console.log(n);\n          var options = n;\n          var container = $(\"<div></div>\").attr(\"id\", \"container\").addClass(\"noview\");\n          var childrenDom = $(\"<div></div>\").addClass(\"children\");\n          var children = options.children;\n\n          if (children.getData().length > 0) {\n            select.text(children.first().label);\n            scope.change({\n              value: children.first()\n            });\n          }\n\n          container.append(childrenDom);\n          element.find('[id*=container]').remove();\n          element.append(container);\n          /*\n          containedmodelId = [];\n          (function(children){\n          \tif (children) {\n          \t\tgetchild(children);\n          \t}\n          \tfunction getchild(children) {\n          \t\tchildren.each(function (elem) {\n          \t\t\tcontainedmodelId.push(elem.id);\n          \t\t\tvar children = elem.children;\n          \t\t\tif (children) {\n          \t\t\t\tgetchild({value : children});\n          \t\t\t}\n          \t\t});\n          \t}\n          \tscope.ngModel = containedmodelId;\n          })(children)\n          */\n\n          traverse(children, childrenDom, 1);\n        } else {\n          element.find('[id*=container]').remove();\n        }\n      }\n    }\n\n    return directive;\n  }]);\n  app.directive(\"checkbox\", [\"$timeout\", function (timeout) {\n    var directive = {};\n    directive.scope = {\n      ngModel: \"=\"\n    };\n    directive.restrict = \"C\";\n    directive.template = \"<span class='glyphicon glyphicon-ok' ng-show='ngModel'></span>\";\n    directive.link = link;\n\n    function link(scope, element) {\n      element.bind(\"click\", elemClick);\n\n      function elemClick(event) {\n        if (!scope.disabled) {\n          var applied = function applied() {\n            scope.ngModel = !scope.ngModel;\n          };\n\n          scope.$apply(applied);\n        }\n      }\n\n      scope.$watch(\"ngModel\", ngModelWatcher);\n\n      function ngModelWatcher(newVal, oldVal, scope) {\n        if (newVal == true) {\n          element.addClass(\"active\");\n        } else {\n          element.removeClass(\"active\");\n        }\n      }\n    }\n\n    return directive;\n  }]);\n  app.directive(\"standardInput\", [\"$timeout\", function (timeout) {\n    var standardInput = {};\n    standardInput.scope = {\n      ngModel: \"=\",\n      target: \"=\"\n    };\n    var cacheValue;\n    standardInput.restrict = \"C\";\n    standardInput.template = \"\\\n\t\t\t\t<td><div class='checkbox' ng-model='avaliable' name='{{ngModel.name}}'></div></td>\\\n\t\t\t\t<td class='title' ng-class='{true : \\\"\\\", false : \\\"notavaliable\\\"}[avaliable]'>{{ngModel.name}}</td>\\\n\t\t\t\t<td class='content'>\\\n\t\t\t\t\t<input \\\n\t\t\t\t\t\tng-disabled = '!avaliable'\\\n\t\t\t\t\t\tng-model='bindData'\\\n\t\t\t\t\t\tng-model-options='{ updateOn : \\\"blur\\\" }''\\\n\t\t\t\t\t\tng-class='{true:\\\"\\\",false: \\\"disabled\\\"}[avaliable]'\\\n\t\t\t\t\t\tclass='updateOnEnter mTitle'/>\\\n\t\t\t\t</td>\";\n    standardInput.link = link;\n\n    function link(scope, element, attrs) {\n      timeout(onDomReady);\n\n      function onDomReady() {\n        scope.$watch(\"avaliable\", avaliableWatcher);\n        scope.$watch(\"target\", targetWatcher);\n      }\n\n      function targetWatcher(newVal, oldVal, scope) {\n        if (newVal) {\n          fillBlankObject();\n\n          if (scope.ngModel.bind.indexOf(\"[*]\") != -1) {\n            var leftP = scope.ngModel.bind.split(\"[*]\")[0];\n            var rightP = scope.ngModel.bind.split(\"[*]\")[1];\n            scope.bindData = eval(\"scope.target.\" + leftP + \"[\" + 0 + \"]\" + rightP);\n          } else {\n            scope.bindData = eval(\"scope.target.\" + scope.ngModel.bind);\n          }\n\n          scope.avaliable = scope.bindData != undefined;\n          scope.$watch(\"bindData\", bindDataWatcher);\n        }\n      }\n\n      function avaliableWatcher(newVal, oldVal, scope) {\n        if (newVal) {\n          scope.bindData = scope.bindData ? scope.bindData : cacheValue;\n        } else {\n          cacheValue = scope.bindData;\n          scope.bindData = undefined;\n        }\n      }\n\n      function fillBlankObject() {\n        var params = scope.ngModel.bind.split(\".\");\n        var variable = \"scope.target\";\n\n        for (var i in params) {\n          if (i < params.length - 1) {\n            variable += \".\" + params[i];\n\n            if (eval(variable + \"== undefined\")) {\n              eval(variable + \"={}\");\n            }\n          }\n        }\n      }\n\n      function bindDataWatcher(newVal, oldVal, scope) {\n        var params = scope.ngModel.bind.split(\".\");\n        var end = params[params.length - 1];\n        var evalStr = [];\n\n        if (scope.ngModel.bind.indexOf(\"[*]\") != -1) {\n          var leftP = scope.ngModel.bind.split(\"[*]\")[0];\n          var rightP = scope.ngModel.bind.split(\"[*]\")[1];\n          var arr = eval(\"scope.target.\" + scope.ngModel.bind.split(\"[*]\")[0]);\n\n          for (var i in arr) {\n            evalStr.push(leftP + \"[\" + i + \"]\" + rightP);\n          }\n        } else {\n          evalStr.push(scope.ngModel.bind);\n        }\n\n        for (var i in evalStr) {\n          var rs = evalStr[i].split(\".\" + end)[0];\n          eval(\"scope.target.\" + rs)[end] = newVal;\n        }\n      }\n    }\n\n    return standardInput;\n  }]);\n  app.directive(\"standardSelect\", function () {\n    var standardSelect = {};\n    standardSelect.scope = {\n      ngModel: \"=\",\n      target: \"=\"\n    };\n    standardSelect.restrict = \"C\";\n    standardSelect.template = \"\\\n\t\t\t\t<td><div class='checkbox' ng-model='avaliable' name='{{ngModel.name}}'></div></td>\\\n\t\t\t\t<td class='title' ng-class='{true : \\\"\\\", false : \\\"notavaliable\\\"}[avaliable]'>{{ngModel.name}}</td>\\\n\t\t\t\t<td class='content'>\\\n\t\t\t\t\t<div class='btn-group btn-group-justified' role='group' aria-label='...'>\\\n\t\t\t\t\t\t<a ng-repeat='value in ngModel.values'\\\n\t\t\t\t\t\t\tng-disabled = '!avaliable'\\\n\t\t\t\t\t\t\tng-click = 'selectClick(value.value)'\\\n\t\t\t\t\t\t\tclass='btn btn-primary'\\\n\t\t\t\t\t\t\tng-class='{true : \\\"selected\\\", false : \\\"\\\"}[bindData==value.value]'>\\\n\t\t\t\t\t\t\t{{value.name}}\\\n\t\t\t\t\t\t</a>\\\n\t\t\t\t\t</div>\\\n\t\t\t\t</td>\";\n    standardSelect.link = link;\n\n    function link(scope, element, attrs) {\n      var cacheValue;\n      scope.$watch(\"target\", targetWatcher);\n      scope.$watch(\"target\", targetValueWatcher, true);\n      scope.$watch(\"avaliable\", avaliableWatcher);\n      scope.selectClick = selectClick;\n\n      function selectClick(value) {\n        scope.bindData = value;\n      }\n\n      function targetWatcher(newVal, oldVal, scope) {\n        if (newVal) {\n          fillBlankObject();\n\n          if (scope.ngModel.bind.indexOf(\"[*]\") != -1) {\n            var leftP = scope.ngModel.bind.split(\"[*]\")[0];\n            var rightP = scope.ngModel.bind.split(\"[*]\")[1];\n            scope.bindData = eval(\"scope.target.\" + leftP + \"[\" + 0 + \"]\" + rightP);\n          } else {\n            scope.bindData = eval(\"scope.target.\" + scope.ngModel.bind);\n          }\n\n          scope.avaliable = scope.bindData != undefined;\n          scope.$watch(\"bindData\", bindDataWatcher);\n        }\n      }\n\n      function targetValueWatcher(newVal, oldVal, scope) {}\n\n      function avaliableWatcher(newVal, oldVal, scope) {\n        if (newVal) {\n          scope.bindData = scope.bindData ? scope.bindData : cacheValue;\n        } else {\n          cacheValue = scope.bindData ? scope.bindData : cacheValue;\n          scope.bindData = undefined;\n        }\n      }\n\n      function bindDataWatcher(newVal, oldVal, scope) {\n        var params = scope.ngModel.bind.split(\".\");\n        var end = params[params.length - 1];\n        var evalStr = new Array();\n\n        if (scope.ngModel.bind.indexOf(\"[*]\") != -1) {\n          var leftP = scope.ngModel.bind.split(\"[*]\")[0];\n          var rightP = scope.ngModel.bind.split(\"[*]\")[1];\n          var arr = eval(\"scope.target.\" + scope.ngModel.bind.split(\"[*]\")[0]);\n\n          for (var i in arr) {\n            evalStr.push(leftP + \"[\" + i + \"]\" + rightP);\n          }\n        } else {\n          evalStr.push(scope.ngModel.bind);\n        }\n\n        for (var i in evalStr) {\n          var rs = evalStr[i].split(\".\" + end)[0];\n          eval(\"scope.target.\" + rs)[end] = newVal;\n        }\n      }\n\n      function fillBlankObject() {\n        var params = scope.ngModel.bind.split(\".\");\n        var variable = \"scope.target\";\n\n        for (var i in params) {\n          if (i < params.length - 1) {\n            variable += \".\" + params[i];\n\n            if (eval(variable + \"== undefined\")) {\n              eval(variable + \"={}\");\n            }\n          }\n        }\n      }\n    }\n\n    return standardSelect;\n  });\n  app.directive(\"standardSlider\", [\"$timeout\", function (timeout) {\n    var standardInput = {};\n    standardInput.scope = {\n      ngModel: \"=\",\n      target: \"=\"\n    };\n    standardInput.restrict = \"C\";\n    standardInput.template = \"\\\n\t\t\t\t\t<td><div class='checkbox' ng-model='avaliable' name='{{ngModel.name}}'></div></td>\\\n\t\t\t\t\t<td class='title' ng-class='{true : \\\"\\\", false : \\\"notavaliable\\\"}[avaliable]'>{{ngModel.name}}</td>\\\n\t\t\t\t\t<td class='content' style='width:130px;'>\\\n\t\t\t\t\t\t<div id='number-input'></div>\\\n\t\t\t\t\t</td>\\\n\t\t\t\t\t<td class='valcls' style='padding:0;'>\\\n\t\t\t\t\t\t<input ng-model='bindData' ng-model-options='{ updateOn : \\\"blur\\\" }' ng-disabled='!avaliable' type='unmber'/>\\\n\t\t\t\t\t\t<span>{{ngModel.unit}}</span>\\\n\t\t\t\t\t</td>\";\n    standardInput.link = link;\n\n    function link(scope, element, attrs) {\n      timeout(onDomReady);\n\n      function onDomReady() {\n        var cachValue;\n        var elementTarget;\n        scope.$watch(\"target\", targetWatcher);\n        scope.$watchGroup([\"avaliable\", \"bindData\"], groupWatcher);\n\n        function targetWatcher(newVal, oldVal, scope) {\n          if (newVal) {\n            var numberUpdate = function numberUpdate(event, ui) {\n              scope.$apply(function () {\n                scope.bindData = ui.value;\n              });\n            };\n\n            fillBlankObject();\n\n            if (scope.ngModel.bind.indexOf(\"[*]\") != -1) {\n              var leftP = scope.ngModel.bind.split(\"[*]\")[0];\n              var rightP = scope.ngModel.bind.split(\"[*]\")[1];\n              scope.bindData = eval(\"scope.target.\" + leftP + \"[\" + 0 + \"]\" + rightP);\n            } else {\n              scope.bindData = eval(\"scope.target.\" + scope.ngModel.bind);\n            }\n\n            if (scope.bindData != undefined) {\n              scope.avaliable = true;\n            } else {\n              scope.bindData = scope.ngModel.default ? scope.ngModel.default : 0;\n              scope.avaliable = false;\n            }\n\n            try {\n              if (scope.bindData == undefined) {\n                throw \"bindData is undefined\";\n              }\n\n              ;\n            } catch (error) {\n              alert(error);\n            }\n\n            elementTarget = $(element[0]).find(\"#number-input\");\n            elementTarget.slider({\n              max: scope.ngModel.max,\n              min: scope.ngModel.min,\n              value: scope.bindData,\n              range: \"min\",\n              slide: numberUpdate\n            });\n          }\n        }\n\n        function groupWatcher(newVal, oldVal, scope) {\n          var aval = newVal[0];\n          var data = newVal[1];\n          console.log(aval, data);\n          var params = scope.ngModel.bind.split(\".\");\n          var end = params[params.length - 1];\n          var evalStr = new Array();\n\n          if (scope.ngModel.bind.indexOf(\"[*]\") != -1) {\n            var leftP = scope.ngModel.bind.split(\"[*]\")[0];\n            var rightP = scope.ngModel.bind.split(\"[*]\")[1];\n            var arr = eval(\"scope.target.\" + scope.ngModel.bind.split(\"[*]\")[0]);\n\n            for (var i in arr) {\n              evalStr.push(leftP + \"[\" + i + \"]\" + rightP);\n            }\n          } else {\n            evalStr.push(scope.ngModel.bind);\n          }\n\n          for (var i in evalStr) {\n            var rs = evalStr[i].split(\".\" + end)[0];\n\n            if (newVal[0]) {\n              eval(\"scope.target.\" + rs)[end] = parseInt(data); //scope.bindData = parseInt(data);\n\n              elementTarget.slider(\"enable\");\n              elementTarget.slider(\"option\", \"value\", parseInt(data) ? parseInt(data) : 0);\n            } else {\n              //scope.bindData = scope.ngModel.default;\n              elementTarget.slider(\"disable\");\n              eval(\"scope.target.\" + rs)[end] = undefined; //elementTarget.slider(\"option\", \"value\", scope.ngModel.default ? scope.ngModel.default : 0);\n            }\n          }\n        }\n\n        function fillBlankObject() {\n          var params = scope.ngModel.bind.split(\".\");\n          var variable = \"scope.target\";\n\n          for (var i in params) {\n            if (i < params.length - 1) {\n              variable += \".\" + params[i];\n\n              if (eval(variable + \"== undefined\")) {\n                eval(variable + \"={}\");\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return standardInput;\n  }]);\n  app.directive(\"standardColor\", [\"$timeout\", function (timeout) {\n    var standardColor = {};\n    standardColor.scope = {\n      ngModel: \"=\",\n      target: \"=\"\n    };\n    standardColor.restrict = \"C\";\n    standardColor.template = \"\\\n\t\t\t\t<td><div class='checkbox' ng-model='avaliable' name='{{ngModel.name}}'></div></td>\\\n\t\t\t\t<td class='title' ng-class='{true : \\\"\\\", false : \\\"notavaliable\\\"}[avaliable]' ng-bind='ngModel.name'></td>\\\n\t\t\t\t<td class='content'>\\\n\t\t\t\t\t<input \\\n\t\t\t\t\t\tid='colorPicker'\\\n\t\t\t\t\t\tdata-target='target'>\\\n\t\t\t\t</td>\";\n    standardColor.link = link;\n\n    function link(scope, element, attrs) {\n      var cachValue;\n      var currentTarget;\n      timeout(onDomReady);\n\n      function onDomReady() {\n        currentTarget = $(element[0]).find(\"input#colorPicker\");\n        currentTarget.createNewColorPicker({\n          onColorChange: onColorChange\n        });\n        scope.$watch(\"target\", targetWatcher);\n        scope.$watch(\"avaliable\", avaliableWatcher);\n\n        function onColorChange(event) {\n          scope.$apply(dataApplied);\n\n          function dataApplied() {\n            scope.bindData = event.color;\n          }\n        }\n\n        function targetWatcher(newVal, oldVal, scope) {\n          if (newVal) {\n            fillBlankObject();\n\n            if (scope.ngModel.bind.indexOf(\"[*]\") != -1) {\n              var leftP = scope.ngModel.bind.split(\"[*]\")[0];\n              var rightP = scope.ngModel.bind.split(\"[*]\")[1];\n              scope.bindData = eval(\"scope.target.\" + leftP + \"[\" + 0 + \"]\" + rightP);\n            } else {\n              scope.bindData = eval(\"scope.target.\" + scope.ngModel.bind);\n            }\n\n            scope.avaliable = scope.bindData != undefined;\n            scope.$watch(\"bindData\", bindDataWatcher);\n          }\n        }\n\n        ;\n\n        function avaliableWatcher(newVal, oldVal, scope) {\n          if (newVal) {\n            scope.bindData = cachValue ? cachValue : scope.bindData;\n            currentTarget.setEnabled();\n          } else {\n            cachValue = scope.bindData ? scope.bindData : cachValue;\n            scope.bindData = undefined;\n            currentTarget.setDisabled();\n          }\n        }\n\n        ;\n\n        function bindDataWatcher(newVal, oldVal, scope) {\n          var params = scope.ngModel.bind.split(\".\");\n          var end = params[params.length - 1];\n          var evalStr = new Array();\n\n          if (scope.ngModel.bind.indexOf(\"[*]\") != -1) {\n            var leftP = scope.ngModel.bind.split(\"[*]\")[0];\n            var rightP = scope.ngModel.bind.split(\"[*]\")[1];\n            var arr = eval(\"scope.target.\" + scope.ngModel.bind.split(\"[*]\")[0]);\n\n            for (var i in arr) {\n              evalStr.push(leftP + \"[\" + i + \"]\" + rightP);\n            }\n          } else {\n            evalStr.push(scope.ngModel.bind);\n          }\n\n          for (var i in evalStr) {\n            var rs = evalStr[i].split(\".\" + end)[0];\n            eval(\"scope.target.\" + rs)[end] = newVal;\n          }\n        }\n\n        function fillBlankObject() {\n          var params = scope.ngModel.bind.split(\".\");\n          var variable = \"scope.target\";\n\n          for (var i in params) {\n            if (i < params.length - 1) {\n              variable += \".\" + params[i];\n\n              if (eval(variable + \"== undefined\")) {\n                eval(variable + \"={}\");\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return standardColor;\n  }]);\n  app.directive(\"updateOnEnter\", [\"$timeout\", function (timeout) {\n    var directive = {};\n    directive.scope = {\n      ngModel: \"=\"\n    };\n    directive.restrict = \"C\";\n    directive.link = link;\n\n    function link(scope, element, attrs) {\n      var target = $(element[0]);\n      target.bind(\"keyup\", function (event) {\n        if (event.keyCode == 13) {\n          target.blur();\n        }\n      });\n    }\n\n    ;\n    return directive;\n  }]);\n});"],"sourceRoot":"/source/"}