{"version":3,"sources":["js/services/weather-service.js"],"names":["define","services","factory","serviceProxy","$http","getWeatherByCity","city","callback","get","getAddressPoint","address","callBack","jQuery","ajax","type","url","window","location","protocol","dataType","jsoncallback","success","d","status","result","error","e","console","log"],"mappings":"AAAAA,OAAO,CAAC,2BAA4B,SAAUC,GAC5C,aAEAA,EAASC,QAAQ,iBAAkB,CAAC,eAAgB,QAAS,SAAUC,EAAcC,GACnF,IACIF,EAAU,CAKdG,iBAA2B,SAAUC,EAAMC,GACzCJ,EAAaK,IAPD,iBAOc,mBAAoB,CAACF,GAAOC,IAGxDE,gBAA0B,SAAUC,EAASC,GACvCD,EACFE,OAAOC,KAAK,CACVC,KAAM,MACNC,IAAKC,OAAOC,SAASC,SAAW,4CAA8CR,EAAU,mDACxFS,SAAU,QACVC,aAAc,WACdC,QAAS,SAAiBC,GACR,GAAZA,EAAEC,QACAZ,GACFA,EAASW,EAAEE,SAIjBC,MAAO,SAAeC,GACpBC,QAAQC,IAAI,iBAIZjB,GACFA,EAAS,QAKf,OAAOT","file":"js/services/weather-service.js","sourcesContent":["define(['../services/services.js'], function (services) {\n  'use strict';\n\n  services.factory('weatherService', ['serviceProxy', '$http', function (serviceProxy, $http) {\n    var service = 'weatherService',\n        factory = {};\n    /*\n     *  获取所有单位\n     */\n\n    factory.getWeatherByCity = function (city, callback) {\n      serviceProxy.get(service, 'getWeatherByCity', [city], callback);\n    };\n\n    factory.getAddressPoint = function (address, callBack) {\n      if (address) {\n        jQuery.ajax({\n          type: \"GET\",\n          url: window.location.protocol + \"//api.map.baidu.com/geocoder/v2/?address=\" + address + \"&output=json&ak=eMekSXxqG1j2wLM57RFN61l8T6eB1EDx\",\n          dataType: \"jsonp\",\n          jsoncallback: 'callBack',\n          success: function success(d) {\n            if (d.status == 0) {\n              if (callBack) {\n                callBack(d.result);\n              }\n            }\n          },\n          error: function error(e) {\n            console.log('ajax error');\n          }\n        });\n      } else {\n        if (callBack) {\n          callBack(null);\n        }\n      }\n    };\n\n    return factory;\n  }]);\n});"],"sourceRoot":"/source/"}