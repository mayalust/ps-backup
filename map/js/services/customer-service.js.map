{"version":3,"sources":["js/services/customer-service.js"],"names":["define","services","factory","serviceProxy","service","addCustomer","param","callback","get","deleteCustomerById","id","updateCustomer","findCustomersByCondition","returnObj","code","customerDic","i","data","verifyFun","value","type","mesg","test"],"mappings":"AAAAA,OAAO,CAAC,2BAA4B,SAAUC,GAC5C,aAEAA,EAASC,QAAQ,oBAAqB,CAAC,eAAgB,SAAUC,GAC/D,IAAIC,EAAU,oBACVF,EAAU,CAGdG,YAAsB,SAAUC,EAAOC,GACrCJ,EAAaK,IAAIJ,EAAS,cAAeE,EAAOC,IAIlDE,mBAA6B,SAAUC,EAAIH,GACzCJ,EAAaK,IAAIJ,EAAS,qBAAsBM,EAAIH,IAItDI,eAAyB,SAAUL,EAAOC,GACxCJ,EAAaK,IAAIJ,EAAS,iBAAkBE,EAAOC,IAIrDK,yBAAmC,SAAUN,EAAOC,GAClDJ,EAAaK,IAAIJ,EAAS,2BAA4BE,EAAO,SAAUO,GACrE,GAAsB,GAAlBA,EAAUC,KAAW,CACvB,IAAIC,EAAc,GAElB,IAAK,IAAIC,KAAKH,EAAUI,KACtBF,EAAYF,EAAUI,KAAKD,GAAG,IAASH,EAAUI,KAAKD,GAMxDH,EAAUE,YAAcA,EAEpBR,GACFA,EAASM,OAMjBK,UAAoB,SAAUC,EAAOC,EAAMC,EAAMd,GAG/C,MAAY,SAARa,GACI,kEACEE,KAAKH,GASI,SAARC,GACH,mEACEE,KAAKH,QAWXZ,GACFA,OAIJ,OAAOL","file":"js/services/customer-service.js","sourcesContent":["define(['../services/services.js'], function (services) {\n  'use strict';\n\n  services.factory('customerUIService', ['serviceProxy', function (serviceProxy) {\n    var service = 'customerUIService',\n        factory = {}; //==========================   客户管理   ===============================================  \n    //新加客户信息\n\n    factory.addCustomer = function (param, callback) {\n      serviceProxy.get(service, 'addCustomer', param, callback);\n    }; //删除客户\n\n\n    factory.deleteCustomerById = function (id, callback) {\n      serviceProxy.get(service, 'deleteCustomerById', id, callback);\n    }; //更新修改客户\n\n\n    factory.updateCustomer = function (param, callback) {\n      serviceProxy.get(service, 'updateCustomer', param, callback);\n    }; //查询客户信息\n\n\n    factory.findCustomersByCondition = function (param, callback) {\n      serviceProxy.get(service, 'findCustomersByCondition', param, function (returnObj) {\n        if (returnObj.code == 0) {\n          var customerDic = {};\n\n          for (var i in returnObj.data) {\n            customerDic[returnObj.data[i]['id']] = returnObj.data[i];\n          } // returnObj.data.each(function(index, obj) {\n          //   customerDic[obj.id] = obj;\n          // })\n\n\n          returnObj.customerDic = customerDic;\n\n          if (callback) {\n            callback(returnObj);\n          }\n        }\n      });\n    };\n\n    factory.verifyFun = function (value, type, mesg, callback) {\n      var reg, r;\n\n      if (type == \"phone\") {\n        reg = /^(((13[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\\d{8})$/;\n        r = reg.test(value);\n\n        if (!r) {\n          mesg = true;\n          return true;\n        } else {\n          mesg = false;\n          return false;\n        }\n      } else if (type == \"email\") {\n        reg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\\.[a-zA-Z0-9_-]{2,3}){1,2})$/;\n        r = reg.test(value);\n\n        if (!r) {\n          mesg = true;\n          return true;\n        } else {\n          mesg = false;\n          return false;\n        }\n      }\n\n      if (callback) {\n        callback();\n      }\n    };\n\n    return factory;\n  }]);\n});"],"sourceRoot":"/source/"}