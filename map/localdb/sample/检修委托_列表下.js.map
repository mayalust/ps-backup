{"version":3,"sources":["localdb/sample/检修委托_列表下.js"],"names":["expression","theme","on","init","event","target","Dictionary","customerName","devName","deviceCode","alertTitle","appName","alertArisingTime","tickeTaskStatusName","getTableData","time","params","categorys","validUserFlag","nodeIds","resource","id","commitBeginTime","firstTimeFrom","commitEndTime","firstTimeTo","postService","tc","data","datas","forEach","ele","category","values","severity","projectDomains","domains","getdomainListName","message","tickeTaskStatus","useMomentFormat","commitTime","tickeTaskStatusFlag","dealType","push","trigger","length","advsearch","format","i","item","explainDic","name","type","value","options","-","content","label","yiwancheng","icon","class","click","elem","createSystemPopupByLocalPath","width","title","row","render","","rowClick","getValue","e"],"mappings":"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","file":"localdb/sample/检修委托_列表下.js","sourcesContent":["expression = {\n  \"theme\": \"dark\",\n  \"on\": {\n    \"init\": function init(event) {\n      debugger;\n      var target = event.target;\n      var navigateTrigger = false; //--------------------------自定义输入-----------------------------\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\n      //自定义输入\n\n      var Dictionary = {\n        customerName: \"产线\",\n        devName: \"设备信息\",\n        deviceCode: \"设备编码\",\n        alertTitle: \"任务信息\",\n        appName: \"任务来源\",\n        alertArisingTime: \"任务接收时间\",\n        tickeTaskStatusName: \"任务状态\"\n      };\n\n      function getTableData(time) {\n        var params = [{\n          \"categorys\": \"130,120,210\",\n          \"validUserFlag\": true,\n          \"nodeIds\": resource.id,\n          \"commitBeginTime\": time ? time.firstTimeFrom : \"\",\n          \"commitEndTime\": time ? time.firstTimeTo : \"\"\n        }];\n        target.postService(\"ticketTaskService\", \"getDealTicketList\", params, function (tc) {\n          if (tc.data) {\n            var datas = [];\n            tc.data.forEach(function (ele) {\n              var data = ele;\n\n              if (data.category == \"90\") {\n                data.devName = ele.values.devName;\n                data.appName = ele.values.appName;\n                data.severity = ele.values.severity;\n              } else if (data.category == 130) {\n                data.appName = \"点检异常\";\n              } else if (data.category == 120) {\n                data.appName = \"检修计划\";\n              } else if (data.category == 210) {\n                data.appName = \"临时委托\";\n              }\n\n              var projectDomains = {\n                domains: ele.projectDomains\n              };\n              var domains = target.getdomainListName([projectDomains]);\n              data.customerName = domains[3];\n              data.alertTitle = ele.message;\n              data.devName = ele.values.devName;\n              data.tickeTaskStatus = ele.values.tickeTaskStatus;\n              data.alertArisingTime = useMomentFormat(ele.values.alertArisingTime, \"yyyy-MM-dd hh:mm:ss\");\n              data.commitTime = useMomentFormat(ele.commitTime, \"yyyy-MM-dd hh:mm:ss\");\n\n              if (ele.values.tickeTaskStatus == \"maintaining\") {\n                data.tickeTaskStatusFlag = \"-\";\n                data.tickeTaskStatusName = \"待检修\";\n              } else if (ele.values.tickeTaskStatus == \"end\" && ele.values.dealType == \"3\") {\n                data.tickeTaskStatusName = \"已完成\";\n                data.tickeTaskStatusFlag = \"yiwancheng\";\n              } else if (ele.values.tickeTaskStatus == \"end\") {\n                data.tickeTaskStatusName = \"已完成\";\n                data.tickeTaskStatusFlag = \"\";\n              }\n\n              datas.push(data);\n            });\n            target.trigger(\"panelTwo\", datas.length);\n            success(datas);\n          }\n        });\n      }\n\n      var resource = target.getValue(\"global/resource\");\n\n      if (resource) {\n        getTableData();\n      }\n\n      target.on(\"tree_resourceChange\", function (e) {\n        resource = e.resource;\n        getTableData();\n      }); // 点击查询按钮debugger\n\n      target.on(\"queryTabelList2\", function (time) {\n        getTableData(time);\n      }); //--------------------------自定义输入-----------------------------\n      //注意，下面内容别动！！！\n\n      function success(datas) {\n        var render = function render(advsearch) {\n          var format = [];\n\n          for (var i in Dictionary) {\n            var item = target.explainDic(i, Dictionary[i]);\n            format.push(item);\n          }\n\n          format.push({\n            name: \"操作\",\n            type: \"valueBased\",\n            value: \"tickeTaskStatusFlag\",\n            options: {\n              // appName是1，2，3，4\n              \"-\": {\n                name: \"操作\",\n                type: \"label\",\n                content: [{\n                  label: \"-\" //   icon: \"null\",\n                  //   class: \"btn btn-default btn-sm\",\n                  //   on: {\n                  //     click: function (elem) {\n                  //       target.createSystemPopupByLocalPath(\"page3\", {\n                  //         width: \"800px\",\n                  //         title: \"检修委托\",\n                  //       }, elem.row);\n                  //     }\n                  //   }\n\n                }] // render: function () {\n                //   return \"\"\n                // }\n\n              },\n              // 待说明展示的按钮\n              \"yiwancheng\": {\n                name: \"操作\",\n                type: \"buttonGroup\",\n                content: [{\n                  label: \"检修详情\",\n                  icon: \"null\",\n                  class: \"btn btn-default btn-sm\",\n                  on: {\n                    click: function click(elem) {\n                      target.createSystemPopupByLocalPath(\"page9\", {\n                        width: \"800px\",\n                        title: \"检修详情\"\n                      }, elem.row);\n                    }\n                  }\n                }],\n                render: function render() {\n                  return \"\";\n                }\n              },\n              \"\": {\n                name: \"操作\",\n                type: \"label\",\n                content: [{\n                  label: \"-\"\n                }],\n                render: function render() {\n                  return \"\";\n                }\n              }\n            }\n          });\n          target.render({\n            data: datas,\n            on: {\n              rowClick: function rowClick(event) {}\n            },\n            format: format\n          });\n        };\n\n        render();\n      }\n\n      ;\n    }\n  }\n};"],"sourceRoot":"/source/"}