{"version":3,"sources":["toolkit/ezuikit.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","global","factory","module","exports","document","w","Error","window","this","noGlobal","a","b","d","t","elements","split","f","s","q","r","g","c","l","createElement","e","cache","cloneNode","p","test","createElem","canHaveChildren","o","tagUrn","frag","appendChild","j","shivCSS","k","hasCSS","getElementsByTagName","documentElement","innerHTML","insertBefore","lastChild","firstChild","createFrag","createDocumentFragment","shivMethods","Function","join","replace","n","html5","childNodes","length","version","supportsUnknownElements","type","shivDocument","h","i","addElements","self","classList","add","contains","DOMTokenList","arguments","call","toggle","m","Element","Object","String","trim","Array","indexOf","name","code","DOMException","message","getAttribute","push","_updateClassName","setAttribute","toString","item","remove","splice","defineProperty","get","enumerable","configurable","number","__defineGetter__","Domain","logDomain","ckplayerJS","isHttps","location","protocol","isMobile","navigator","userAgent","match","testVideo","isModernBrowser","canPlayType","addEventListener","isNativeSupportHls","PLAY_MAIN","PARAMS","Ver","PlatAddr","ExterVer","CltType","systemName","OS","platform","dclog","tempArray","params","Image","src","RTMP_REG","addJs","filename","callback","oJs","onload","EZUIPlayer","videoId","video","getElementById","opt","sources","slice","removeAttribute","load","removeChild","cur","handlers","poster","el","videoStyle","getComputedStyle","currentStyle","width","height","log","parentId","autoplay","tryPlay","initTime","Date","getTime","on","playurl","currentSource","StartTime","ErrCd","Cost","eventName","emit","apply","me","style","heght","Number","initVideoEvent","initCKPlayer","initHLS","hls","Hls","loadSource","attachMedia","Events","MANIFEST_PARSED","play","ERROR","event","data","msg","events","pause","error","ckplayer_status","videoFlash","parentNode","replaceChild","id","flashvars","lv","loaded","flashId","CKobject","embedSWF","bgcolor","allowFullScreen","allowScriptAccess","wmode","EVENT","loadstart","durationchange","loadedmetadata","loadeddata","progress","canplay","canplaythrough","abort","emptied","ended","playing","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","getObjectById","videoPlay","videoPause"],"mappings":"AAAA,SAASA,QAAQC,GAAwT,OAAtOD,QAArD,mBAAXE,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiBF,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,IAAyBA,IAKxV,SAAWK,EAAQC,GACjB,aAEwE,YAAjD,oBAAXC,OAAyB,YAAcR,QAAQQ,UAAqD,WAA5BR,QAAQQ,OAAOC,SACjGD,OAAOC,QAAUH,EAAOI,SAAWH,EAAQD,GAAQ,GAAQ,SAAUK,GACnE,IAAKA,EAAED,SACL,MAAM,IAAIE,MAAM,gDAGlB,OAAOL,EAAQI,IAGjBJ,EAAQD,GAZZ,CAeqB,oBAAXO,OAAyBA,OAASC,KAAM,SAAUD,EAAQE,IAIjE,SAAUC,EAAGC,GAOZ,SAASC,IACP,IAAIF,EAAIG,EAAEC,SACV,MAAO,iBAAmBJ,EAAIA,EAAEK,MAAM,KAAOL,EAQ/C,SAASM,EAAEN,GACT,IAAIC,EAAIM,EAAEP,EAAEQ,IACZ,OAAOP,IAAMA,EAAI,GAAIQ,IAAKT,EAAEQ,GAAKC,EAAGF,EAAEE,GAAKR,GAAIA,EAGjD,SAASS,EAAEV,EAAGW,EAAGT,GACf,OAAIS,IAAMA,EAAIV,GAAIW,EAAUD,EAAEE,cAAcb,IAC5CE,IAAMA,EAAII,EAAEK,MAELG,EAAIZ,EAAEa,MAAMf,GAAKE,EAAEa,MAAMf,GAAGgB,YAAcC,EAAEC,KAAKlB,IAAME,EAAEa,MAAMf,GAAKE,EAAEiB,WAAWnB,IAAIgB,YAAcd,EAAEiB,WAAWnB,IAAOoB,iBAAmBC,EAAEH,KAAKlB,IAAMc,EAAEQ,OAASR,EAAIZ,EAAEqB,KAAKC,YAAYV,IADhM,IAAIA,EAuBN,SAASW,EAAEzB,GACTA,IAAMA,EAAIC,GACV,IAVSD,EAAGC,EAvCHD,EAAGC,EACRU,EACAT,EA+CAA,EAAII,EAAEN,GACV,OAAQG,EAAEuB,SAAWC,GAAKzB,EAAE0B,SAAW1B,EAAE0B,QAlD7B3B,EAkD6C,oJAjDrDU,GADKX,EAkD6CA,GAjD5Ca,cAAc,KACpBX,EAAIF,EAAE6B,qBAAqB,QAAQ,IAAM7B,EAAE8B,gBACxCnB,EAAEoB,UAAY,WAAa9B,EAAI,aAAYC,EAAE8B,aAAarB,EAAEsB,UAAW/B,EAAEgC,cA+CgItB,IAXvMZ,EAW8MA,GAX3MC,EAW8MC,GAVxNa,QAAUd,EAAEc,MAAQ,GAAId,EAAEkB,WAAanB,EAAEa,cAAeZ,EAAEkC,WAAanC,EAAEoC,uBAAwBnC,EAAEsB,KAAOtB,EAAEkC,cAAenC,EAAEa,cAAgB,SAAUF,GACvJ,OAAOR,EAAEkC,YAAc3B,EAAEC,EAAGX,EAAGC,GAAKA,EAAEkB,WAAWR,IAChDX,EAAEoC,uBAAyBE,SAAS,MAAO,2EAA6EpC,IAAIqC,OAAOC,QAAQ,YAAa,SAAUxC,GACnK,OAAOC,EAAEkB,WAAWnB,GAAIC,EAAEsB,KAAKV,cAAcb,GAAI,MAAQA,EAAI,OAC1D,cAFyBsC,CAEVnC,EAAGF,EAAEsB,OAMqMvB,EAGhO,IAAI2B,EACAf,EAEA6B,EAAIzC,EAAE0C,OAAS,GACfrB,EAAI,qEACJJ,EAAI,6GACJT,EAAI,aACJC,EAAI,EACJF,EAAI,IACP,WACC,IACE,IAAIP,EAAIC,EAAEY,cAAc,KACxBb,EAAE+B,UAAY,cAAeJ,EAAI,WAAY3B,EAAGY,EAAI,GAAKZ,EAAE2C,WAAWC,QAAU,WAC9E3C,EAAEY,cAAc,KAChB,IAAIb,EAAIC,EAAEmC,yBACV,YAAO,IAAsBpC,EAAEgB,gBAAa,IAAsBhB,EAAEoC,6BAA0B,IAAsBpC,EAAEa,cAHxC,GAKhF,MAAOF,GACCC,EAARe,GAAI,GATP,GAYD,IAAIxB,EAAI,CACNC,SAAUqC,EAAErC,UAAY,0LACxByC,QArBM,QAsBNnB,SAAuB,IAAde,EAAEf,QACXoB,wBAAyBlC,EACzByB,aAA+B,IAAlBI,EAAEJ,YACfU,KAAM,UACNC,aAAcvB,EACdZ,cAAeH,EACf0B,uBAvDF,SAAWpC,EAAGW,GACZ,GAAIX,IAAMA,EAAIC,GAAIW,EAAG,OAAOZ,EAAEoC,yBAG9B,IAAK,IAAItB,GAFTH,EAAIA,GAAKL,EAAEN,IAEIuB,KAAKP,YAAaN,EAAI,EAAGuC,EAAI/C,IAAKgD,EAAID,EAAEL,OAAYlC,EAAJwC,EAAOxC,IACpEI,EAAED,cAAcoC,EAAEvC,IAGpB,OAAOI,GAgDPqC,YAzEF,SAAWnD,EAAGC,GACZ,IAAIU,EAAIR,EAAEC,SACV,iBAAmBO,IAAMA,EAAIA,EAAE4B,KAAK,MAAO,iBAAmBvC,IAAMA,EAAIA,EAAEuC,KAAK,MAAOpC,EAAEC,SAAWO,EAAI,IAAMX,EAAGyB,EAAExB,KAyEpHD,EAAE0C,MAAQvC,EAAGsB,EAAExB,GAAI,WAA+B,oBAAXT,OAAyB,YAAcR,QAAQQ,UAAYA,OAAOC,UAAYD,OAAOC,QAAUU,GAvFvI,MAwFC,IAAsBN,EAASA,EAASC,KAAMJ,UAG5C,aAAc0D,OACV,cAAe1D,SAASmB,cAAc,KAgK1C,WACE,IAAIZ,EAAIP,SAASmB,cAAc,KAG/B,GAFAZ,EAAEoD,UAAUC,IAAI,KAAM,OAEjBrD,EAAEoD,UAAUE,SAAS,MAAO,CAC/B,IAAI5C,EAAI,SAAWG,GACjB,IAAIZ,EAAIsD,aAAanE,UAAUyB,GAE/B0C,aAAanE,UAAUyB,GAAK,SAAUmC,GACpC,IAAIvC,EACAJ,EAAImD,UAAUb,OAElB,IAAKlC,EAAI,EAAGA,EAAIJ,EAAGI,IACjBuC,EAAIQ,UAAU/C,GACdR,EAAEwD,KAAK5D,KAAMmD,KAKnBtC,EAAE,OACFA,EAAE,UAKJ,GAFAV,EAAEoD,UAAUM,OAAO,MAAM,GAErB1D,EAAEoD,UAAUE,SAAS,MAAO,CAC9B,IAAIvD,EAAIwD,aAAanE,UAAUsE,OAE/BH,aAAanE,UAAUsE,OAAS,SAAUzD,EAAGY,GAC3C,OAAI,KAAK2C,YAAc3D,KAAKyD,SAASrD,KAAQY,EACpCA,EAEAd,EAAE0D,KAAK5D,KAAMI,IAK1BD,EAAI,KArCN,GA/JA,SAAWwB,GACT,aAEA,GAAM,YAAaA,EAAnB,CAIA,IAAIzB,EAAI,YACJM,EAAI,YACJsD,EAAInC,EAAEoC,QAAQvD,GACdL,EAAI6D,OACJnC,EAAIoC,OAAOzD,GAAG0D,MAAQ,WACxB,OAAOlE,KAAK0C,QAAQ,aAAc,KAEhC7B,EAAIsD,MAAM3D,GAAG4D,SAAW,SAAU1D,GAIpC,IAHA,IAAIS,EAAI,EACJI,EAAIvB,KAAK8C,OAEN3B,EAAII,EAAGJ,IACZ,GAAIA,KAAKnB,MAAQA,KAAKmB,KAAOT,EAC3B,OAAOS,EAIX,OAAQ,GAENwB,EAAI,SAAWpB,EAAGJ,GACpBnB,KAAKqE,KAAO9C,EACZvB,KAAKsE,KAAOC,aAAahD,GACzBvB,KAAKwE,QAAUrD,GAEbP,EAAI,SAAWO,EAAGI,GACpB,GAAU,KAANA,EACF,MAAM,IAAIoB,EAAE,aAAc,8CAG5B,GAAI,KAAKvB,KAAKG,GACZ,MAAM,IAAIoB,EAAE,wBAAyB,wCAGvC,OAAO9B,EAAE+C,KAAKzC,EAAGI,IAEfnB,EAAI,SAAWK,GAMjB,IALA,IAAIE,EAAIkB,EAAE+B,KAAKnD,EAAEgE,aAAa,UAAY,IACtC/D,EAAIC,EAAIA,EAAEJ,MAAM,OAAS,GACzBY,EAAI,EACJI,EAAIb,EAAEoC,OAEH3B,EAAII,EAAGJ,IACZnB,KAAK0E,KAAKhE,EAAES,IAGdnB,KAAK2E,iBAAmB,WACtBlE,EAAEmE,aAAa,QAAS5E,KAAK6E,cAG7B7D,EAAIZ,EAAEI,GAAK,GACX4C,EAAI,WACN,OAAO,IAAIhD,EAAEJ,OA+Ef,GA5EA2C,EAAEnC,GAAKV,MAAMU,GAEbQ,EAAE8D,KAAO,SAAUvD,GACjB,OAAOvB,KAAKuB,IAAM,MAGpBP,EAAEyC,SAAW,SAAUlC,GAErB,OAAuB,IAAhBX,EAAEZ,KADTuB,GAAK,KAIPP,EAAEwC,IAAM,WAON,IANA,IAGI9C,EAHAD,EAAIkD,UACJhD,EAAI,EACJQ,EAAIV,EAAEqC,OAENvB,GAAI,EAGNb,EAAID,EAAEE,GAAK,IAES,IAAhBC,EAAEZ,KAAMU,KACVV,KAAK0E,KAAKhE,GACVa,GAAI,KAEGZ,EAAIQ,IAEXI,GACFvB,KAAK2E,oBAIT3D,EAAE+D,OAAS,WACT,IAGIpE,EAEAD,EALAL,EAAIsD,UACJlD,EAAI,EACJU,EAAId,EAAEyC,OAENvB,GAAI,EAGR,GAIE,IAHAZ,EAAIN,EAAEI,GAAK,GACXC,EAAIE,EAAEZ,KAAMW,IAEE,IAAPD,GACLV,KAAKgF,OAAOtE,EAAG,GACfa,GAAI,EACJb,EAAIE,EAAEZ,KAAMW,WAELF,EAAIU,GAEXI,GACFvB,KAAK2E,oBAIT3D,EAAE6C,OAAS,SAAU1C,EAAGT,GACtBS,GAAK,GACL,IAAII,EAAIvB,KAAKyD,SAAStC,GAClBR,EAAIY,GAAU,IAANb,GAAc,UAAiB,IAANA,GAAe,MAMpD,OAJIC,GACFX,KAAKW,GAAGQ,IAGA,IAANT,IAAoB,IAANA,EACTA,GAECa,GAIZP,EAAE6D,SAAW,WACX,OAAO7E,KAAKyC,KAAK,MAGftC,EAAE8E,eAAgB,CACpB,IAAInE,EAAI,CACNoE,IAAK9B,EACL+B,YAAY,EACZC,cAAc,GAGhB,IACEjF,EAAE8E,eAAenB,EAAG5D,EAAGY,GACvB,MAAOqC,IACW,aAAdA,EAAEkC,SACJvE,EAAEqE,YAAa,EACfhF,EAAE8E,eAAenB,EAAG5D,EAAGY,UAIvBX,EAAEK,GAAG8E,kBACPxB,EAAEwB,iBAAiBpF,EAAGkD,IA1J5B,CA6JGE,OA6CP,IAAIiC,EAAS,uBACTC,EAAY,oCACZC,EAAaF,EAAS,mCAMtBG,EAAgC,WAAtBC,SAASC,SAEnBC,IAAaC,UAAUC,UAAUC,MAAM,wCACvCC,EAAYrG,SAASmB,cAAc,SAEnCmF,IAAoBD,EAAUE,eAAiBpG,EAAOqG,iBAEtDC,EAAqBH,GAAmBD,EAAUE,YAAY,iCAQ9DG,EAAY,2BACZC,EAAS,CACXC,IAAK,QACLC,SAAU,eACVC,SAAU,WACVC,QAAS,IACTC,WARc,2BASdC,GAAIf,UAAUgB,UAGhB,SAASC,IACP,IAAIC,EAAY,GAEhB,IAAK,IAAI5D,KAAKmD,EACZS,EAAUtC,KAAKtB,EAAI,IAAMmD,EAAOnD,IAGlC,IAAI6D,EAAS,IAAMD,EAAUvE,KAAK,MAExB,IAAIyE,OACVC,IAAM3B,EAAYyB,EAIxBF,IACA,IAAIK,EAAW,QAQf,SAASC,EAAMC,EAAUC,GACvB,IAAIC,EAAM5H,SAASmB,cAAc,UACjCyG,EAAI5C,aAAa,MAAO0C,GACxBE,EAAIC,OAASF,EACb3H,SAASmC,qBAAqB,QAAQ,GAAGL,YAAY8F,GAGvD,IAAIE,EAAa,SAAoBC,GACnC,IAAKzB,EACH,MAAM,IAAIpG,MAAM,iBAIlB,GAAuB,iBAAZ6H,EACT,MAAM,IAAI7H,MAAM,yCAMlB,GAHAE,KAAK2H,QAAUA,EACf3H,KAAK4H,MAAQhI,SAASiI,eAAeF,IAEhC3H,KAAK4H,MACR,MAAM,IAAI9H,MAAM,yCAGlBE,KAAK8H,IAAM,GACX9H,KAAK8H,IAAIC,QAAU,GACnB,IAAIA,EAAU/H,KAAK4H,MAAM7F,qBAAqB,UAE9CgG,EAAU5D,MAAM5E,UAAUyI,MAAMpE,KAAKmE,EAAS,GAE1C/H,KAAK4H,MAAMT,MAETtB,GAAYuB,EAAShG,KAAKpB,KAAK4H,MAAMT,MACvCnH,KAAK4H,MAAMK,gBAAgB,OAC3BjI,KAAK4H,MAAMM,QAEXlI,KAAK8H,IAAIC,QAAQrD,KAAK1E,KAAK4H,MAAMT,MAIrC,IAAIrG,EAAIiH,EAAQjF,OAEhB,GAAQ,EAAJhC,EACF,IAAK,IAAIsC,EAAI,EAAGA,EAAItC,EAAGsC,IAEjByC,GAAYuB,EAAShG,KAAK2G,EAAQ3E,GAAG+D,KACvCnH,KAAK4H,MAAMO,YAAYJ,EAAQ3E,IAE/BpD,KAAK8H,IAAIC,QAAQrD,KAAKqD,EAAQ3E,GAAG+D,KAKvC,GAAInH,KAAK8H,IAAIC,QAAQjF,OAAS,EAC5B,MAAM,IAAIhD,MAAM,iCAGlBE,KAAK8H,IAAIM,IAAM,EAMfpI,KAAKqI,SAAW,GAChBrI,KAAK8H,IAAIQ,OAAStI,KAAK4H,MAAMU,OAC7B,IAtEgBC,EAsEZC,GAtEYD,EAsEUvI,KAAK4H,MArExB7H,EAAO0I,iBAAmB1I,EAAO0I,iBAAiBF,EAAI,MAAQA,EAAGG,cAsEpEC,EAAQ3I,KAAK4H,MAAMe,MACnBC,EAAS5I,KAAK4H,MAAMgB,OAEpBD,GACF3I,KAAK8H,IAAIa,MAAQA,EAGf3I,KAAK8H,IAAIc,OADPA,GAGgB,OAGpB5I,KAAK6I,IAAI,eAAiB7I,KAAK8H,IAAIa,MAAQ,WAAa3I,KAAK8H,IAAIc,UAEjE5I,KAAK8H,IAAIa,MAAQH,EAAWG,MAC5B3I,KAAK8H,IAAIc,OAASJ,EAAWI,OAC7B5I,KAAK6I,IAAI,oBAAsBL,EAAWG,MAAQ,sBAAwBH,EAAWI,SAGvF5I,KAAK8H,IAAIgB,SAAWnB,EACpB3H,KAAK8H,IAAIiB,WAAW/I,KAAK4H,MAAMmB,SAC/B/I,KAAK6I,IAAI,YAAc7I,KAAK4H,MAAMmB,UAClC/I,KAAKgJ,UACLhJ,KAAKiJ,UAAW,IAAIC,MAAOC,UAC3BnJ,KAAKoJ,GAAG,OAAQ,WAEd7C,EAAO8C,QAAUrJ,KAAK8H,IAAIwB,cAC1B/C,EAAOK,WAAaN,EACpBC,EAAOgD,WAAY,IAAIL,MAAOC,UAC9B5C,EAAOiD,MAAQ,EACfjD,EAAOkD,KAAOlD,EAAOgD,UAAYvJ,KAAKiJ,SACtClC,MAEF/G,KAAKoJ,GAAG,QAAS,WAEf7C,EAAO8C,QAAUrJ,KAAK8H,IAAIwB,cAC1B/C,EAAOK,WAAaN,EACpBC,EAAOgD,WAAY,IAAIL,MAAOC,UAC9B5C,EAAOiD,OAAS,EAChBjD,EAAOkD,MAAQ,EACf1C,OAiUJ,OA5TAW,EAAWnI,UAAU6J,GAAK,SAAUM,EAAWnC,GACpB,iBAAdmC,GAA8C,mBAAbnC,SAIJ,IAA7BvH,KAAKqI,SAASqB,KACvB1J,KAAKqI,SAASqB,GAAa,IAG7B1J,KAAKqI,SAASqB,GAAWhF,KAAK6C,KAIhCG,EAAWnI,UAAUoK,KAAO,WAC1B,GAAI3J,KAAKqI,SAAS1E,UAAU,cAAeQ,MAIzC,IAHA,IAAIkE,EAAWrI,KAAKqI,SAAS1E,UAAU,IACnC7C,EAAIuH,EAASvF,OAERM,EAAI,EAAGA,EAAItC,EAAGsC,IACrBiF,EAASjF,GAAGwG,MAAM5J,KAAMmE,MAAM5E,UAAUyI,MAAMpE,KAAKD,UAAW,KAMpE+D,EAAWnI,UAAUyJ,QAAU,WAG7B,GAFAhJ,KAAK8H,IAAIwB,cAAgBtJ,KAAK8H,IAAIC,QAAQ/H,KAAK8H,IAAIM,KAE9CpI,KAAK8H,IAAIwB,cAAd,CAKA,IAAIO,EAAK7J,KAET,GAAI,SAASoB,KAAKpB,KAAK8H,IAAIwB,eAIrBzD,GAAYQ,GACdrG,KAAK6I,IAAI,aACT7I,KAAK4H,MAAMkC,MAAMC,MAAuD,EAA/CC,OAAOhK,KAAK8H,IAAIa,MAAMjG,QAAQ,SAAU,KAAW,GAAK,KACjF1C,KAAKiK,kBAEDvE,EACF2B,EAAM5B,EAAY,WAChBoE,EAAGK,iBAGL7C,EAlNI,8BAkNS,YACI,GAGbwC,EAAGhB,IAAI,YACPgB,EAAGM,aAEQ,EACXN,EAAGhB,IAAI,aACPxB,EAAM5B,EAAY,WAChBoE,EAAGK,yBAMR,GAAI,SAAS9I,KAAKpB,KAAK8H,IAAIwB,eAAgB,CAChD,GAAIzD,EAGF,OAFA7F,KAAK8H,IAAIM,WACTpI,KAAKgJ,UAGL3B,EAAM5B,EAAY,WAChBoE,EAAGK,uBA3CPlK,KAAK6I,IAAI,gBAkDbnB,EAAWnI,UAAU4K,QAAU,WAC7B,IAAIN,EAAK7J,KACLoK,EAAM,IAAIC,IACdD,EAAIE,WAAWtK,KAAK8H,IAAIwB,eACxBc,EAAIG,YAAYvK,KAAK4H,OACrBwC,EAAIhB,GAAGiB,IAAIG,OAAOC,gBAAiB,WAC7BZ,EAAG/B,IAAIiB,UACTc,EAAGjC,MAAM8C,OAGXb,EAAGI,mBAELG,EAAIhB,GAAGiB,IAAIG,OAAOG,MAAO,SAAUC,EAAOC,GACxChB,EAAGF,KAAK,QAASiB,EAAOC,KAE1B7K,KAAKoK,IAAMA,GAIb1C,EAAWnI,UAAUsJ,IAAM,SAAUiC,GACnC9K,KAAK2J,KAAK,MAAOmB,IAInBpD,EAAWnI,UAAU2K,aAAe,WAClClK,KAAK6I,IAAI,eACT,IAAIgB,EAAK7J,KACL+K,EAAS,CACXL,KAAQ,WACNb,EAAGF,KAAK,SAEVqB,MAAS,WACPnB,EAAGF,KAAK,UAEVsB,MAAS,WACPpB,EAAGF,KAAK,WAIZ5J,EAAOmL,gBAAkB,WACvBrB,EAAGhB,IAAIlF,WACPoH,EAAOpH,UAAU,KAAOoH,EAAOpH,UAAU,OAI3C3D,KAAKmL,WAAavL,SAASmB,cAAc,OACzCf,KAAK4H,MAAMwD,WAAWC,aAAarL,KAAKmL,WAAYnL,KAAK4H,OACzD5H,KAAK4H,MAAQ5H,KAAKmL,WAClBnL,KAAKmL,WAAWG,GAAKtL,KAAK8H,IAAIgB,SAC9B,IAAIyC,EAAY,KAKdA,EADE,QAAQnK,KAAKpB,KAAK8H,IAAIwB,eACZ,CACV9I,EAAGR,KAAK8H,IAAIwB,cACZzI,EAAG,EACHM,EAAGnB,KAAK8H,IAAIiB,SAAW,EAAI,EAC3ByC,GAAI,EACJC,OAAQ,eAED,SAASrK,KAAKpB,KAAK8H,IAAIwB,eACpB,CACV7I,EAAG,EAEHD,EAnTQ+E,oDAoTRrF,EAAGF,KAAK8H,IAAIwB,cACZzI,EAAG,EAEH2K,GAAI,EAEJrK,EAAGnB,KAAK8H,IAAIiB,SAAW,EAAI,EAE3B3F,EAAGpD,KAAK8H,IAAIQ,OACZmD,OAAQ,eAGE,CACVjL,EAAGR,KAAK8H,IAAIwB,cACZzI,EAAG,EACHM,EAAG,EACHsK,OAAQ,eAUZzL,KAAK0L,QAAU1L,KAAK8H,IAAIgB,SAAW,UACnC6C,SAASC,SA/UOrG,wDA+UevF,KAAK8H,IAAIgB,SAAU9I,KAAK0L,QAAS1L,KAAK8H,IAAIa,MAAO3I,KAAK8H,IAAIc,OAAQ2C,EAPpF,CACXM,QAAS,OACTC,iBAAiB,EACjBC,kBAAmB,SACnBC,MAAO,iBAMXtE,EAAWnI,UAAU0K,eAAiB,WACpC,IAAIJ,EAAK7J,KACLiM,EAAQ,CACVC,UAAa,SAAmBlL,GAC9B6I,EAAGhB,IAAI,iCACPgB,EAAGF,KAAK,YAAa3I,IAEvBmL,eAAkB,SAAwBnL,GACxC6I,EAAGhB,IAAI,qCACPgB,EAAGF,KAAK,iBAAkB3I,IAE5BoL,eAAkB,SAAwBpL,GACxC6I,EAAGhB,IAAI,yCACPgB,EAAGF,KAAK,iBAAkB3I,IAE5BqL,WAAc,SAAoBrL,GAChC6I,EAAGhB,IAAI,qCACPgB,EAAGF,KAAK,aAAc3I,IAExBsL,SAAY,SAAkBtL,GAC5B6I,EAAGhB,IAAI,gCACPgB,EAAGF,KAAK,WAAY3I,IAEtBuL,QAAW,SAAiBvL,GAC1B6I,EAAGhB,IAAI,+BACPgB,EAAGF,KAAK,UAAW3I,IAErBwL,eAAkB,SAAwBxL,GACxC6I,EAAGhB,IAAI,8CACPgB,EAAGF,KAAK,iBAAkB3I,IAE5ByL,MAAS,SAAezL,GACtB6I,EAAGhB,IAAI,4BACPgB,EAAGF,KAAK,QAAS3I,IAEnB0L,QAAW,SAAiB1L,GAC1B6I,EAAGhB,IAAI,4BACPgB,EAAGF,KAAK,UAAW3I,IAErB2L,MAAS,SAAe3L,GACtB6I,EAAGhB,IAAI,2BACPgB,EAAGF,KAAK,QAAS3I,IAEnBgK,MAAS,SAAehK,GACtB6I,EAAGhB,IAAI,yBACPgB,EAAGF,KAAK,QAAS3I,IAEnB0J,KAAQ,SAAc1J,GACpB6I,EAAGhB,IAAI,6BACPgB,EAAGF,KAAK,OAAQ3I,IAElB4L,QAAW,SAAiB5L,GAC1B6I,EAAGhB,IAAI,uCACPgB,EAAGF,KAAK,UAAW3I,IAErB6L,WAAc,SAAoB7L,GAChC6I,EAAGhB,IAAI,mCACPgB,EAAGF,KAAK,aAAc3I,IAExB8L,OAAU,SAAgB9L,GACxB6I,EAAGhB,IAAI,qCACPgB,EAAGF,KAAK,SAAU3I,IAEpB+L,QAAW,SAAiB/L,GAC1B6I,EAAGhB,IAAI,uCACPgB,EAAGF,KAAK,UAAW3I,IAErBgM,QAAW,SAAiBhM,GAC1B6I,EAAGhB,IAAI,qCACPgB,EAAGF,KAAK,UAAW3I,IAErBiM,QAAW,SAAiBjM,GAC1B6I,EAAGhB,IAAI,+BACPgB,EAAGF,KAAK,UAAW3I,GAEf6I,EAAG/B,IAAIiB,UACTc,EAAGjC,MAAM8C,QAGbwC,WAAc,SAAoBlM,GAEhC6I,EAAGF,KAAK,aAAc3I,IAExBmM,aAAgB,SAAsBnM,GACpC6I,EAAGhB,IAAI,6BACPgB,EAAGF,KAAK,eAAgB3I,IAE1BoM,QAAW,SAAiBpM,GAC1B6I,EAAGhB,IAAI,gCACPgB,EAAGF,KAAK,UAAW3I,IAErBiK,MAAS,SAAejK,GACtB6I,EAAGhB,IAAI,+BACPgB,EAAGF,KAAK,QAAS3I,KAIrB,IAAK,IAAIoC,KAAK6I,EACZjM,KAAK4H,MAAMxB,iBAAiBhD,EAAG6I,EAAM7I,IAAI,IAI7CsE,EAAWnI,UAAUmL,KAAO,WAC1B1K,KAAK8H,IAAIiB,UAAW,EAEdhJ,EAAO,SACX4L,SAAS0B,cAAcrN,KAAK0L,SAAS4B,YAC1BtN,KAAK4H,OAChB5H,KAAK4H,MAAM8C,QAIfhD,EAAWnI,UAAUyL,MAAQ,WAC3BhL,KAAK8H,IAAIiB,UAAW,EAEdhJ,EAAO,SACX4L,SAAS0B,cAAcrN,KAAK0L,SAAS6B,aAC1BvN,KAAK4H,OAChB5H,KAAK4H,MAAMoD,SAoBV/K,IACHF,EAAO2H,WAAaA,GAGfA","file":"toolkit/ezuikit.js","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * ezui 1.1\n */\n(function (global, factory) {\n  \"use strict\";\n\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"EZUIPlayer requires a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  } // Pass this if window is not defined yet\n\n})(typeof window !== \"undefined\" ? window : this, function (window, noGlobal) {\n  /**\n   * @preserve HTML5 Shiv 3.7.3 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed\n   */\n  !function (a, b) {\n    function c(a, b) {\n      var c = a.createElement(\"p\"),\n          d = a.getElementsByTagName(\"head\")[0] || a.documentElement;\n      return c.innerHTML = \"x<style>\" + b + \"</style>\", d.insertBefore(c.lastChild, d.firstChild);\n    }\n\n    function d() {\n      var a = t.elements;\n      return \"string\" == typeof a ? a.split(\" \") : a;\n    }\n\n    function e(a, b) {\n      var c = t.elements;\n      \"string\" != typeof c && (c = c.join(\" \")), \"string\" != typeof a && (a = a.join(\" \")), t.elements = c + \" \" + a, j(b);\n    }\n\n    function f(a) {\n      var b = s[a[q]];\n      return b || (b = {}, r++, a[q] = r, s[r] = b), b;\n    }\n\n    function g(a, c, d) {\n      if (c || (c = b), l) return c.createElement(a);\n      d || (d = f(c));\n      var e;\n      return e = d.cache[a] ? d.cache[a].cloneNode() : p.test(a) ? (d.cache[a] = d.createElem(a)).cloneNode() : d.createElem(a), !e.canHaveChildren || o.test(a) || e.tagUrn ? e : d.frag.appendChild(e);\n    }\n\n    function h(a, c) {\n      if (a || (a = b), l) return a.createDocumentFragment();\n      c = c || f(a);\n\n      for (var e = c.frag.cloneNode(), g = 0, h = d(), i = h.length; i > g; g++) {\n        e.createElement(h[g]);\n      }\n\n      return e;\n    }\n\n    function i(a, b) {\n      b.cache || (b.cache = {}, b.createElem = a.createElement, b.createFrag = a.createDocumentFragment, b.frag = b.createFrag()), a.createElement = function (c) {\n        return t.shivMethods ? g(c, a, b) : b.createElem(c);\n      }, a.createDocumentFragment = Function(\"h,f\", \"return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(\" + d().join().replace(/[\\w\\-:]+/g, function (a) {\n        return b.createElem(a), b.frag.createElement(a), 'c(\"' + a + '\")';\n      }) + \");return n}\")(t, b.frag);\n    }\n\n    function j(a) {\n      a || (a = b);\n      var d = f(a);\n      return !t.shivCSS || k || d.hasCSS || (d.hasCSS = !!c(a, \"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}\")), l || i(a, d), a;\n    }\n\n    var k,\n        l,\n        m = \"3.7.3\",\n        n = a.html5 || {},\n        o = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,\n        p = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,\n        q = \"_html5shiv\",\n        r = 0,\n        s = {};\n    !function () {\n      try {\n        var a = b.createElement(\"a\");\n        a.innerHTML = \"<xyz></xyz>\", k = \"hidden\" in a, l = 1 == a.childNodes.length || function () {\n          b.createElement(\"a\");\n          var a = b.createDocumentFragment();\n          return \"undefined\" == typeof a.cloneNode || \"undefined\" == typeof a.createDocumentFragment || \"undefined\" == typeof a.createElement;\n        }();\n      } catch (c) {\n        k = !0, l = !0;\n      }\n    }();\n    var t = {\n      elements: n.elements || \"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video\",\n      version: m,\n      shivCSS: n.shivCSS !== !1,\n      supportsUnknownElements: l,\n      shivMethods: n.shivMethods !== !1,\n      type: \"default\",\n      shivDocument: j,\n      createElement: g,\n      createDocumentFragment: h,\n      addElements: e\n    };\n    a.html5 = t, j(b), \"object\" == (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) && module.exports && (module.exports = t);\n  }(\"undefined\" != typeof window ? window : this, document);\n  /*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\n  if (\"document\" in self) {\n    if (!(\"classList\" in document.createElement(\"_\"))) {\n      (function (j) {\n        \"use strict\";\n\n        if (!(\"Element\" in j)) {\n          return;\n        }\n\n        var a = \"classList\",\n            f = \"prototype\",\n            m = j.Element[f],\n            b = Object,\n            k = String[f].trim || function () {\n          return this.replace(/^\\s+|\\s+$/g, \"\");\n        },\n            c = Array[f].indexOf || function (q) {\n          var p = 0,\n              o = this.length;\n\n          for (; p < o; p++) {\n            if (p in this && this[p] === q) {\n              return p;\n            }\n          }\n\n          return -1;\n        },\n            n = function n(o, p) {\n          this.name = o;\n          this.code = DOMException[o];\n          this.message = p;\n        },\n            g = function g(p, o) {\n          if (o === \"\") {\n            throw new n(\"SYNTAX_ERR\", \"An invalid or illegal string was specified\");\n          }\n\n          if (/\\s/.test(o)) {\n            throw new n(\"INVALID_CHARACTER_ERR\", \"String contains an invalid character\");\n          }\n\n          return c.call(p, o);\n        },\n            d = function d(s) {\n          var r = k.call(s.getAttribute(\"class\") || \"\"),\n              q = r ? r.split(/\\s+/) : [],\n              p = 0,\n              o = q.length;\n\n          for (; p < o; p++) {\n            this.push(q[p]);\n          }\n\n          this._updateClassName = function () {\n            s.setAttribute(\"class\", this.toString());\n          };\n        },\n            e = d[f] = [],\n            i = function i() {\n          return new d(this);\n        };\n\n        n[f] = Error[f];\n\n        e.item = function (o) {\n          return this[o] || null;\n        };\n\n        e.contains = function (o) {\n          o += \"\";\n          return g(this, o) !== -1;\n        };\n\n        e.add = function () {\n          var s = arguments,\n              r = 0,\n              p = s.length,\n              q,\n              o = false;\n\n          do {\n            q = s[r] + \"\";\n\n            if (g(this, q) === -1) {\n              this.push(q);\n              o = true;\n            }\n          } while (++r < p);\n\n          if (o) {\n            this._updateClassName();\n          }\n        };\n\n        e.remove = function () {\n          var t = arguments,\n              s = 0,\n              p = t.length,\n              r,\n              o = false,\n              q;\n\n          do {\n            r = t[s] + \"\";\n            q = g(this, r);\n\n            while (q !== -1) {\n              this.splice(q, 1);\n              o = true;\n              q = g(this, r);\n            }\n          } while (++s < p);\n\n          if (o) {\n            this._updateClassName();\n          }\n        };\n\n        e.toggle = function (p, q) {\n          p += \"\";\n          var o = this.contains(p),\n              r = o ? q !== true && \"remove\" : q !== false && \"add\";\n\n          if (r) {\n            this[r](p);\n          }\n\n          if (q === true || q === false) {\n            return q;\n          } else {\n            return !o;\n          }\n        };\n\n        e.toString = function () {\n          return this.join(\" \");\n        };\n\n        if (b.defineProperty) {\n          var l = {\n            get: i,\n            enumerable: true,\n            configurable: true\n          };\n\n          try {\n            b.defineProperty(m, a, l);\n          } catch (h) {\n            if (h.number === -2146823252) {\n              l.enumerable = false;\n              b.defineProperty(m, a, l);\n            }\n          }\n        } else {\n          if (b[f].__defineGetter__) {\n            m.__defineGetter__(a, i);\n          }\n        }\n      })(self);\n    } else {\n      (function () {\n        var b = document.createElement(\"_\");\n        b.classList.add(\"c1\", \"c2\");\n\n        if (!b.classList.contains(\"c2\")) {\n          var c = function c(e) {\n            var d = DOMTokenList.prototype[e];\n\n            DOMTokenList.prototype[e] = function (h) {\n              var g,\n                  f = arguments.length;\n\n              for (g = 0; g < f; g++) {\n                h = arguments[g];\n                d.call(this, h);\n              }\n            };\n          };\n\n          c(\"add\");\n          c(\"remove\");\n        }\n\n        b.classList.toggle(\"c3\", false);\n\n        if (b.classList.contains(\"c3\")) {\n          var a = DOMTokenList.prototype.toggle;\n\n          DOMTokenList.prototype.toggle = function (d, e) {\n            if (1 in arguments && !this.contains(d) === !e) {\n              return e;\n            } else {\n              return a.call(this, d);\n            }\n          };\n        }\n\n        b = null;\n      })();\n    }\n  }\n\n  ;\n  var Domain = 'https://open.ys7.com';\n  var logDomain = 'https://log.ys7.com/statistics.do';\n  var ckplayerJS = Domain + '/sdk/js/1.1/ckplayer/ckplayer.js';\n  var ckplayerSWF = Domain + '/sdk/js/1.1/ckplayer/ckplayer.swf';\n  var m3u8SWF = Domain + '/sdk/js/1.1/ckplayer/m3u8.swf'; //var hlsJS = Domain + '/sdk/js/1.1/hls.light.min.js';\n\n  var hlsJS = \"../toolkit/hls.light.min.js\"; // 当前页面是否是https协议\n\n  var isHttps = location.protocol === 'https:' ? true : false; // 是否为移动端\n\n  var isMobile = !!navigator.userAgent.match(/(iPhone|iPod|Android|ios|SymbianOS)/i);\n  var testVideo = document.createElement('video'); // 是否支持video标签和addEventListener方法（主要为了区别ie8）\n\n  var isModernBrowser = !!testVideo.canPlayType && !!window.addEventListener; // 是否能使用video原生播放hls\n\n  var isNativeSupportHls = isModernBrowser && testVideo.canPlayType('application/vnd.apple.mpegURL'); // 是否能使用hls.js播放\n\n  var isSupportHls = false; // 是否使用flash\n\n  var useFlash = false; // 本地信息上报\n\n  var LOCALINFO = 'open_netstream_localinfo'; // 预览主表上报\n\n  var PLAY_MAIN = 'open_netstream_play_main';\n  var PARAMS = {\n    Ver: '1.1.0',\n    PlatAddr: 'open.ys7.com',\n    ExterVer: 'Ez.1.1.0',\n    CltType: 102,\n    systemName: LOCALINFO,\n    OS: navigator.platform\n  };\n\n  function dclog() {\n    var tempArray = [];\n\n    for (var i in PARAMS) {\n      tempArray.push(i + '=' + PARAMS[i]);\n    }\n\n    var params = '?' + tempArray.join('&'); // 上报一次本地统计信息\n\n    var img = new Image();\n    img.src = logDomain + params;\n  } // 上报一次本地信息\n\n\n  dclog();\n  var RTMP_REG = /^rtmp/;\n  var HLS_REG = /\\.m3u8/; // 获取元素样式\n\n  function getStyle(el) {\n    return window.getComputedStyle ? window.getComputedStyle(el, null) : el.currentStyle;\n  } // 加载js\n\n\n  function addJs(filename, callback) {\n    var oJs = document.createElement(\"script\");\n    oJs.setAttribute(\"src\", filename);\n    oJs.onload = callback;\n    document.getElementsByTagName(\"head\")[0].appendChild(oJs);\n  }\n\n  var EZUIPlayer = function EZUIPlayer(videoId) {\n    if (!isModernBrowser) {\n      throw new Error('不支持ie8等低版本浏览器');\n      return;\n    }\n\n    if (typeof videoId !== 'string') {\n      throw new Error('EZUIPlayer requires parameter videoId');\n    }\n\n    this.videoId = videoId;\n    this.video = document.getElementById(videoId);\n\n    if (!this.video) {\n      throw new Error('EZUIPlayer requires parameter videoId');\n    }\n\n    this.opt = {};\n    this.opt.sources = [];\n    var sources = this.video.getElementsByTagName('source'); // 转为数组对象，不受removeChild影响\n\n    sources = Array.prototype.slice.call(sources, 0);\n\n    if (this.video.src) {\n      // 移动端删除rtmp地址\n      if (isMobile && RTMP_REG.test(this.video.src)) {\n        this.video.removeAttribute('src');\n        this.video.load();\n      } else {\n        this.opt.sources.push(this.video.src);\n      }\n    }\n\n    var l = sources.length;\n\n    if (l > 0) {\n      for (var i = 0; i < l; i++) {\n        // 移动端删除rtmp地址\n        if (isMobile && RTMP_REG.test(sources[i].src)) {\n          this.video.removeChild(sources[i]);\n        } else {\n          this.opt.sources.push(sources[i].src);\n        }\n      }\n    }\n\n    if (this.opt.sources.length < 1) {\n      throw new Error('no source found in video tag.');\n    }\n\n    this.opt.cur = 0; // // 数据上报\n    // params += '&PLAYURL=' + this.opt.source;\n    // var img = new Image();\n    // img.src = logDomain + params;\n    // 事件存储\n\n    this.handlers = {};\n    this.opt.poster = this.video.poster;\n    var videoStyle = getStyle(this.video);\n    var width = this.video.width;\n    var height = this.video.height;\n\n    if (width) {\n      this.opt.width = width;\n\n      if (height) {\n        this.opt.height = height;\n      } else {\n        this.opt.height = 'auto';\n      }\n\n      this.log('video width:' + this.opt.width + ' height:' + this.opt.height);\n    } else {\n      this.opt.width = videoStyle.width;\n      this.opt.height = videoStyle.height;\n      this.log('videoStyle.width:' + videoStyle.width + ' wideoStyle.height:' + videoStyle.height);\n    }\n\n    this.opt.parentId = videoId;\n    this.opt.autoplay = this.video.autoplay ? true : false;\n    this.log('autoplay:' + this.video.autoplay);\n    this.tryPlay();\n    this.initTime = new Date().getTime();\n    this.on('play', function () {\n      // 上报播放成功信息\n      PARAMS.playurl = this.opt.currentSource;\n      PARAMS.systemName = PLAY_MAIN;\n      PARAMS.StartTime = new Date().getTime();\n      PARAMS.ErrCd = 0;\n      PARAMS.Cost = PARAMS.StartTime - this.initTime;\n      dclog();\n    });\n    this.on('error', function () {\n      // 上报播放失败信息\n      PARAMS.playurl = this.opt.currentSource;\n      PARAMS.systemName = PLAY_MAIN;\n      PARAMS.StartTime = new Date().getTime();\n      PARAMS.ErrCd = -1;\n      PARAMS.Cost = -1;\n      dclog();\n    });\n  }; // 事件监听\n\n\n  EZUIPlayer.prototype.on = function (eventName, callback) {\n    if (typeof eventName !== 'string' || typeof callback !== 'function') {\n      return;\n    }\n\n    if (typeof this.handlers[eventName] === 'undefined') {\n      this.handlers[eventName] = [];\n    }\n\n    this.handlers[eventName].push(callback);\n  }; // 事件触发\n\n\n  EZUIPlayer.prototype.emit = function () {\n    if (this.handlers[arguments[0]] instanceof Array) {\n      var handlers = this.handlers[arguments[0]];\n      var l = handlers.length;\n\n      for (var i = 0; i < l; i++) {\n        handlers[i].apply(this, Array.prototype.slice.call(arguments, 1));\n      }\n    }\n  }; // 尝试播放\n\n\n  EZUIPlayer.prototype.tryPlay = function () {\n    this.opt.currentSource = this.opt.sources[this.opt.cur];\n\n    if (!this.opt.currentSource) {\n      this.log('未找到合适的播放URL');\n      return;\n    }\n\n    var me = this; // 如果是HLS地址\n\n    if (/\\.m3u8/.test(this.opt.currentSource)) {\n      // 如果是手机浏览器环境,或者原生支持HLS播放的,直接使用video标签播放\n      // 否则尝试使用hls.js播放，\n      // 最后使用flash\n      if (isMobile || isNativeSupportHls) {\n        this.log('使用原生video');\n        this.video.style.heght = Number(this.opt.width.replace(/[^\\d]/g, '')) * 9 / 16 + 'px';\n        this.initVideoEvent();\n      } else {\n        if (isHttps) {\n          addJs(ckplayerJS, function () {\n            me.initCKPlayer();\n          });\n        } else {\n          addJs(hlsJS, function () {\n            isSupportHls = false; //Hls.isSupported();\n\n            if (isSupportHls) {\n              me.log('使用hls.js');\n              me.initHLS();\n            } else {\n              useFlash = true;\n              me.log('2 使用flash');\n              addJs(ckplayerJS, function () {\n                me.initCKPlayer();\n              });\n            }\n          });\n        }\n      }\n    } else if (/^rtmp:/.test(this.opt.currentSource)) {\n      if (isMobile) {\n        this.opt.cur++;\n        this.tryPlay();\n        return;\n      } else {\n        addJs(ckplayerJS, function () {\n          me.initCKPlayer();\n        });\n      }\n    }\n  }; // 初始化hls.js\n\n\n  EZUIPlayer.prototype.initHLS = function () {\n    var me = this;\n    var hls = new Hls();\n    hls.loadSource(this.opt.currentSource);\n    hls.attachMedia(this.video);\n    hls.on(Hls.Events.MANIFEST_PARSED, function () {\n      if (me.opt.autoplay) {\n        me.video.play();\n      }\n\n      me.initVideoEvent();\n    });\n    hls.on(Hls.Events.ERROR, function (event, data) {\n      me.emit('error', event, data);\n    });\n    this.hls = hls;\n  }; // 日志\n\n\n  EZUIPlayer.prototype.log = function (msg) {\n    this.emit('log', msg);\n  }; // 初始化ckplayer\n\n\n  EZUIPlayer.prototype.initCKPlayer = function () {\n    this.log('ckplayer初始化');\n    var me = this;\n    var events = {\n      'play': function play() {\n        me.emit('play');\n      },\n      'pause': function pause() {\n        me.emit('pause');\n      },\n      'error': function error() {\n        me.emit('error');\n      }\n    };\n\n    window.ckplayer_status = function () {\n      me.log(arguments);\n      events[arguments[0]] && events[arguments[0]]();\n    }; // 新增相同id的div标签，然后删除video标签\n\n\n    this.videoFlash = document.createElement('DIV');\n    this.video.parentNode.replaceChild(this.videoFlash, this.video);\n    this.video = this.videoFlash;\n    this.videoFlash.id = this.opt.parentId;\n    var flashvars = null; // 如果rtmp服务器环境设置了视频暂停则断开链接\n    // 需要修改ckplayer.js  setup参数第30个值\n    // 在播放暂停后点击播放是否采用重新链接的方式\n\n    if (/^rtmp/.test(this.opt.currentSource)) {\n      flashvars = {\n        f: this.opt.currentSource,\n        c: 0,\n        p: this.opt.autoplay ? 1 : 0,\n        lv: 1,\n        loaded: 'loadHandler'\n      };\n    } else if (/\\.m3u8/.test(this.opt.currentSource)) {\n      flashvars = {\n        s: 4,\n        // 4-使用swf视频流插件播放\n        f: m3u8SWF,\n        a: this.opt.currentSource,\n        c: 0,\n        // 0-使用ckplayer.js的配置 1-使用ckplayer.xml的配置\n        lv: 1,\n        // 1-直播 0-普通方式\n        p: this.opt.autoplay ? 1 : 0,\n        // 1-默认播放 0-默认暂停\n        i: this.opt.poster,\n        loaded: 'loadHandler'\n      };\n    } else {\n      flashvars = {\n        f: this.opt.currentSource,\n        c: 0,\n        p: 1,\n        loaded: 'loadHandler'\n      };\n    }\n\n    var params = {\n      bgcolor: '#FFF',\n      allowFullScreen: true,\n      allowScriptAccess: 'always',\n      wmode: 'transparent'\n    };\n    this.flashId = this.opt.parentId + 'flashId';\n    CKobject.embedSWF(ckplayerSWF, this.opt.parentId, this.flashId, this.opt.width, this.opt.height, flashvars, params);\n  };\n\n  EZUIPlayer.prototype.initVideoEvent = function () {\n    var me = this;\n    var EVENT = {\n      'loadstart': function loadstart(e) {\n        me.log('loadstart...当浏览器开始查找音频/视频时...');\n        me.emit('loadstart', e);\n      },\n      'durationchange': function durationchange(e) {\n        me.log('durationchange...当音频/视频的时长已更改时...');\n        me.emit('durationchange', e);\n      },\n      'loadedmetadata': function loadedmetadata(e) {\n        me.log('loadedmetadata...当浏览器已加载音频/视频的元数据时...');\n        me.emit('loadedmetadata', e);\n      },\n      'loadeddata': function loadeddata(e) {\n        me.log('loadeddata...当浏览器已加载音频/视频的当前帧时...');\n        me.emit('loadeddata', e);\n      },\n      'progress': function progress(e) {\n        me.log('progress...当浏览器正在下载音频/视频时...');\n        me.emit('progress', e);\n      },\n      'canplay': function canplay(e) {\n        me.log('canplay...当浏览器可以播放音频/视频时...');\n        me.emit('canplay', e);\n      },\n      'canplaythrough': function canplaythrough(e) {\n        me.log('canplaythrough...当浏览器可在不因缓冲而停顿的情况下进行播放时...');\n        me.emit('canplaythrough', e);\n      },\n      'abort': function abort(e) {\n        me.log('abort...当音频/视频的加载已放弃时...');\n        me.emit('abort', e);\n      },\n      'emptied': function emptied(e) {\n        me.log('emptied...当目前的播放列表为空时...');\n        me.emit('emptied', e);\n      },\n      'ended': function ended(e) {\n        me.log('ended...当目前的播放列表已结束时...');\n        me.emit('ended', e);\n      },\n      'pause': function pause(e) {\n        me.log('pause...当音频/视频已暂停时...');\n        me.emit('pause', e);\n      },\n      'play': function play(e) {\n        me.log('play...当音频/视频已开始或不再暂停时...');\n        me.emit('play', e);\n      },\n      'playing': function playing(e) {\n        me.log('playing...当音频/视频在已因缓冲而暂停或停止后已就绪时...');\n        me.emit('playing', e);\n      },\n      'ratechange': function ratechange(e) {\n        me.log('ratechange...当音频/视频的播放速度已更改时...');\n        me.emit('ratechange', e);\n      },\n      'seeked': function seeked(e) {\n        me.log('seeked...当用户已移动/跳跃到音频/视频中的新位置时...');\n        me.emit('seeked', e);\n      },\n      'seeking': function seeking(e) {\n        me.log('seeking...当用户开始移动/跳跃到音频/视频中的新位置时...');\n        me.emit('seeking', e);\n      },\n      'stalled': function stalled(e) {\n        me.log('stalled...当浏览器尝试获取媒体数据，但数据不可用时...');\n        me.emit('stalled', e);\n      },\n      'suspend': function suspend(e) {\n        me.log('suspend...当浏览器刻意不获取媒体数据时...');\n        me.emit('suspend', e);\n\n        if (me.opt.autoplay) {\n          me.video.play();\n        }\n      },\n      'timeupdate': function timeupdate(e) {\n        //me.log('timeupdate...当目前的播放位置已更改时...');\n        me.emit('timeupdate', e);\n      },\n      'volumechange': function volumechange(e) {\n        me.log('volumechange...当音量已更改时...');\n        me.emit('volumechange', e);\n      },\n      'waiting': function waiting(e) {\n        me.log('waiting...当视频由于需要缓冲下一帧而停止...');\n        me.emit('waiting', e);\n      },\n      'error': function error(e) {\n        me.log('error...当在音频/视频加载期间发生错误时...');\n        me.emit('error', e);\n      }\n    };\n\n    for (var i in EVENT) {\n      this.video.addEventListener(i, EVENT[i], false);\n    }\n  };\n\n  EZUIPlayer.prototype.play = function () {\n    this.opt.autoplay = true;\n\n    if (!!window['CKobject']) {\n      CKobject.getObjectById(this.flashId).videoPlay();\n    } else if (!!this.video) {\n      this.video.play();\n    }\n  };\n\n  EZUIPlayer.prototype.pause = function () {\n    this.opt.autoplay = false;\n\n    if (!!window['CKobject']) {\n      CKobject.getObjectById(this.flashId).videoPause();\n    } else if (!!this.video) {\n      this.video.pause();\n    }\n  }; // EZUIPlayer.prototype.load = function(){\n  //\n  // };\n  //\n  // EZUIPlayer.prototype.remove = function(){\n  //\n  // };\n  //\n  // EZUIPlayer.prototype.clear = function(){\n  //\n  // };\n  //\n  // // 修改播放地址\n  // EZUIPlayer.prototype.changeSource = function(source){\n  //\n  // };\n\n\n  if (!noGlobal) {\n    window.EZUIPlayer = EZUIPlayer;\n  }\n\n  return EZUIPlayer;\n});"],"sourceRoot":"/source/"}