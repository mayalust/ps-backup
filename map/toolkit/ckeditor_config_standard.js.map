{"version":3,"sources":["toolkit/ckeditor_config_standard.js"],"names":["CKEDITOR","plugins","add","init","editor","getAjaxResult","t","this","getId","dialog","title","minWidth","minHeight","contents","id","label","filebrowser","elements","type","required","style","size","action","params","currentFolder","target","onSelect","fileUrl","errorMessage","onClick","_photo","getDialog","getContentElement","_funcNum","url","RegExp","split","getFuncNum","_iframe","document","getById","_","frameId","on","for","onOk","_src","getValue","match","alert","imageElement","createElement","setAttribute","insertElement","addCommand","dialogCommand","ui","addButton","icon","command","requires","editorConfig","config","language","image_previewText","stylesSet","extraPlugins"],"mappings":"AAAAA,SAASC,QAAQC,IAAI,WAAY,CAC/BC,KAAM,SAAcC,GAClB,IAOIC,EAAgB,SAAuBC,GAC/BC,KAAKC,SAGjBR,SAASS,OAAOP,IAAI,aAAc,SAAUE,GAC1C,MAAO,CACLM,MAAO,qBACPC,SAAU,IACVC,UAAW,IACXC,SAAU,CAAC,CACTC,GAAI,WACJC,MAAO,qBACPL,MAAO,qBACPM,YAAa,eACbC,SAAU,CAAC,CACTH,GAAI,SACJI,KAAM,OACNH,MAAO,SACPI,UAAU,GACT,CACDL,GAAI,OACJI,KAAM,OACNH,MAAO,sBACPK,MAAO,cACPC,KAAM,IACL,CACDH,KAAM,aACNJ,GAAI,eACJC,MAAO,YACPC,YAAa,CACXM,OAAQ,cAERC,OAAQ,CACNL,KAAM,QACNM,cAAe,YAEjBC,OAAQ,kBACRC,SAAU,SAAkBC,EAASC,MAIvCC,QAAS,WACP,IAEIC,EAFIvB,KAAKwB,YAEEC,kBAAkB,WAAY,QAG7CC,SAtDO,SAAoBC,GAErB,IAAIC,OAAO,wCAA0C,KAEnE,OADYD,EAAIE,MAAM,QACT,GAkDMC,CAAWP,EAAOR,QAE7B,IAAIgB,EAAUtC,SAASuC,SAASC,QAAQV,EAAOW,EAAEC,SAEjDJ,EAAQK,GAAG,OAAQtC,EAAeiC,EAASL,WAE7CW,IAAO,CAAC,WAAY,YAGxBC,KAAM,WAGJ,GAFAC,KAAOvC,KAAKyB,kBAAkB,WAAY,UAAUe,WAEhDD,KAAKE,MAAM,iCAEb,OADAC,MAAM,kBACC,EAGT1C,KAAK2C,aAAe9C,EAAOmC,SAASY,cAAc,OAClD5C,KAAK2C,aAAaE,aAAa,MAAO,QACtC7C,KAAK2C,aAAaE,aAAa,MAAON,MAEtC1C,EAAOiD,cAAc9C,KAAK2C,kBAIhC9C,EAAOkD,WAAW,aAAc,IAAItD,SAASuD,cAAc,eAC3DnD,EAAOoD,GAAGC,UAAU,WAAY,CAC9B1C,MAAO,aACP2C,KAAM,oBAENC,QAAS,gBAGbC,SAAU,CAAC,YAGb5D,SAAS6D,aAAe,SAAUC,GAChCA,EAAOC,SAAW,QAClBD,EAAOE,kBAAoB,GAE3BF,EAAOG,UAAY,YACnBH,EAAOI,aAAe","file":"toolkit/ckeditor_config_standard.js","sourcesContent":["CKEDITOR.plugins.add('myplugin', {\n  init: function init(editor) {\n    var getFuncNum = function getFuncNum(url) {\n      ;\n      var reParam = new RegExp('(?:[\\?&]|&amp;)CKEditorFuncNum=([^&]+)', 'i');\n      var match = url.split(\"api/\");\n      return match[0];\n    };\n\n    var getAjaxResult = function getAjaxResult(t) {\n      var _id = this.getId();\n    };\n\n    CKEDITOR.dialog.add('myAddImage', function (editor) {\n      return {\n        title: ' Adding pictures  ',\n        minWidth: 400,\n        minHeight: 200,\n        contents: [{\n          id: 'addImage',\n          label: ' Adding pictures  ',\n          title: ' Adding pictures  ',\n          filebrowser: 'uploadButton',\n          elements: [{\n            id: 'txtUrl',\n            type: 'text',\n            label: ' 图片地址 ',\n            required: true\n          }, {\n            id: 'file',\n            type: 'file',\n            label: ' Upload a picture  ',\n            style: 'height:40px',\n            size: 38\n          }, {\n            type: 'fileButton',\n            id: 'uploadButton',\n            label: ' Upload  ',\n            filebrowser: {\n              action: 'QuickUpload',\n              //target : 'info:src',\n              params: {\n                type: 'Files',\n                currentFolder: '/folder/'\n              },\n              target: 'addImage:txtUrl',\n              onSelect: function onSelect(fileUrl, errorMessage) {\n                ;\n              }\n            },\n            onClick: function onClick() {\n              var d = this.getDialog();\n\n              var _photo = d.getContentElement('addImage', 'file');\n\n              ;\n              _funcNum = getFuncNum(_photo.action);\n\n              var _iframe = CKEDITOR.document.getById(_photo._.frameId);\n\n              _iframe.on('load', getAjaxResult, _iframe, _funcNum);\n            },\n            'for': ['addImage', 'file']\n          }]\n        }],\n        onOk: function onOk() {\n          _src = this.getContentElement('addImage', 'txtUrl').getValue();\n\n          if (_src.match(/(^\\s*(\\d+)((px)|\\%)?\\s*$)|^$/i)) {\n            alert('请输入网页或上传文件的网址');\n            return false;\n          }\n\n          this.imageElement = editor.document.createElement('img');\n          this.imageElement.setAttribute('alt', '插入图片');\n          this.imageElement.setAttribute('src', _src); // Insert a picture into an editor editor\n\n          editor.insertElement(this.imageElement);\n        }\n      };\n    });\n    editor.addCommand('myImageCmd', new CKEDITOR.dialogCommand('myAddImage'));\n    editor.ui.addButton('AddImage', {\n      label: ' Picture  ',\n      icon: 'images/images.jpg',\n      //toolbar On the address icon  , To upload a picture to the images under\n      command: 'myImageCmd'\n    });\n  },\n  requires: ['dialog']\n});\n\nCKEDITOR.editorConfig = function (config) {\n  config.language = 'zh-cn';\n  config.image_previewText = ''; //清空image图片里面的无用英文\n\n  config.stylesSet = 'my_styles';\n  config.extraPlugins = 'myplugin'; //非默认 仅示例\n};"],"sourceRoot":"/source/"}