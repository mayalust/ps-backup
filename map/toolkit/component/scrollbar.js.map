{"version":3,"sources":["toolkit/component/scrollbar.js"],"names":["define","data","expression","element","global","target","$","css","$$","runExpression","$attr","funRes","code","fnResult","system","initFn","repeatFn","changeFn","render","val","children","remove","loadExternalJs","slider","range","value","change","event","create","slide","find","slidebg","append","e"],"mappings":"AAGAA,OAAO,GAAI,WACT,OAAO,SAAUC,GACf,IAKIC,EALAC,EAAUF,EAAKE,QACfC,EAASH,EAAKG,OACdC,EAASC,EAAE,eACfD,EAAOE,IAAI,WAAY,YACvBF,EAAOE,IAAI,SAAU,QAErBC,GAAGC,cAAcN,EAAQO,MAAM,sBAAuB,SAAUC,GAC9D,GAAmB,KAAfA,EAAOC,KAAa,CACtB,IAAIC,EAAWF,EAAOV,KAQtBC,GALEA,EADqB,mBAAZW,EACIA,EAASZ,EAAMa,QAEfD,IAGwB,QAEvCX,EAAa,KAIjB,IAAIa,EAASb,EAAWQ,MAAM,WAC1BM,EAAWd,EAAWQ,MAAM,aAC5BO,EAAWf,EAAWQ,MAAM,aAE5BQ,EAAS,SAAgBC,GAC3Bd,EAAOe,WAAWC,SAClBb,GAAGc,eAAe,CAAC,aAAc,WAC/B,IAAIC,EAASjB,EAAE,eACfiB,EAAOA,OAAO,CACZC,MAAO,MACPC,MAAON,GAAO,EACdO,OAAQ,SAAgBC,GACtB,IAAIF,EAAQF,EAAOA,OAAO,SAAU,SAEhCN,GACFA,EAAS,CACPZ,OAAQF,EACRC,OAAQA,EACRqB,MAAOA,KAIbG,OAAQ,WACN,IAAIC,EAAQN,EAAOO,KAAK,qBACpBC,EAAUR,EACVC,EAAQD,EAAOO,KAAK,oBACxBD,EAAMtB,IAAI,SAAU,WACpBsB,EAAMtB,IAAI,gBAAiB,OAC3BsB,EAAMtB,IAAI,QAAS,QACnBsB,EAAMtB,IAAI,SAAU,QACpBsB,EAAMtB,IAAI,MAAO,GACjBsB,EAAMtB,IAAI,mBAAoB,WAC9BsB,EAAMtB,IAAI,SAAU,GACpBwB,EAAQxB,IAAI,SAAU,QACtBwB,EAAQxB,IAAI,gBAAiB,OAC7BiB,EAAMjB,IAAI,yBAA0B,OACpCiB,EAAMjB,IAAI,4BAA6B,OACvCiB,EAAMjB,IAAI,mBAAoB,cAGlCF,EAAO2B,OAAOT,MAMlB,GAFApB,EAAQe,OAASA,EAEI,mBAAVH,EACT,IACEA,EAAO,CACLV,OAAQF,EACRC,OAAQA,IAEV,MAAO6B,QAGmB,mBAAZjB,GAChBE,IAGF,OAAOb","file":"toolkit/component/scrollbar.js","sourcesContent":["/**\n * Created by leonlin on 16/11/3.\n */\ndefine([], function () {\n  return function (data) {\n    var element = data.element;\n    var global = data.global;\n    var target = $(\"<div></div>\");\n    target.css(\"position\", \"relative\");\n    target.css(\"height\", \"20px\");\n    var expression;\n    $$.runExpression(element.$attr(\"advance/expression\"), function (funRes) {\n      if (funRes.code == \"0\") {\n        var fnResult = funRes.data;\n\n        if (typeof fnResult == 'function') {\n          expression = fnResult(data, system);\n        } else {\n          expression = fnResult;\n        }\n\n        expression = expression ? expression : {};\n      } else {\n        expression = {};\n        ; //throw new Error(funRes.message);\n      }\n    });\n    var initFn = expression.$attr(\"on/init\");\n    var repeatFn = expression.$attr(\"on/repeat\");\n    var changeFn = expression.$attr(\"on/change\");\n\n    var render = function render(val) {\n      target.children().remove();\n      $$.loadExternalJs(['jquery-ui'], function () {\n        var slider = $(\"<div></div>\");\n        slider.slider({\n          range: \"min\",\n          value: val || 0,\n          change: function change(event) {\n            var value = slider.slider(\"option\", \"value\");\n\n            if (changeFn) {\n              changeFn({\n                target: element,\n                global: global,\n                value: value\n              });\n            }\n          },\n          create: function create() {\n            var slide = slider.find(\".ui-slider-handle\");\n            var slidebg = slider;\n            var range = slider.find(\".ui-slider-range\");\n            slide.css(\"cursor\", \"pointer\");\n            slide.css(\"border-radius\", \"50%\");\n            slide.css(\"width\", \"20px\");\n            slide.css(\"height\", \"20px\");\n            slide.css(\"top\", 0);\n            slide.css(\"background-color\", \"#009f78\");\n            slide.css(\"border\", 0);\n            slidebg.css(\"height\", \"22px\");\n            slidebg.css(\"border-radius\", \"9px\");\n            range.css(\"border-top-left-radius\", \"9px\");\n            range.css(\"border-bottom-left-radius\", \"9px\");\n            range.css(\"background-color\", \"#3edda7\");\n          }\n        });\n        target.append(slider);\n      });\n    };\n\n    element.render = render;\n\n    if (typeof initFn == \"function\") {\n      try {\n        initFn({\n          target: element,\n          global: global\n        });\n      } catch (e) {\n        ;\n      }\n    } else if (typeof repeatFn != \"function\") {\n      render();\n    }\n\n    return target;\n  };\n});"],"sourceRoot":"/source/"}