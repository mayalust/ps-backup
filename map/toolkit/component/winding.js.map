{"version":3,"sources":["toolkit/component/winding.js"],"names":["define","ultility","data","expression","dom","$","element","global","style","document","createElement","$$","runExpression","$attr","funRes","code","fnResult","system","console","error","message","initFn","render","d","fragement","createDocumentFragment","wrap","width","height","border","display","justifyContent","alignItems","wind","each","n","i","point1","innerText","paddingTop","backgroundImage","backgroundSize","backgroundRepeat","textAlign","fontSize","color","point2","point3","point4","box","position","transform","col","op","split","appendChild","backgroundPosition","target","e","runExpressionSuccess"],"mappings":"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","file":"toolkit/component/winding.js","sourcesContent":["/**\n * Created by whui on 2018/11/5.\n */\ndefine(['../../../node_modules/ps-ultility/ps-ultility.js'], function (ultility) {\n  return function (data) {\n    var dom = $(\"<div></div>\");\n    var element = data.element;\n    var global = data.global;\n    var style = data.element.style;\n    var wrap = document.createElement(\"div\"); //wrap.style.width = \"500px\";\n    //wrap.style.height = \"500px\";\n    //wrap.style.background = \"red\";\n    //wrap.style.backgroundImage = \"url('../car.jpg')\";\n    //wrap.style.backgroundRepeat = \"no-repeat\";\n    //wrap.style.backgroundPosition = \"center\";\n    //wrap.style.backgroundSize = \"100%\";\n    // var timeData = element.$attr(\"parameters/data\");\n\n    var expression;\n    $$.runExpression(element.$attr(\"advance/expression\"), function (funRes) {\n      if (funRes.code == \"0\") {\n        var fnResult = funRes.data;\n\n        if (typeof fnResult == 'function') {\n          expression = fnResult(data, system);\n        } else {\n          expression = fnResult;\n        }\n\n        expression = expression || {};\n      } else {\n        expression = {};\n        console.error(funRes.message);\n      }\n\n      runExpressionSuccess(expression);\n    });\n\n    function runExpressionSuccess(expression) {\n      var initFn = expression.$attr(\"on/init\");\n      style = style ? style : {};\n\n      var render = function render(d) {\n        //d为传过来的数据\n        //更改代码\n        var fragement = document.createDocumentFragment();\n        var wrap = document.createElement(\"div\");\n        wrap.style.width = \"100%\";\n        wrap.style.height = \"600px\";\n        wrap.style.border = \"1px solid black\";\n        wrap.style.display = \"flex\";\n        wrap.style.justifyContent = \"center\";\n        wrap.style.alignItems = \"center\";\n        var wind = document.createElement(\"div\");\n        wind.style.width = \"250px\";\n        wind.style.height = \"250px\";\n        wind.style.backgroundImage = \"url('../images/benti/gaolubenti.svg')\";\n        wind.style.backgroundRepeat = \"no-repeat\";\n        wind.style.backgroundPosition = \"center top\";\n        wind.style.backgroundSize = \"contain\";\n        wind.style.position = \"relative\";\n        wind.style.display = \"flex\";\n        wind.style.justifyContent = \"center\";\n        wind.style.alignItems = \"center\";\n\n        function each(n, i) {\n          //point1\n          var point1 = document.createElement(\"div\");\n          point1.innerText = i < 9 ? \"0\" + (i + 1) : i + 1;\n          point1.style.width = \"30px\";\n          point1.style.height = \"80px\";\n          point1.style.paddingTop = \"5px\";\n          point1.style.backgroundImage = \"url(../images/benti/gaolu_green.svg)\";\n          point1.style.backgroundSize = \"contain\";\n          point1.style.backgroundRepeat = \"no-repeat\";\n          point1.style.textAlign = \"center\";\n          point1.style.fontSize = \"14px\";\n          point1.style.color = \"white\"; //point1.style.background = \"green\";\n          //point2\n\n          var point2 = document.createElement(\"div\");\n          point2.innerText = i < 9 ? \"0\" + (i + 1) : i + 1;\n          point2.style.width = \"30px\";\n          point2.style.height = \"80px\";\n          point2.style.paddingTop = \"5px\";\n          point2.style.backgroundImage = \"url(../images/benti/gaolu_yellow.svg)\";\n          point2.style.backgroundSize = \"contain\";\n          point2.style.backgroundRepeat = \"no-repeat\";\n          point2.style.textAlign = \"center\";\n          point2.style.fontSize = \"14px\";\n          point2.style.color = \"white\"; //point3\n\n          var point3 = document.createElement(\"div\");\n          point3.innerText = i < 9 ? \"0\" + (i + 1) : i + 1;\n          point3.style.width = \"30px\";\n          point3.style.height = \"80px\";\n          point3.style.paddingTop = \"5px\";\n          point3.style.backgroundImage = \"url(../images/benti/gaolu_orange.svg)\";\n          point3.style.backgroundSize = \"contain\";\n          point3.style.backgroundRepeat = \"no-repeat\";\n          point3.style.textAlign = \"center\";\n          point3.style.fontSize = \"14px\";\n          point3.style.color = \"white\"; //point4\n\n          var point4 = document.createElement(\"div\");\n          point4.innerText = i < 9 ? \"0\" + (i + 1) : i + 1;\n          point4.style.width = \"30px\";\n          point4.style.height = \"80px\";\n          point4.style.paddingTop = \"5px\";\n          point4.style.backgroundImage = \"url(../images/benti/gaolu_red.svg)\";\n          point4.style.backgroundSize = \"contain\";\n          point4.style.backgroundRepeat = \"no-repeat\";\n          point4.style.textAlign = \"center\";\n          point4.style.fontSize = \"14px\";\n          point4.style.color = \"white\";\n          var box = document.createElement(\"div\");\n          box.style.width = \"30px\";\n          box.style.height = \"410px\";\n          box.style.position = \"absolute\";\n          box.style.transform = \"rotate(\" + i * 9 + \"deg)\"; //设置默认样式\n\n          var col = n; //;\n\n          if (col) {\n            var op = col.split(\"_\")[1];\n\n            if (op == \"1\") {\n              box.appendChild(point1);\n            } else if (op == \"2\") {\n              box.appendChild(point2);\n            } else if (op == \"3\") {\n              box.appendChild(point3);\n            } else if (op == \"4\") {\n              box.appendChild(point4);\n            } else {\n              box.appendChild(point1);\n            }\n          } else {\n            box.appendChild(point1);\n          }\n\n          wind.appendChild(box);\n        } //动态点数\n        //for(var i = 0; i < d.length; i++){\n        //  each(d[i], i);\n        //}\n        //固定点数\n\n\n        for (var i = 0; i < 40; i++) {\n          each(d[i], i);\n        }\n\n        wrap.appendChild(wind);\n        fragement.appendChild(wrap);\n        dom[0].appendChild(fragement);\n      };\n\n      element.render = render;\n\n      if (initFn) {\n        try {\n          initFn({\n            target: element,\n            global: global\n          });\n        } catch (e) {\n          ;\n        }\n      }\n    }\n\n    return dom;\n  };\n});"],"sourceRoot":"/source/"}