{"version":3,"sources":["toolkit/component/explainer/alert.js"],"names":["define","data","tools","callback","recordlist","recordList","getLegend","map","elem","category","getSeries","rs","name","value","rawData","legend","series"],"mappings":"AAGAA,OAAO,GAAI,WACT,OAAO,SAAUC,EAAMC,EAAOC,GAC5B,IAAIC,EAAaH,EAAKI,WAElBC,EAAY,WACd,OAAIF,EACWA,EAAWG,IAAI,SAAUC,GACpC,OAAOA,EAAKC,WAIP,IAIPC,EAAY,WACd,IAAIC,EAAK,CAAC,CACRC,KAAM,OACNX,KAAM,KAGR,OAAIG,GACFO,EAAG,GAAGV,KAAOG,EAAWG,IAAI,SAAUC,GACpC,MAAO,CACLI,KAAMJ,EAAK,SACXK,MAAOL,EAAK,oBAGTG,GAEA,CAAC,CACNC,KAAM,OACNX,KAAM,CAAC,CACLW,KAAQ,OACRC,MAAS,OAejBV,EATa,CACXW,QAASb,EACTA,KAAM,CACJc,OAAQT,IACRU,OAAQN,KAEVJ,UAAWA,EACXI,UAAWA","file":"toolkit/component/explainer/alert.js","sourcesContent":["/**\n * Created by leonlin on 16/11/3.\n */\ndefine([], function () {\n  return function (data, tools, callback) {\n    var recordlist = data.recordList;\n\n    var getLegend = function getLegend() {\n      if (recordlist) {\n        var legend = recordlist.map(function (elem) {\n          return elem.category;\n        });\n        return legend;\n      } else {\n        return [];\n      }\n    };\n\n    var getSeries = function getSeries() {\n      var rs = [{\n        name: \"设备告警\",\n        data: []\n      }];\n\n      if (recordlist) {\n        rs[0].data = recordlist.map(function (elem) {\n          return {\n            name: elem[\"category\"],\n            value: elem[\"alert_code_count\"]\n          };\n        });\n        return rs;\n      } else {\n        return [{\n          name: \"设备告警\",\n          data: [{\n            \"name\": \"设备告警\",\n            \"value\": 0\n          }]\n        }];\n      }\n    };\n\n    var result = {\n      rawData: data,\n      data: {\n        legend: getLegend(),\n        series: getSeries()\n      },\n      getLegend: getLegend,\n      getSeries: getSeries\n    };\n    callback(result);\n  };\n});"],"sourceRoot":"/source/"}