{"version":3,"sources":["toolkit/component/explainer/scatter.js"],"names":["define","data","tools","callback","nodesDes","kpisDes","Info","get","geo","series","getSeries","geoCoord","citys","北京市","city","arr","split","indexOf","length","obj","name","value","push"],"mappings":"AAGAA,OAAO,GAAI,WACT,OAAO,SAAUC,EAAMC,EAAOC,GACbD,EAAME,SACPF,EAAMG,QAEpBH,EAAMI,KAAKC,IADD,8BACU,SAAUC,GAC5B,IAAIC,EAAS,CAAC,CACZR,KAAM,IACL,CACDA,KAAM,KAGJS,EAAY,WACd,OAAOD,GAGLE,EAAWH,EAAIG,SACfC,EAAQ,CACVC,MAAO,GAGT,IAAK,IAAIC,KAAQb,EACf,GAAIa,EAAM,CACR,IAAIC,EAAMD,EAAKE,MAAM,MAEM,EAAvBD,EAAI,GAAGE,QAAQ,KACbL,EAAMG,EAAI,IAAKH,EAAMG,EAAI,IAAMH,EAAMG,EAAI,IAAMd,EAAKa,GAAWF,EAAMG,EAAI,IAAMd,EAAKa,GAClE,EAAbC,EAAIG,SACbN,EAAMG,EAAI,IAAMd,EAAKa,SAGvBF,EAAM,OAASA,EAAM,OAASX,EAAK,IAIvC,IAAK,IAAIa,KAAQF,EAAO,CACtB,IAAIO,EAAM,GACVA,EAAIC,KAAON,EACXK,EAAIE,MAAQV,EAASG,GAEjBK,EAAIE,OACNF,EAAIE,MAAMC,KAAKV,EAAME,IAGvBL,EAAO,GAAGR,KAAKqB,KAAKH,GAEhBV,EAAO,GAAGR,KAAKiB,OAAS,GAC1BT,EAAO,GAAGR,KAAKqB,KAAKH,GAIxBhB,EAAS,CACPO,UAAWA,EACXT,KAAM,CACJQ,OAAQC","file":"toolkit/component/explainer/scatter.js","sourcesContent":["/**\n * Created by leonlin on 16/11/3.\n */\ndefine([], function () {\n  return function (data, tools, callback) {\n    var nodesDes = tools.nodesDes;\n    var kpisDes = tools.kpisDes;\n    var par = \"../localdb/echarts-map.json\";\n    tools.Info.get(par, function (geo) {\n      var series = [{\n        data: []\n      }, {\n        data: []\n      }];\n\n      var getSeries = function getSeries() {\n        return series;\n      };\n\n      var geoCoord = geo.geoCoord;\n      var citys = {\n        \"北京市\": 0\n      };\n\n      for (var city in data) {\n        if (city) {\n          var arr = city.split(\",\");\n\n          if (arr[0].indexOf(\"市\") > -1) {\n            if (citys[arr[0]]) citys[arr[0]] = citys[arr[0]] + data[city];else citys[arr[0]] = data[city];\n          } else if (arr.length > 1) {\n            citys[arr[1]] = data[city];\n          }\n        } else {\n          citys[\"北京市\"] = citys[\"北京市\"] + data[\"\"];\n        }\n      }\n\n      for (var city in citys) {\n        var obj = {};\n        obj.name = city;\n        obj.value = geoCoord[city];\n\n        if (obj.value) {\n          obj.value.push(citys[city]);\n        }\n\n        series[0].data.push(obj);\n\n        if (series[0].data.length < 5) {\n          series[1].data.push(obj);\n        }\n      }\n\n      callback({\n        getSeries: getSeries,\n        data: {\n          series: getSeries()\n        }\n      });\n    });\n  };\n});"],"sourceRoot":"/source/"}