{"version":3,"sources":["toolkit/component/iframe.js"],"names":["define","data","element","url","$attr","style","wrapFrame","$","target","css","localStorage","getItem","inputurl","JSON","parse","mmsi","attr","append","window","top","render","params","setItem","stringify"],"mappings":"AAGAA,OAAO,GAAI,WACT,OAAO,SAAUC,GACf,IAAIC,EAAUD,EAAKC,QACfC,EAAMD,EAAQE,MAAM,kBACpBC,EAAQH,EAAQE,MAAM,SAC1BC,EAAQA,GAAgB,GACxB,IAAIC,EAAYC,EAAE,+DACdC,EAASD,EAAE,mDAGf,GAFAC,EAAOC,IAAIJ,GAEPK,aAAaC,QAAQ,WAAY,CACnC,IACIC,EAAW,OADFC,KAAKC,MAAMJ,aAAaC,QAAQ,YACdI,KAC/BP,EAAOQ,KAAK,MAAOb,EAAMS,QAEzBJ,EAAOQ,KAAK,MAAOb,GAcrB,OAXAG,EAAUW,OAAOT,GACjBU,OAAOC,IAAM,GACbb,EAAUG,IAAI,QAAS,QACvBH,EAAUG,IAAI,SAAU,wBAExBP,EAAQkB,OAAS,SAAUC,GACzB,IAAIT,EAAW,OAASS,EAAON,KAC/BL,aAAaY,QAAQ,UAAWT,KAAKU,UAAUF,IAC/Cb,EAAOQ,KAAK,MAAOb,EAAMS,IAGpBJ","file":"toolkit/component/iframe.js","sourcesContent":["/**\n * Created by leonlin on 16/11/3.\n */\ndefine([], function () {\n  return function (data) {\n    var element = data.element;\n    var url = element.$attr(\"parameters/url\");\n    var style = element.$attr(\"style\");\n    style = style ? style : {};\n    var wrapFrame = $(\"<div class='embed-responsive embed-responsive-16by9'></div>\");\n    var target = $(\"<iframe class='embed-responsive-item'></iframe>\");\n    target.css(style);\n\n    if (localStorage.getItem(\"AISINFO\")) {\n      var params = JSON.parse(localStorage.getItem(\"AISINFO\"));\n      var inputurl = \"&kw=\" + params.mmsi;\n      target.attr(\"src\", url + inputurl);\n    } else {\n      target.attr(\"src\", url);\n    }\n\n    wrapFrame.append(target);\n    window.top = {};\n    wrapFrame.css(\"width\", \"100%\");\n    wrapFrame.css(\"height\", \"calc( 100vh - 100px)\");\n\n    element.render = function (params) {\n      var inputurl = \"&kw=\" + params.mmsi;\n      localStorage.setItem(\"AISINFO\", JSON.stringify(params));\n      target.attr(\"src\", url + inputurl);\n    };\n\n    return target;\n  };\n});"],"sourceRoot":"/source/"}