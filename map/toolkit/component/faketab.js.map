{"version":3,"sources":["toolkit/component/faketab.js"],"names":["define","data","undefined","Error","condition","element","global","expression","coldomInner","previewMode","traverseColumn","rowDom","customMethodService","ulDom","$","$$","runExpression","$attr","expFn","code","format","label","value","initFn","tabInx","render","list","config","class","addClass","children","remove","createLiDom","index","item","clickFn","addOn","liDom","icon","text","a","css","on","event","target","append","obj","btnGroup","createDom","dom","btn","stopPropagation","i","createAddOn","e","runtime","runExpressionSuccess"],"mappings":"AAGAA,OAAO,GAAI,WACT,OAAO,SAAUC,GACf,GAAYC,MAARD,EACF,MAAM,IAAIE,MAAM,aAGlB,IAEIC,EAFAC,EAAUJ,EAAKI,QACfC,EAASL,EAAKK,OAOdC,GALcN,EAAKO,YACLP,EAAKQ,YACFR,EAAKS,eACbT,EAAKU,OACQV,EAAKW,oBACdL,GAAc,IAE3BM,EAAQC,EAAE,oCAyHd,OAxHAC,GAAGC,cAAcX,EAAQY,MAAM,sBAAuB,SAAUC,GAC5C,GAAdA,EAAMC,OACRZ,EAAaW,EAAMjB,MAWvB,SAA8BM,GAC5B,IAAIa,EAASb,EAAWa,QAAU,CAChCC,MAAO,QACPC,MAAO,SAELC,EAAShB,EAAWU,MAAM,WAuF9B,GAtFAZ,EAAQmB,OAAS,EAEjBnB,EAAQoB,OAAS,SAAUC,EAAMC,IAC/BA,EAASA,GAAU,IAERC,OACTf,EAAMgB,SAASF,EAAOC,OAGxBf,EAAMiB,WAAWC,SAEjB,IAAIC,EAAc,SAAqBC,EAAOC,GAC5C,IAAIC,EAAUD,EAAKjB,MAAM,aAAeV,EAAWU,MAAM,YACrDmB,EAAQF,EAAKE,MACbC,EAAQvB,EAAE,qCACVwB,EAAOxB,EAAE,iBACTyB,EAAOzB,EAAE,iBACbwB,EAAKT,SAASK,EAAKI,MAkCfL,GAAS5B,EAAQmB,QACnBa,EAAMR,SAAS,UAGjB,IAAIW,EAAI1B,EAAE,WAuBV,OAtBAwB,EAAKG,IAAI,eAAgB,OACzBF,EAAKA,KAAKL,EAAKd,EAAO,QAWtBiB,EAAMK,GAAG,QATW,SAAuBC,GACnB,mBAAXR,GACTA,EAAQ,CACNS,OAAQvC,EACRiB,MAAOY,MAMbM,EAAEK,OAAOP,GACTE,EAAEK,OAAON,GACTF,EAAMQ,OAAOL,GAETJ,GACFI,EAAEK,OAvDc,SAAqBC,GACrC,IAAIC,EAAWjC,EAAE,iBACjBiC,EAASN,IAAI,UAAW,aAExB,IAAIO,EAAY,SAAmBC,GACjC,IAAIC,EAAMpC,EAAE,qBACZoC,EAAIrB,SAAS,0BACb,IAAIS,EAAOxB,EAAE,iBACTqB,EAAUc,EAAIhC,MAAM,YAaxB,OAZAqB,EAAKT,SAASoB,EAAIhC,MAAM,SACxBiC,EAAIL,OAAOP,GACXY,EAAIT,IAAI,UAAW,SAEfN,GACFe,EAAIR,GAAG,QAAS,SAAUC,GACxBA,EAAMQ,kBACNhB,EAAQQ,KAKLO,GAGT,IAAK,IAAIE,KAAKN,EACZC,EAASF,OAAOG,EAAUF,EAAIM,KAIhC,OAAOL,EA0BEM,CAAYjB,IAIhBC,GAGT,IAAK,IAAIe,KAAK1B,EACZb,EAAMgC,OAAOb,EAAYoB,EAAG1B,EAAK0B,MAIjC7B,EACF,IACEA,EAAO,CACLjB,OAAQA,EACRsC,OAAQvC,EACRD,UAAWA,IAEb,MAAOkD,IAKXC,QAAQ,gBAhHRC,CAAqBjD,KAEvBQ,GAAGC,cAAcX,EAAQY,MAAM,qBAAsB,SAAUC,GAC3C,GAAdA,EAAMC,OACRf,EAAYc,EAAMjB,QA+GfY","file":"toolkit/component/faketab.js","sourcesContent":["/**\n * Created by leonlin on 16/11/3.\n */\ndefine([], function () {\n  return function (data) {\n    if (data == undefined) {\n      throw new Error(\"undefined\");\n    }\n\n    var element = data.element;\n    var global = data.global;\n    var condition;\n    var coldomInner = data.coldomInner;\n    var previewMode = data.previewMode;\n    var traverseColumn = data.traverseColumn;\n    var rowDom = data.rowDom;\n    var customMethodService = data.customMethodService;\n    var expression = expression || {};\n    ;\n    var ulDom = $(\"<div class='nav nav-tabs'></div>\");\n    $$.runExpression(element.$attr(\"advance/expression\"), function (expFn) {\n      if (expFn.code == 0) {\n        expression = expFn.data;\n      }\n\n      runExpressionSuccess(expression);\n    });\n    $$.runExpression(element.$attr(\"advance/condition\"), function (expFn) {\n      if (expFn.code == 0) {\n        condition = expFn.data;\n      }\n    });\n\n    function runExpressionSuccess(expression) {\n      var format = expression.format || {\n        label: \"label\",\n        value: \"value\"\n      };\n      var initFn = expression.$attr(\"on/init\");\n      element.tabInx = 0;\n\n      element.render = function (list, config) {\n        config = config || {};\n\n        if (config.class) {\n          ulDom.addClass(config.class);\n        }\n\n        ulDom.children().remove();\n\n        var createLiDom = function createLiDom(index, item) {\n          var clickFn = item.$attr(\"on/click\") || expression.$attr(\"on/click\");\n          var addOn = item.addOn;\n          var liDom = $(\"<li style='cursor:pointer;'></li>\");\n          var icon = $(\"<span></span>\");\n          var text = $(\"<span></span>\");\n          icon.addClass(item.icon);\n\n          var createAddOn = function createAddOn(obj) {\n            var btnGroup = $(\"<span></span>\");\n            btnGroup.css(\"padding\", \"0 0 0 5px\");\n\n            var createDom = function createDom(dom) {\n              var btn = $(\"<button></button>\");\n              btn.addClass(\"btn btn-sm btn-default\");\n              var icon = $(\"<span></span>\");\n              var clickFn = dom.$attr(\"on/click\");\n              icon.addClass(dom.$attr(\"icon\"));\n              btn.append(icon);\n              btn.css(\"padding\", \"0 3px\");\n\n              if (clickFn) {\n                btn.on(\"click\", function (event) {\n                  event.stopPropagation();\n                  clickFn(event);\n                });\n              }\n\n              ;\n              return btn;\n            };\n\n            for (var i in obj) {\n              btnGroup.append(createDom(obj[i]));\n            }\n\n            ;\n            return btnGroup;\n          };\n\n          if (index == element.tabInx) {\n            liDom.addClass(\"active\");\n          }\n\n          var a = $(\"<a></a>\");\n          icon.css(\"margin-right\", \"3px\");\n          text.text(item[format['label']]);\n\n          var clickFunction = function clickFunction(event) {\n            if (typeof clickFn == \"function\") {\n              clickFn({\n                target: element,\n                value: item\n              });\n            }\n          };\n\n          liDom.on(\"click\", clickFunction);\n          a.append(icon);\n          a.append(text);\n          liDom.append(a);\n\n          if (addOn) {\n            a.append(createAddOn(addOn));\n          }\n\n          ;\n          return liDom;\n        };\n\n        for (var i in list) {\n          ulDom.append(createLiDom(i, list[i]));\n        }\n      };\n\n      if (initFn) {\n        try {\n          initFn({\n            global: global,\n            target: element,\n            condition: condition\n          });\n        } catch (e) {\n          ;\n        } finally {}\n      }\n\n      runtime(\"faketime创建完毕\");\n    }\n\n    return ulDom;\n  };\n});"],"sourceRoot":"/source/"}