{"version":3,"sources":["toolkit/component/resourcelist.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","define","data","element","previewMode","serviceCenterService","fun","advance","getfunction","innerContent","$","addClass","items","header","tr","append","createTh","item","text","i","tbody","method","eval","callback","createContent","index","date","Date","createTime","month","getMonth","getFullYear","getDate","getHours","getMinutes","getSeconds","value","parseInt","Math","random","liquid","inpress","outpress","temparature","health","progress","css","td","span","addItem","label","path","managedStatus","length","prmise","run","then","event","code"],"mappings":"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","file":"toolkit/component/resourcelist.js","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Created by leonlin on 16/11/3.\n */\ndefine([], function () {\n  return function (data) {\n    var element = data.element;\n    var previewMode = data.previewMode;\n    var serviceCenterService = data.serviceCenterService;\n    var fun = element.advance.getfunction;\n    var innerContent = $(\"<table></table>\").addClass(\"table table-hover\");\n    var items = ['设备名', '流量', '进水压力', '出水压力', '温度', '创建日期', '健康度', '当前状态'];\n    var header = $('<thead></thead>');\n    var tr = $(\"<tr></tr>\");\n    header.append(tr);\n\n    var createTh = function createTh(item) {\n      return $(\"<th></th>\").text(item);\n    };\n\n    for (var i in items) {\n      tr.append(createTh(items[i]));\n    }\n\n    var tbody = $(\"<tbody></tbody>\");\n    innerContent.append(header).append(tbody);\n    var method = eval(fun);\n\n    var callback = function callback(data) {\n      ;\n\n      var createContent = function createContent(index, item) {\n        var date = new Date(item.createTime);\n        var month = date.getMonth() + 1;\n        var year = date.getFullYear();\n        var dt = date.getDate();\n        var hour = date.getHours() > 9 ? date.getHours() : \"0\" + date.getHours();\n        var minute = date.getMinutes() > 9 ? date.getMinutes() : \"0\" + date.getMinutes();\n        var second = date.getSeconds() > 9 ? date.getSeconds() : \"0\" + date.getSeconds();\n        var createTime = year + \"-\" + month + \"-\" + dt + \"  \" + hour + \":\" + minute + \":\" + second;\n        var value = parseInt(Math.random() * 100);\n        var liquid = parseInt(Math.random() * 100) + \"m³ /s\";\n        var inpress = parseInt(Math.random() * 100) + \"Pa\";\n        var outpress = parseInt(Math.random() * 100) + \"Pa\";\n        var temparature = parseInt(Math.random() * 100) + \"℃\";\n        var health = $('<div></div>').addClass(\"progress sm\");\n        var progress = $('<div></div>').addClass(\"progress-bar\").css(\"width\", value);\n        health.append(progress);\n\n        switch (true) {\n          case value == 100:\n            progress.addClass(\"progress-bar-aqua\");\n            break;\n\n          case value > 90:\n            progress.addClass(\"progress-bar-green\");\n            break;\n\n          case value > 80:\n            progress.addClass(\"progress-bar-yellow\");\n            break;\n\n          case value > 70:\n            progress.addClass(\"progress-bar-yellow\");\n            break;\n\n          case value > 60:\n            progress.addClass(\"progress-bar-red\");\n            break;\n\n          default:\n            progress.addClass(\"progress-bar-danger\");\n            break;\n        }\n\n        var tr = $(\"<tr></tr>\");\n\n        var addLabel = function addLabel(item) {\n          var td = $(\"<td></td>\");\n          var span = $(\"<span><span>\").text(item.label);\n\n          if (item.path) {\n            span.css(\"text-decoration\", \"underline\").css(\"color\", \"#3c8dbc\").css(\"font-weight\", \"bold\").css(\"curosr\", \"pointer\");\n          }\n\n          td.append(span);\n          return td;\n        };\n\n        var addItem = function addItem(item) {\n          var td = $(\"<td></td>\");\n\n          if (_typeof(item) == 'object') {\n            td.append(item);\n          } else {\n            td.append($(\"<span></span>\").text(item));\n          }\n\n          return td;\n        };\n\n        var addStatus = function addStatus(item) {\n          var td = $(\"<td></td>\");\n          var span = $(\"<span></span>\").addClass(\"label label-info\");\n          td.append(span);\n\n          if (item.path && item.managedStatus) {\n            span.text(\"开机\");\n          } else {\n            span.text(\"离线\");\n          }\n\n          return td;\n        };\n\n        tr.append(addLabel(item));\n        tr.append(addItem(liquid));\n        tr.append(addItem(inpress));\n        tr.append(addItem(outpress));\n        tr.append(addItem(temparature));\n        tr.append(addItem(createTime));\n        tr.append(addItem(health));\n        tr.append(addStatus(item));\n        return tr;\n\n        if (previewMode) {\n          tr.on(\"click\", function (event) {\n            if (item.path) {\n              window.location.href = \"../app-sc/index_freeboard.html#/freeboard/\" + routeParams['page'] + \"|\" + item.path;\n            }\n          });\n        }\n      };\n\n      for (var i = 0; i < (data.length > 10 ? 10 : data.length); i++) {\n        tbody.append(createContent(i, data[i]));\n      }\n    };\n\n    if (typeof method == \"function\") {\n      var prmise = method();\n\n      if ((typeof run === \"undefined\" ? \"undefined\" : _typeof(run)) == \"object\") {\n        prmise.then(callback);\n      } else {\n        method(function (event) {\n          if (event.code == 0 && event.data != null) {\n            callback(event.data);\n          }\n        });\n      }\n    }\n\n    return innerContent;\n  };\n});"],"sourceRoot":"/source/"}