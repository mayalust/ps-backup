{"version":3,"sources":["api/fakeajax.js"],"names":["module","exports","app","path","fn","dataJson","type","customer","label","sn","attention","message","level","startTime","alertTimes","newAlertTime","state","next","arr","i","obj","index","parseInt","Math","random","push","post","split","join","req","res","_next","d","a","str","JSON","stringify","e","Error","code","data","write","end","console","error","rs"],"mappings":"AAAAA,OAAOC,QAAU,SAAUC,GA0CzB,IA1BcC,EAAMC,EA0BhBC,EAAW,CACbC,KAAM,CAAC,KAAM,MACbC,SAAU,CAAC,KAAM,OACjBC,MAAO,CAAC,cAAe,cAAe,cAAe,cAAe,SAAU,UAC9EC,GAAI,CAAC,IAAK,IAAK,KACfC,UAAW,CAAC,KAAM,MAClBC,QAAS,CAAC,QACVC,MAAO,CAAC,KAAM,KAAM,MACpBC,UAAW,CAAC,sBACZC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,GACzBC,aAAc,CAAC,sBACfC,MAAO,CAAC,MAAO,QArCHb,EAuCT,yBAvCeC,EAuCW,SAAUa,GAGvC,IAFA,IAAIC,EAAM,GAEDC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAIC,EAAM,CACRC,MAAOF,EAAI,EAAI,KAAOA,EAAI,GAAKA,EAAI,EACnCb,KAAMD,EAAS,KAAQiB,SAAc,EAALC,KAAKC,SAAyB,EAAG,KACjEjB,SAAUF,EAAS,SAAYiB,SAAc,EAALC,KAAKC,SAAyB,EAAG,KACzEhB,MAAOH,EAAS,MAASiB,SAAc,EAALC,KAAKC,SAAyB,EAAG,KACnEf,GAAIJ,EAAS,GAAMiB,SAAc,EAALC,KAAKC,SAAyB,EAAG,KAC7Dd,UAAWL,EAAS,UAAaiB,SAAc,EAALC,KAAKC,SAAyB,EAAG,KAC3Eb,QAASN,EAAS,QAAW,GAC7BO,MAAOP,EAAS,MAASiB,SAAc,EAALC,KAAKC,SAAyB,EAAG,KACnEX,UAAWR,EAAS,UAAa,GACjCS,WAAYT,EAAS,WAAciB,SAAc,EAALC,KAAKC,SAAyB,EAAG,KAC7ET,aAAcV,EAAS,aAAgB,GACvCW,MAAOX,EAAS,MAAS,IAE3Ba,EAAIO,KAAKL,GAGXH,EAAKC,IA3DLhB,EAAIwB,KAhBS,kBAgBOvB,EAAKwB,MAAM,KAAKC,KAAK,KAAM,SAAUC,EAAKC,GAC5D,IAAIC,EAAQ,SAAcC,GACxB,IAAIC,EAhBV,SAAmBC,GACjB,IAAID,EAEJ,IACEA,EAAIE,KAAKC,UAAUF,GACnB,MAAOG,GACP,MAAM,IAAIC,MAAMD,GAIlB,OAAOJ,EAMKG,CAAU,CAChBG,KAAM,EACNC,KAAMR,EACNrB,QAAS,OAGPsB,IACFH,EAAIW,MAAMR,GACVH,EAAIY,OAGNX,EAAQ,WACNY,QAAQC,MAAM,wEAGdC,EAAKzC,EAAG2B,QAEM,IAAPc,GACTd,EAAMc","file":"api/fakeajax.js","sourcesContent":["module.exports = function (app) {\n  var basename = \"/api/rest/post/\";\n\n  function stringify(str) {\n    var a;\n\n    try {\n      a = JSON.stringify(str);\n    } catch (e) {\n      throw new Error(e);\n      return;\n    }\n\n    return a;\n  }\n\n  function post(path, fn) {\n    app.post(basename + path.split(\".\").join(\"/\"), function (req, res) {\n      var _next = function next(d) {\n        var a = stringify({\n          code: 0,\n          data: d,\n          message: null\n        });\n\n        if (a) {\n          res.write(a);\n          res.end();\n        }\n\n        _next = function next() {\n          console.error(\"process already finished, next function will not be executed twice\");\n        };\n      },\n          rs = fn(_next);\n\n      if (typeof rs !== \"undefined\") {\n        _next(rs);\n      }\n    });\n  }\n\n  var dataJson = {\n    type: [\"废气\", \"废水\"],\n    customer: [\"电厂\", \"炼铁厂\"],\n    label: [\"1#发电单元脱硝A进口\", \"1#发电单元脱硝B进口\", \"2#发电单元脱硝A进口\", \"1#发电单元脱硝B进口\", \"烧结3#排口\", \"烧结4#排口\"],\n    sn: [300, 301, 302],\n    attention: [\"国控\", \"市控\"],\n    message: [\"排放超标\"],\n    level: [\"注意\", \"警告\", \"危险\"],\n    startTime: [\"2018.11.12  08:24 \"],\n    alertTimes: [1, 2, 3, 4, 5],\n    newAlertTime: [\"2018.11.12  09:25 \"],\n    state: [\"待确认\", \"已完成\"]\n  };\n  post(\"resourceUIService.test\", function (next) {\n    var arr = []; //parseInt(Math.random()*(max-min+1)+min,10)\n\n    for (var i = 0; i < 20; i++) {\n      var obj = {\n        index: i < 9 ? \"0\" + (i + 1) : i + 1,\n        type: dataJson[\"type\"][parseInt(Math.random() * (1 - 0 + 1) + 0, 10)],\n        customer: dataJson[\"customer\"][parseInt(Math.random() * (1 - 0 + 1) + 0, 10)],\n        label: dataJson[\"label\"][parseInt(Math.random() * (5 - 0 + 1) + 0, 10)],\n        sn: dataJson[\"sn\"][parseInt(Math.random() * (2 - 0 + 1) + 0, 10)],\n        attention: dataJson[\"attention\"][parseInt(Math.random() * (1 - 0 + 1) + 0, 10)],\n        message: dataJson[\"message\"][0],\n        level: dataJson[\"level\"][parseInt(Math.random() * (2 - 0 + 1) + 0, 10)],\n        startTime: dataJson[\"startTime\"][0],\n        alertTimes: dataJson[\"alertTimes\"][parseInt(Math.random() * (4 - 0 + 1) + 0, 10)],\n        newAlertTime: dataJson[\"newAlertTime\"][0],\n        state: dataJson[\"state\"][0]\n      };\n      arr.push(obj);\n    }\n\n    next(arr);\n  });\n};"],"sourceRoot":"/source/"}